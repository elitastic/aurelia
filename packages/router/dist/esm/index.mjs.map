{"version":3,"file":"index.mjs","sources":["../../src/endpoints/endpoint.ts","../../src/endpoints/endpoint-content.ts","../../src/found-route.ts","../../../../node_modules/tslib/tslib.es6.js","../../src/instructions/instruction-parser.ts","../../src/router-options.ts","../../src/instructions/instruction-parameters.ts","../../src/instructions/instruction-component.ts","../../src/utilities/utils.ts","../../src/utilities/open-promise.ts","../../src/utilities/runner.ts","../../src/route.ts","../../src/decorators/routes.ts","../../src/endpoints/viewport-scope-content.ts","../../src/endpoints/viewport-scope.ts","../../src/navigation.ts","../../src/utilities/awaitable-map.ts","../../src/endpoints/viewport-content.ts","../../src/endpoints/viewport-options.ts","../../src/endpoints/viewport.ts","../../src/instructions/instruction-endpoint.ts","../../src/instructions/routing-instruction.ts","../../src/navigator.ts","../../src/route-recognizer.ts","../../src/utilities/collection.ts","../../src/endpoint-matcher.ts","../../src/routing-scope.ts","../../src/utilities/task-queue.ts","../../src/browser-viewer-store.ts","../../src/navigation-coordinator.ts","../../src/routing-hook.ts","../../src/title.ts","../../src/router.ts","../../src/resources/link-handler.ts","../../src/decorators/route.ts","../../src/resources/utils.ts","../../src/resources/viewport.ts","../../src/resources/viewport-scope.ts","../../src/resources/load.ts","../../src/resources/href.ts","../../src/resources/considered-active.ts","../../src/configuration.ts"],"sourcesContent":[null,null,null,"/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["Endpoint","constructor","router","name","connectedCE","options","this","contents","transitionAction","path","getContent","getNextContent","length","getTimeContent","_timestamp","Infinity","getNavigationContent","navigation","NavigationCoordinator","Navigation","find","content","activeContent","connectedScope","scope","owningScope","connectedController","$controller","isViewport","Viewport","isViewportScope","ViewportScope","isEmpty","pathname","toString","Error","setNextContent","_instruction","_navigation","setConnectedCE","_connectedCE","_options","transition","_coordinator","finalizeContentChange","_step","cancelContentChange","_noExitStep","getRoutes","getTitle","removeEndpoint","forEach","delete","canUnload","canLoad","unload","load","EndpointContent","endpoint","hasScope","instruction","RoutingInstruction","create","fullStateInstruction","completed","RoutingScope","rootScope","parent","addChild","isActive","removeChild","FoundRoute","match","matching","instructions","remaining","params","foundConfiguration","foundInstructions","some","component","none","hasRemaining","hasNextScopeInstructions","__decorate","decorators","target","key","desc","c","arguments","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","InstructionParser","static","seps","grouped","topScope","startsWith","sibling","isAdd","routingInstructions","guard","slice","groupStart","found","parse","nextScopeInstructions","push","groupEnd","ii","routingInstruction","parseOne","add","viewport","tokens","parameters","noScope","parametersString","token","pos","unparsed","specials","clear","special","shift","findNextToken","parametersEnd","matches","tokenPos","indexOf","Math","min","values","TitleOptions","appTitle","appTitleSeparator","componentTitleOrder","componentTitleSeparator","useComponentNames","componentPrefix","transformTitle","input","context","RouterOptions","for","title","apply","Separators","parameterSeparator","parameterKeySeparator","action","separators","Indicators","loadActive","viewportNavigating","indicators","useUrlFragmentHash","basePath","useHref","statefulHistoryLength","useDirectRouting","useConfiguredRoutes","additiveInstructionDefault","navigationSyncStates","swapOrder","fallback","fallbackAction","registrationHooks","RouterConfiguration","Router","configuration","get","IRouterConfiguration","Array","isArray","hooks","routerConfiguration","hook","addHook","setRouterConfiguration","InstructionParameters","parametersRecord","parametersList","parametersType","componentParameters","set","uriComponent","list","split","param","value","decodeURIComponent","map","keys","sort","typedParameters","encodeURIComponent","join","parametersToSearch","parametersToFind","every","filter","p","addParameters","toSpecifiedParameters","specifications","specified","spec","index","findIndex","parameter","splice","toSortedParameters","sorted","a","b","same","other","componentType","typeParameters","mine","others","InstructionComponent","type","instance","promise","func","componentAppelation","CustomElement","isType","Type","isCustomElementViewModel","isName","isInstance","getDefinition","getName","Promise","getNewName","getType","getInstance","resolve","then","isAppelation","default","isFunction","isPromise","toType","container","has","keyFrom","resolver","getResolver","getFactory","factory","toInstance","parentContainer","parentController","parentElement","createChild","routerComponentResolver","controller","Controller","$el","compareType","$isResolver","_","requestor","root","console","warn","arrayRemove","arr","removed","arrIndex","arrayUnique","includeNullish","item","arrAgain","OpenPromise","isPending","reject","_resolve","_reject","reason","Runner","isDone","isCancelled","isResolved","isRejected","isAsync","predecessor","steps","newRoot","Step","start","connect","runParallel","process","result","runners","step","cancel","predecessorOrParent","parallel","asChild","next","previous","child","isDoing","current","isParallelParent","Function","isExited","ensurePromise","$step","$promise","settlePromise","nextToDo","doneAll","catch","err","finally","outcome","WeakMap","roots","exited","id","results","tail","asValue","previousValue","head","done","all","exit","nextOrUp","tree","report","Route","redirectTo","caseSensitive","reloadBehavior","data","Metadata","hasOwn","resourceKey","configOrPath","config","define","getOwn","configOrType","transferTypeToComponent","getConfiguration","transferIndividualIntoInstructions","validateRouteConfiguration","pathId","children","Protocol","resource","keyFor","Routes","isConfigured","configure","configurationsOrTypes","configurations","routes","metadata","route","ViewportScopeContent","rootComponentType","catches","source","super","available","sourceItem","sourceItemIndex","remove","passThroughScope","siblings","enabledChildren","contentName","nextContentName","isClear","isClearAll","coordinator","run","setEndpointStep","addEndpointState","nextContentIndex","nextContent","emptyContent","removeable","removeSourceItem","noExitStep","Set","acceptSegment","segment","includes","binding","getAvailableSourceItem","unbinding","addSourceItem","StoredNavigation","entry","firstEntry","query","fragment","toStoredNavigation","NavigationFlags","first","new","refresh","forward","back","replace","repeating","fromBrowser","origin","replacing","refreshing","untracked","historyMovement","timestamp","Date","now","useFullStateInstruction","AwaitableMap","Map","openPromise","await","clone","ViewportContent","contentStates","fromCache","fromHistory","reload","activatedResolve","toComponentType","componentInstance","equalComponent","sameComponent","equalParameters","isCacheEqual","contentController","element","createComponent","toComponentInstance","e","message","ee","parentParameters","parentViewport","merged","getLifecycleHooks","innerStep","hooksResult","loading","unloading","activateComponent","initiator","boundCallback","attachPromise","waitForParent","activate","deactivateComponent","stateful","elements","from","getElementsByTagName","el","scrollTop","scrollLeft","setAttribute","deactivate","disposeComponent","cache","dispose","freeContent","toComponentName","activeResolve","lifecycleHooks","bind","ViewportOptions","usedBy","_default","noLink","noTitle","forceDescription","noHistory","undefined","created","str","forceRemove","connectionResolve","coordinators","previousViewportState","historyCache","lastCompleted","doForceRemove","isActiveNavigation","cached","clearState","parentDefaultRoute","foundRoute","findInstructions","append","error","statefulHistory","removes","innerInnerStep","async","navigatingPrefix","waitForSyncState","actingParentViewport","guardSteps","isRestrictedNavigation","routerOptions","waitForEndpointState","canLoadResult","routingSteps","lifecycleSteps","removeContent","addContent","setActivity","_err","waitForConnected","navigationContent","manualDispose","unloadStep","previousContent","coord","getEndpointStep","cancelled","assign","wantComponent","acceptComponent","getComponentType","typeTitle","getComponentInstance","call","getContentInstruction","prefix","toLocaleUpperCase","InstructionEndpoint","endpointType","endpointHandle","getEndpoint","compareScope","ownsScope","scopeModifier","needsEndpointDescribed","routeStart","topInstruction","loadInstructions","isDefinition","viewportComponent","newInstruction","exec","parsedInstructions","excludeEndpoint","endpointContext","stringify","resolvePromises","instr","isUnresolved","containsSiblings","flat","keepInstances","instructionsToSearch","instructionsToFind","deep","isIn","viewportScope","isAddAll","sameRoute","thisRoute","otherRoute","compareParameters","sameParameters","sameEndpoint","shallow","excludeCurrentEndpoint","excludeCurrentComponent","nextInstructions","stringified","stringifyShallow","endsWith","nextStringified","searchIn","instructionType","thisType","instructionParameters","thisParameters","contains","matched","routeTitle","toJSON","excludeComponent","part","instructionString","specification","NavigatorNavigateEvent","eventName","Navigator","ea","lastNavigationIndex","navigations","uninitializedNavigation","stop","navigate","navigationFlags","loadState","max","notifySubscribers","isLast","store","popNavigatorState","saveState","indexPreserve","navig","serializeNavigation","go","movement","newIndex","getState","state","navigationIndex","toStoreableNavigation","pushNavigatorState","replaceNavigatorState","publish","storeable","preservedNavigations","excludeComponents","preservedNavigation","alreadyDone","freeInstructionComponents","exclude","nextInstruction","IEventAggregator","IContainer","RouteRecognizer","$RouteRecognizer","ConfigurableRoute","$ConfigurableRoute","RecognizedRoute","$RecognizedRoute","$Endpoint","Collection","currentIndex","removeCurrent","EndpointMatcher","routingScope","alreadyMatched","disregardViewports","matchedInstructions","ownedScopes","getOwnedRoutingScopes","endpoints","availableEndpoints","matchKnownEndpoints","matchViewportScopeSegment","matchViewportConfiguration","matchSpecifiedViewport","matchLastViewport","remainingInstructions","doesntNeedViewportDescribed","matchEndpoint","getOwnedScopes","availableViewports","endpointContent","lastId","searchParents","closestEndpoint","closestEndpointKey","safeInstruction","enabled","parentPath","sep","recurse","toStringOwning","hoistedChildren","scopes","includeDisabled","allScopes","earlierMatchedInstructions","configuredRoutePath","nonRouteInstructions","unknownRoute","unresolvedPromise","ensureClearStateInstruction","clearEndpoints","getClearAllEndpoints","addInstruction","allChangedEndpoints","matchEndpoints","unresolvedInstructionsError","changedEndpoints","matchedEndpoints","createClear","hooked","RoutingHook","invokeBeforeNavigation","cancelNavigation","skipped","matchedInstruction","addEndpoint","dontClear","nextScopeInstruction","processInstructions","skipping","skippingWithMore","finalEndpoint","hasAllEndpoints","guardedUnload","changedEndpoint","running","waitForSwapped","nextProcesses","nextScope","dequeueAppendedInstructions","pendingEndpoints","pendingPromise","any","reverse","clearAll","clearInstructions","nonClearInstructions","idOrPath","findMatchingRoute","alreadyFound","allMatchedInstructions","scopeInstructions","allRemainingInstructions","vp","reparentRoutingInstructions","childInstructions","getChildren","getAllRoutingScopes","passThrough","getRoutingInstructions","stepParallel","childStep","matchScope","findMatchingRouteInRoutes","ensureProperRoute","cRoutes","paths","handler","idRoute","segments","recognizer","recognize","$params","remainingPath","deleteProperty","redirectedTo","unshift","lastInstruction","QueueTask","taskQueue","cost","execute","wait","TaskQueue","task","callback","pending","processing","allowedExecutionCostWithinTick","currentExecutionCostInCurrentTick","platform","dequeue","delta","domWriteQueue","queueTask","persistent","enqueue","itemOrItems","costOrCosts","items","costs","tasks","createQueueTask","_task","BrowserViewerStore","window","history","location","forwardedState","eventTask","suppressPopstate","pendingCalls","addEventListener","removeEventListener","viewerState","search","hash","NavigatorViewerState","suppressEvent","doneTask","forwardState","titleOrEmpty","url","pushState","setTitle","clean","tryCleanState","lastNavigation","replaceState","popState","document","handleEvent","handlePopStateEvent","event","ev","NavigatorStateChangeEvent","originalError","JSON","IPlatform","IWindow","IHistory","ILocation","navigatorState","Entity","states","checkedStates","syncingState","syncPromise","hasReachedState","appendedInstructions","entities","syncStates","checkedSyncStates","addSyncState","entity","recheckSyncStates","ent","checkSyncState","_promise","finalize","abort","navigator","enqueueAppendedInstructions","nonDefaultInstructions","defaultInstructions","appendedInstruction","foundEarlierExisting","existingMatched","existingRemaining","includeTargets","excludeTargets","include","Target","hookFunction","lastIdentity","prototype","hasOwnProperty","navigationInstruction","invoke","arg","wantsMatch","beforeNavigation","transformFromUrl","transformToUrl","componentName","viewportName","cvTarget","Title","titleOptions","invokeTransformTitle","componentTitles","stringifyTitles","titles","stringifyTitle","resolveTitle","IRouter","DI","createInterface","x","singleton","inject","viewer","activeComponents","loadedFirst","handleNavigatorNavigateEvent","processNavigation","handleNavigatorStateChangeEvent","RouterNavigationStartEvent","transformedInstruction","invokeTransformFromUrl","updateNavigation","RouterNavigationCompleteEvent","RouterNavigationEndEvent","isNavigating","IAppRoot","viewModel","URL","host","baseURI","navigatorStateChangeEventSubscription","subscribe","navigatorNavigateEventSubscription","RouterStartEvent","RouterStopEvent","allEndpoints","_type","_args","connectEndpoint","parentScope","Registration","register","disconnectEndpoint","extractFragment","extractQuery","applyLoadOptions","appendInstructions","keepString","loadInstruction","checkActive","scopeActives","RouterNavigationErrorEvent","createUnresolvedinstructionsError","RouterNavigationCancelEvent","activeNavigation","invokeTransformToUrl","URLSearchParams","entries","fullViewportStates","targetRoute","searchParams","annotation","log","RouterEvent","RouterNavigationEvent","ILinkHandler","LinkHandler","handleClick","button","altKey","ctrlKey","metaKey","shiftKey","currentTarget","hasAttribute","targetWindow","getAttribute","loadAttr","CustomAttribute","href","preventDefault","getValueOrAttribute","useValue","doExistCheck","attribute","waitForRouterStart","subscription","getConsideredActiveInstructions","activeInstructions","getLoadIndicator","indicator","tagName","bmToView","BindingMode","toView","ParentViewport","createInjectable","ViewportCustomElement","pendingChildren","isBound","hydrated","hasDefault","props","to","_parent","detaching","_initiator","disconnect","active","classList","toggle","bindable","customElement","injectable","INode","IInstruction","ParentViewportScope","ViewportScopeCustomElement","collection","bound","checkExists","template","containerless","IController","LoadCustomAttribute","linkHandler","_separateProperties","hasHref","navigationEndHandler","updateActive","activeClass","updateValue","routerNavigationSubscription","valueChanged","_newValue","_findRoute","scopePath","routeValue","mode","customAttribute","HrefCustomAttribute","hasLoad","vmKind","noMultiBindings","ConsideredActiveCustomAttribute","RouterRegistration","DefaultComponents","ViewportCustomElementRegistration","ViewportScopeCustomElementRegistration","LoadCustomAttributeRegistration","HrefCustomAttributeRegistration","DefaultResources","_this","AppTask","activating","configurationCall","activated","initialLoad","deactivated","createContainer","firstResetDefaults","removeHook","removeAllHooks","removeAll"],"mappings":"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"}