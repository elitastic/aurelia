{"version":3,"file":"index.mjs","sources":["../../src/utilities.ts","../../src/binding-mode.ts","../../src/interfaces-template-compiler.ts","../../src/attribute-mapper.ts","../../src/attribute-pattern.ts","../../src/utilities-metadata.ts","../../src/instructions.ts","../../src/errors.ts","../../src/binding-command.ts","../../src/template-element-factory.ts","../../src/utilities-dom.ts","../../src/template-compiler.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["isString","v","createInterface","DI","objectFreeze","Object","freeze","aliasTo","aliasRegistration","singleton","singletonRegistration","Registration","etInterpolation","etIsFunction","etIsProperty","definitionTypeElement","BindingMode","default","oneTime","toView","fromView","twoWay","ITemplateCompiler","IAttrMapper","CharSpec","constructor","chars","repeat","isSymbol","isInverted","this","length","has","_hasOfNoneInverse","_hasOfSingleInverse","_hasOfMultipleInverse","_hasOfNone","_hasOfSingle","_hasOfMultiple","equals","other","char","includes","_char","Interpretation","parts","emptyArray","_pattern","_currentRecord","_partsRecord","pattern","value","append","ch","currentRecord","undefined","next","partsRecord","push","AttrParsingState","_isEndpoint","_patterns","charSpec","patterns","_nextStates","_types","findChild","nextStates","len","child","i","state","findMatches","interpretation","results","childLen","j","StaticSegment","text","_len","specs","_specs","eachChar","callback","DynamicSegment","symbols","_spec","SymbolSegment","SegmentTypes","statics","dynamics","ISyntaxInterpreter","x","SyntaxInterpreter","_rootState","_initialStates","add","defs","slice","sort","d1","d2","ii","currentState","def","types","segments","charSpecCb","_parse","interpret","name","states","_getNextStates","charAt","filter","isEndpoint","sortEndpoint","result","start","c","a","b","aTypes","bTypes","AttrSyntax","rawName","rawValue","target","command","IAttributePattern","IAttributeParser","AttributeParser","_cache","interpreter","_interpreter","resolve","attrPatterns","AttributePattern","findAll","IContainer","allDefs","reduce","attrPattern","patternDefs","getAllPatternDefinitions","forEach","concat","parse","attributePattern","decorator","define","Type","get","WeakMap","getResourceKeyFor","set","Registrable","container","register","getPatternDefinitions","root","getAll","DotSeparatedAttributePattern","RefAttributePattern","_parts","EventAttributePattern","ColonPrefixedBindAttributePattern","AtPrefixedTriggerAttributePattern","SpreadAttributePattern","getMetadata","Metadata","defineMetadata","hydrateElement","hydrateAttribute","hydrateTemplateController","hydrateLetElement","setProperty","interpolation","propertyBinding","letBinding","refBinding","iteratorBinding","multiAttr","textBinding","listenerBinding","attributeBinding","stylePropertyBinding","setAttribute","setClassAttribute","setStyleAttribute","spreadBinding","spreadElementProp","InstructionType","IInstruction","InterpolationInstruction","from","to","type","PropertyBindingInstruction","mode","IteratorBindingInstruction","forOf","props","RefBindingInstruction","SetPropertyInstruction","MultiAttrInstruction","HydrateElementInstruction","res","projections","containerless","captures","data","HydrateAttributeInstruction","alias","HydrateTemplateController","HydrateLetElementInstruction","instructions","toBindingContext","LetBindingInstruction","TextBindingInstruction","ListenerBindingInstruction","capture","modifier","StylePropertyBindingInstruction","SetAttributeInstruction","SetClassAttributeInstruction","SetStyleAttributeInstruction","AttributeBindingInstruction","attr","SpreadBindingInstruction","SpreadElementPropBindingInstruction","createMappedError","code","details","Error","String","padStart","map","bindingCommand","nameOrDefinition","context","addInitializer","BindingCommand","BindingCommandDefinition","aliases","key","create","nameOrDef","firstDefined","getCommandAnnotation","mergeArrays","getCommandKeyFrom","aliasName","$Type","bindingCommandTypeName","cmdBaseName","prop","Protocol","annotation","keyFor","staticResourceDefinitionMetadataKey","getDefinitionFromStaticAu","typeName","createDef","$au","keyFrom","definition","resourceBaseName","getAnnotation","find","resource","OneTimeBindingCommand","ignoreAttr","build","info","exprParser","attrMapper","bindable","node","camelCase","ToViewBindingCommand","FromViewBindingCommand","TwoWayBindingCommand","DefaultBindingCommand","defDefaultMode","isTwoWay","defaultBindingMode","ForBindingCommand","_attrParser","semiIdx","indexOf","attrName","trim","attrValue","attrSyntax","TriggerBindingCommand","CaptureBindingCommand","AttrBindingCommand","StyleBindingCommand","ClassBindingCommand","RefBindingCommand","SpreadBindingCommand","_info","ITemplateElementFactory","TemplateElementFactory","markupCache","p","IPlatform","_template","t","document","createElement","createTemplate","input","template","innerHTML","content","firstElementChild","needsWrapping","removeChild","cloneNode","nodeName","appendChild","parentNode","nextElementSibling","prevSibling","previousSibling","nodeType","textContent","nextSibling","createComment","createText","createTextNode","insertBefore","parent","newChildNode","insertManyBefore","newChildNodes","appendToTemplate","appendManyToTemplate","children","isElement","isTextNode","auslotAttr","defaultSlotName","generateElementName","id","TemplateCompiler","_bindableResolver","IBindablesInfoResolver","debug","resolveResources","compile","needsCompile","CompilationContext","enhance","_templateFactory","isTemplateElement","TEMPLATE_NODE_NAME","hooks","TemplateCompilerHooks","compiling","hasAttribute","localTemplateIdentifier","_compileLocalElement","_compileNode","compiledDef","dependencies","deps","rows","surrogates","_compileSurrogate","hasSlots","hasSlot","compileSpread","requestor","attrSyntaxs","targetDef","elDef","_findElement","toLowerCase","isCustomElement","_exprParser","attrDef","attrInstructions","attrBindableInstructions","bindablesInfo","primaryBindable","expr","isMultiBindings","attrTarget","_createCommand","commandBuildInfo","_attrMapper","_findAttr","isTemplateController","noMultiBindings","hasInlineBindings","_compileMultiBindings","primary","attrs","resetCommandBuildInfo","el","attributes","bindableInfo","realAttrTarget","realAttrValue","invalidSurrogateAttribute","removeAttribute","_compileLet","_compileElement","_compileText","current","firstChild","letInstructions","PrimitiveLiteralExpression","_markAsTarget","elName","getAttribute","isShadowDom","shadowOptions","hasCaptureFilter","removeAttr","noop","plainAttrInstructions","elBindableInstructions","tcInstructions","tcInstruction","elementInstruction","processContentResult","hasContainerless","canCapture","needsMarker","elementMetadata","processContent","call","voidDefinition","_shouldReorderAttrs","_reorder","shouldCompileContent","isMarker","_marker","_comment","auStartComment","auEndComment","_replaceByMarker","mostInnerTemplate","childContext","_createChild","childEl","targetSlot","hasAuSlot","slotTemplateRecord","slotTemplates","slotTemplate","marker","projectionCompilationContext","jj","isEmptyTextNode","childNodes","expressions","part","_text","attrRawValue","bindableAttrsInfo","valueLength","charCodeAt","localTemplates","toArray","querySelectorAll","numLocalTemplates","childElementCount","localTemplateNames","Set","localElementTypes","localTemplate","processTemplateName","bindableEls","properties","bindables","allBindables","bindableEl","property","attribute","ignoredAttributes","allowedLocalTemplateBindableAttributes","remove","LocalDepType","Reflect","defineProperty","pascalCase","compilationDeps","localElementType","d","_addLocalDep","orderSensitiveInputType","some","_instructions","modelOrValueOrMatcherIndex","checkedIndex","found","instruction","valueIndex","multipleIndex","createImplementationRegister","nodeValue","hasParent","_resourceResolver","IResourceResolver","IExpressionParser","_logger","ILogger","localEls","h","adoptNode","syntax","checkbox","radio","owningElementName","ITemplateCompilerHooks","allResources","templateCompilerHooks","_context"],"mappings":"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"}