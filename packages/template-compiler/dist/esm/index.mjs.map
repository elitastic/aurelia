{"version":3,"file":"index.mjs","sources":["../../src/utilities.ts","../../src/binding-mode.ts","../../src/interfaces-template-compiler.ts","../../src/attribute-mapper.ts","../../src/attribute-pattern.ts","../../src/utilities-metadata.ts","../../src/instructions.ts","../../src/errors.ts","../../src/binding-command.ts","../../src/template-element-factory.ts","../../src/utilities-dom.ts","../../src/template-compiler.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null],"names":["isString","v","createInterface","DI","objectFreeze","Object","freeze","aliasTo","aliasRegistration","singleton","singletonRegistration","Registration","etInterpolation","etIsFunction","etIsProperty","definitionTypeElement","BindingMode","default","oneTime","toView","fromView","twoWay","ITemplateCompiler","IAttrMapper","CharSpec","constructor","chars","repeat","isSymbol","isInverted","this","length","has","_hasOfNoneInverse","_hasOfSingleInverse","_hasOfMultipleInverse","_hasOfNone","_hasOfSingle","_hasOfMultiple","equals","other","char","includes","_char","Interpretation","parts","emptyArray","_pattern","_currentRecord","_partsRecord","pattern","value","append","ch","currentRecord","undefined","next","partsRecord","push","AttrParsingState","_isEndpoint","_patterns","charSpec","patterns","_nextStates","_types","findChild","nextStates","len","child","i","state","findMatches","interpretation","results","childLen","j","StaticSegment","text","_len","specs","_specs","eachChar","callback","DynamicSegment","symbols","_spec","SymbolSegment","SegmentTypes","statics","dynamics","ISyntaxInterpreter","x","SyntaxInterpreter","_rootState","_initialStates","add","defs","slice","sort","d1","d2","ii","currentState","def","types","segments","charSpecCb","_parse","interpret","name","states","_getNextStates","charAt","filter","isEndpoint","sortEndpoint","result","start","c","a","b","aTypes","bTypes","AttrSyntax","rawName","rawValue","target","command","IAttributePattern","IAttributeParser","AttributeParser","_cache","interpreter","_interpreter","resolve","attrPatterns","AttributePattern","findAll","IContainer","allDefs","reduce","attrPattern","patternDefs","getAllPatternDefinitions","forEach","concat","parse","attributePattern","decorator","define","Type","get","WeakMap","getResourceKeyFor","set","Registrable","container","register","getPatternDefinitions","root","getAll","DotSeparatedAttributePattern","RefAttributePattern","_parts","EventAttributePattern","ColonPrefixedBindAttributePattern","AtPrefixedTriggerAttributePattern","getMetadata","Metadata","defineMetadata","hydrateElement","hydrateAttribute","hydrateTemplateController","hydrateLetElement","setProperty","interpolation","propertyBinding","letBinding","refBinding","iteratorBinding","multiAttr","textBinding","listenerBinding","attributeBinding","stylePropertyBinding","setAttribute","setClassAttribute","setStyleAttribute","spreadTransferedBinding","spreadElementProp","spreadValueBinding","InstructionType","IInstruction","InterpolationInstruction","from","to","type","PropertyBindingInstruction","mode","IteratorBindingInstruction","forOf","props","RefBindingInstruction","SetPropertyInstruction","MultiAttrInstruction","HydrateElementInstruction","res","projections","containerless","captures","data","HydrateAttributeInstruction","alias","HydrateTemplateController","HydrateLetElementInstruction","instructions","toBindingContext","LetBindingInstruction","TextBindingInstruction","ListenerBindingInstruction","capture","modifier","StylePropertyBindingInstruction","SetAttributeInstruction","SetClassAttributeInstruction","SetStyleAttributeInstruction","AttributeBindingInstruction","attr","SpreadTransferedBindingInstruction","SpreadElementPropBindingInstruction","instruction","SpreadValueBindingInstruction","createMappedError","code","details","Error","String","padStart","map","bindingCommand","nameOrDefinition","context","addInitializer","BindingCommand","BindingCommandDefinition","aliases","key","create","nameOrDef","firstDefined","getCommandAnnotation","mergeArrays","getCommandKeyFrom","aliasName","$Type","bindingCommandTypeName","cmdBaseName","prop","Protocol","annotation","keyFor","staticResourceDefinitionMetadataKey","getDefinitionFromStaticAu","typeName","createDef","$au","keyFrom","definition","resourceBaseName","getAnnotation","find","resource","OneTimeBindingCommand","ignoreAttr","build","info","exprParser","attrMapper","camelCase","bindable","node","ToViewBindingCommand","FromViewBindingCommand","TwoWayBindingCommand","DefaultBindingCommand","defDefaultMode","isTwoWay","defaultBindingMode","ForBindingCommand","_attrParser","semiIdx","indexOf","attrName","trim","attrValue","attrSyntax","TriggerBindingCommand","CaptureBindingCommand","AttrBindingCommand","StyleBindingCommand","ClassBindingCommand","RefBindingCommand","SpreadValueBindingCommand","ITemplateElementFactory","TemplateElementFactory","markupCache","p","IPlatform","_template","t","document","createElement","createTemplate","input","template","innerHTML","content","firstElementChild","needsWrapping","removeChild","cloneNode","nodeName","appendChild","parentNode","nextElementSibling","prevSibling","previousSibling","nodeType","textContent","nextSibling","auLocationStart","auLocationEnd","insertBefore","parent","newChildNode","insertManyBefore","newChildNodes","appendToTemplate","appendManyToTemplate","children","isElement","isTextNode","auslotAttr","defaultSlotName","generateElementName","id","TemplateCompiler","debug","resolveResources","compile","needsCompile","CompilationContext","enhance","_templateFactory","isTemplateElement","TEMPLATE_NODE_NAME","hooks","TemplateCompilerHooks","compiling","hasAttribute","localTemplateIdentifier","_compileLocalElement","_compileNode","compiledDef","dependencies","deps","rows","surrogates","_compileSurrogate","hasSlots","hasSlot","compileSpread","requestor","attrSyntaxs","targetDef","elDef","_findElement","toLowerCase","isCustomElement","_exprParser","attrDef","attrInstructions","attrBindableInstructions","bindablesInfo","primaryBindable","expr","isMultiBindings","attrTarget","_getCommand","commandBuildInfo","_attrMapper","_getBindables","attrs","_findAttr","isTemplateController","noMultiBindings","hasInlineBindings","_compileMultiBindings","primary","resetCommandBuildInfo","el","attributes","bindableInfo","realAttrTarget","realAttrValue","invalidSurrogateAttribute","removeAttribute","_compileLet","_compileElement","_compileText","current","firstChild","letInstructions","PrimitiveLiteralExpression","_markAsTarget","elName","getAttribute","isShadowDom","shadowOptions","hasCaptureFilter","removeAttr","noop","plainAttrInstructions","elBindableInstructions","tcInstructions","tcInstruction","elementInstruction","processContentResult","hasContainerless","canCapture","needsMarker","elementMetadata","spreadIndex","processContent","call","voidDefinition","_shouldReorderAttrs","_reorder","shouldCompileContent","isMarker","_marker","_comment","_replaceByMarker","mostInnerTemplate","childContext","_createChild","childEl","targetSlot","hasAuSlot","slotTemplateRecord","slotTemplates","slotTemplate","marker","projectionCompilationContext","jj","isEmptyTextNode","childNodes","expressions","part","_text","attrRawValue","bindableAttrsInfo","valueLength","charCodeAt","localTemplates","toArray","querySelectorAll","numLocalTemplates","childElementCount","localTemplateNames","Set","localElementTypes","localTemplate","processTemplateName","bindableEls","properties","bindables","allBindables","bindableEl","property","attribute","ignoredAttributes","allowedLocalTemplateBindableAttributes","remove","LocalDepType","Reflect","defineProperty","pascalCase","compilationDeps","localElementType","d","_addLocalDep","orderSensitiveInputType","some","_instructions","modelOrValueOrMatcherIndex","checkedIndex","found","valueIndex","multipleIndex","createImplementationRegister","nodeValue","hasParent","_resourceResolver","IResourceResolver","_commandResolver","IBindingCommandResolver","IExpressionParser","_logger","ILogger","localEls","createTextNode","createComment","h","adoptNode","syntax","checkbox","radio","DefaultBindingCommandResolver","record","owningElementName","ITemplateCompilerHooks","allResources","templateCompilerHooks","_context"],"mappings":"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"}