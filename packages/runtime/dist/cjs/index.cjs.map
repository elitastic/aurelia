{"version":3,"file":"index.cjs","sources":["../../src/utilities.ts","../../src/interfaces.ts","../../src/subscriber-batch.ts","../../src/subscriber-collection.ts","../../src/errors.ts","../../src/collection-length-observer.ts","../../src/array-observer.ts","../../src/set-observer.ts","../../src/map-observer.ts","../../src/connectable.ts","../../src/connectable-switcher.ts","../../src/proxy-observation.ts","../../src/computed-observer.ts","../../src/dirty-checker.ts","../../src/primitive-observer.ts","../../src/property-accessor.ts","../../src/setter-observer.ts","../../src/observer-locator.ts","../../src/effect-runner.ts","../../src/observable.ts","../../../../node_modules/tslib/tslib.es6.js","../../src/proxy-decorators.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    function next() {\r\n        while (env.stack.length) {\r\n            var rec = env.stack.pop();\r\n            try {\r\n                var result = rec.dispose && rec.dispose.call(rec.value);\r\n                if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n};\r\n",null],"names":["hasOwnProp","Object","prototype","hasOwnProperty","rtDef","Reflect","defineProperty","rtDefineHiddenProp","obj","key","value","enumerable","configurable","writable","ensureProto","proto","defaultValue","rtObjectAssign","assign","rtObjectFreeze","freeze","rtSafeString","String","rtCreateInterface","DI","createInterface","rtGetMetadata","Metadata","get","rtDefineMetadata","define","ICoercionConfiguration","atNone","atObserver","atNode","atLayout","AccessorType","None","Observer","Node","Layout","copyIndexMap","existing","deletedIndices","deletedItems","length","arr","Array","i","slice","isIndexMap","createIndexMap","cloneIndexMap","indexMap","clone","isArray","currBatch","Map","batching","batch","fn","prevBatch","newBatch","pair","subs","batchRecord","col","hasChanges","ii","has","set","notify","notifyCollection","addCollectionBatch","collection","addValueBatch","newValue","oldValue","subscriberCollection","target","context","subscriberCollectionDeco","getSubscriberRecord","this","SubscriberRecord","addSubscriber","subscriber","add","removeSubscriber","remove","decoratedTarget","WeakSet","constructor","count","_subs","_requestDirtySubs","_hasDirtySubs","includes","idx","indexOf","splice","val","oldVal","sub","handleChange","len","handleCollectionChange","notifyDirty","dirtySub","handleDirty","createMappedError","code","details","Error","padStart","map","CollectionLengthObserver","owner","type","_value","_obj","getValue","setValue","Number","isNaN","_arr","_","implementLengthObserver","CollectionSizeObserver","size","_collection","klass","subscribe","unsubscribe","getArrayObserver","lookupMetadataKey","Symbol","for","observerLookup","WeakMap","sortCompare","x","y","toString","preSortCompare","insertionSort","from","to","compareFn","velement","ielement","vtmp","itmp","order","j","quickSort","thirdIndex","v0","v1","v2","i0","i1","i2","c01","c02","c12","vpivot","ipivot","lowEnd","highStart","vtopElement","partition","methods","observe","overrideArrayPrototypes","$push","push","$unshift","unshift","$pop","pop","$shift","shift","$splice","$reverse","reverse","$sort","sort","args","o","apply","argCount","inserts","call","element","index","start","deleteCount","relativeStart","actualStart","Math","max","min","actualDeleteCount","itemCount","deleted","middle","lower","upper","lowerValue","lowerIndex","upperValue","upperIndex","isFunction","shouldNotify","method","enableArrayObservationCalled","observationEnabledKey","enableArrayObservation","undefined","observing","ArrayObserverImpl","array","indexObservers","lenObs","getLengthObserver","getIndexObserver","ArrayIndexObserverImpl","doNotCache","arrayObserver","noChange","prevValue","currValue","observer","getSetObserver","Set","$add","clear","$clear","delete","$delete","oldSize","newSize","keys","entry","deleteResult","enableSetObservation","SetObserverImpl","observedSet","getMapObserver","$set","entries","enableMapObservation","MapObserverImpl","connectableDecorator","BindingObserverRecord","b","version","forEach","unsubscribeStale","clearAll","unsubscribeAll","subscribable","getObserverRecord","obs","oL","getObserver","observeCollection","isSet","isMap","subscribeTo","noopHandleChange","noopHandleCollectionChange","connectable","_connectable","connectables","connecting","pauseConnecting","resumeConnecting","currentConnectable","enterConnectable","exitConnectable","ConnectableSwitcher","current","enter","exit","pause","resume","R$get","toStringTag","proxyMap","nowrapClassKey","nowrapPropKey","canWrap","rawKey","wrap","v","getProxy","createProxy","getRaw","unwrap","doNotCollect","object","toPrimitive","handler","arrayHandler","collectionHandler","objectHandler","proxiedObj","Proxy","receiver","wrappedArrayMap","wrappedArrayIncludes","wrappedArrayIndexOf","wrappedArrayLastIndexOf","wrappedArrayEvery","wrappedArrayFilter","wrappedArrayFind","wrappedArrayFindIndex","wrappedArrayFlat","wrappedArrayFlatMap","wrappedArrayJoin","wrappedArrayPush","wrappedArrayPop","wrappedReduce","wrappedReduceRight","wrappedArrayReverse","wrappedArrayShift","wrappedArrayUnshift","wrappedArraySlice","wrappedArraySplice","wrappedArraySome","wrappedArraySort","wrappedKeys","iterator","wrappedValues","wrappedEntries","ownKeys","cb","thisArg","raw","res","every","filter","lastIndexOf","findIndex","find","flat","flatMap","separator","join","_args","some","end","initValue","reduce","curr","reduceRight","wrappedClear","wrappedDelete","wrappedForEach","wrappedAdd","wrappedGet","wrappedSet","wrappedHas","k","next","done","values","ProxyObservable","ComputedObserver","observerLocator","useProxy","_isRunning","_isDirty","_callback","_coercer","_coercionConfig","_wrapped","$get","init","compute","areEqual","run","useCoercer","coercer","coercionConfig","useCallback","callback","IDirtyChecker","DirtyCheckSettings","timeoutsPerCheck","disabled","throw","resetToDefault","DirtyChecker","register","c","Registration","singleton","aliasTo","tracked","_task","_elapsedFrames","p","resolve","IPlatform","check","isDirty","flush","DirtyCheckProperty","createProperty","addProperty","property","taskQueue","queueTask","persistent","removeProperty","cancel","dirtyChecker","_oldValue","_dirtyChecker","_v","PrimitiveObserver","_key","PropertyAccessor","SetterObserver","_observing","oV","stop","propertyAccessor","IObserverLocator","ObserverLocator","INodeObserverLocator","cachedCallback","DefaultNodeObserverLocator","handles","getAccessor","IComputedObserverLocator","DefaultLocator","pd","requestor","_adapters","_nodeObserverLocator","_computedObserverLocator","addAdapter","adapter","isObject","lookup","getObserverLookup","createObserver","cached","$observers","observedArray","observedMap","isArrayIndex","getOwnPropDesc","getProto","_getAdapterObserver","getCollectionObserver","getPrototypeOf","getOwnPropertyDescriptor","instance","createLookup","IObservation","Observation","inject","_defaultWatchOptions","immediate","effect","RunEffect","watch","getter","options","$oldValue","stopped","maxRunCount","queued","running","runCount","observable","getObserversLookup","noValue","targetOrConfig","SetterNotifier","mixed","isClassDecorator","config","name","emptyObject","arguments","kind","createFieldInitializer","createDescriptor","$initialValue","addInitializer","initialValue","targetIsClass","observableGetter","notifier","getNotifier","descriptor","callbackKey","_setter","_hasSetter","SuppressedError","error","suppressed","message","e","nowrap","decorator"],"mappings":"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","x_google_ignoreList":[20]}