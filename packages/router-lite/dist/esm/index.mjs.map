{"version":3,"file":"index.mjs","sources":["../../src/events.ts","../../src/util.ts","../../src/validation.ts","../../src/router-events.ts","../../src/location-manager.ts","../../src/route.ts","../../src/route-expression.ts","../../src/viewport-agent.ts","../../src/route-tree.ts","../../src/router.ts","../../src/url-parser.ts","../../src/options.ts","../../src/instructions.ts","../../src/component-agent.ts","../../src/route-context.ts","../../../../node_modules/tslib/tslib.es6.js","../../src/resources/viewport.ts","../../src/resources/load.ts","../../src/resources/href.ts","../../src/configuration.ts","../../src/state-manager.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n",null,null,null,null,null],"names":["error","logger","event","optionalParameters","map","p","String","getMessage","join","logAndThrow","err","Batch","constructor","_stack","_cb","head","this","_done","_next","_head","static","cb","_push","cur","_pop","_invoke","_continueWith","_start","mergeDistinct","prev","next","slice","merged","length","shift","prevVpa","context","vpa","every","m","i","findIndex","n","push","splice","tryStringify","value","JSON","stringify","Object","prototype","toString","call","ensureArrayOfStrings","ensureString","mergeURLSearchParams","source","other","clone","query","URLSearchParams","key","entries","append","isNotNullishOrTypeOrViewModel","isCustomElementViewModel","isPartialCustomElementDefinition","hasOwnProperty","isPartialChildRouteConfig","isPartialRedirectRouteConfig","isPartialViewportInstruction","expectType","expected","prop","Error","validateRouteConfig","config","parentPath","keys","path","Array","validateComponent","route","childPath","indexOf","validateRedirectRouteConfig","component","property","Promise","shallowEquals","a","b","getPrototypeOf","aKeys","bKeys","ii","AuNavId","Subscription","_events","_serial","_inner","_disposed","dispose","subscriptions","IRouterEvents","DI","createInterface","x","singleton","RouterEvents","_subscriptionSerial","_subscriptions","_ea","resolve","IEventAggregator","_logger","ILogger","scopeTo","publish","name","subscribe","callback","subscription","message","LocationChangeEvent","id","url","trigger","state","NavigationStartEvent","instructions","managedState","NavigationEndEvent","finalInstructions","NavigationCancelEvent","reason","NavigationErrorEvent","IBaseHref","ILocationManager","BrowserLocationManager","_eventId","root","_history","IHistory","_location","ILocation","_window","IWindow","_baseHref","_event","IRouterOptions","useUrlFragmentHash","startListening","addEventListener","stopListening","removeEventListener","handleEvent","getPath","pushState","title","addBaseHref","replaceState","pathname","search","hash","removeBaseHref","normalizeQuery","fullPath","base","href","endsWith","startsWith","basePath","normalizePath","start","end","index","noRoutes","emptyArray","RouteConfig","_path","ceDfn","CustomElement","getDefinition","aliases","redirectTo","caseSensitive","transitionPlan","viewport","data","routes","fallback","nav","_configurationFromHookApplied","configOrPath","Type","reentryBehavior","defaultViewportName","children","_applyChildRouteConfig","parentConfig","_getTransitionPlan","overridingTransitionPlan","hasSameParameters","params","plan","_applyFromConfigurationHook","instance","parent","routeNode","getRouteConfig","onResolve","_clone","_getFallback","viewportInstruction","isType","register","container","Route","Protocol","resource","keyFor","isConfigured","Metadata","hasOwn","configure","_create","define","getConfig","getOwn","target","resolveRouteConfiguration","routeable","isChild","instruction","ceDef","resolveCustomElementDefinition","$ceDef","type","routeConfig","createNavigationInstruction","find","_resolveLazy","TypedNavigationInstruction","create","terminal","ParserState","_rest","_input","_buffers","_bufferIndex","_index","_startsWith","values","rest","some","_consumeOptional","str","_append","_consume","_expect","msg","_ensureDone","_advance","char","_record","_playback","bufferIndex","buffers","buffer","_discard","ExpressionKind","cache","Map","RouteExpression","kind","isAbsolute","queryParams","fragment","result","get","set","_$parse","SegmentExpression","Empty","CompositeSegmentExpression","_parse","toInstructionTree","options","ViewportInstructionTree","_toInstructions","siblings","ScopedSegmentExpression","open","close","flatMap","left","right","SegmentGroupExpression","leftInstructions","rightInstructions","expression","ComponentExpression","ViewportExpression","scoped","ViewportInstruction","parameterList","_toObject","ParameterListExpression","charAt","isParameter","isStar","isDynamic","parameterName","decodeURIComponent","expressions","ParameterExpression","expr","AST","freeze","ViewportRequest","viewportName","componentName","viewportAgentLookup","WeakMap","ViewportAgent","_currState","_state","_nextState","hostController","ctx","_isActive","_curCA","_nextCA","_$plan","_currNode","_nextNode","_currTransition","_cancellationPromise","_friendlyPath","viewportAgent","controller","Controller","getCachedOrThrow","_activateFromViewport","initiator","tr","ensureTransitionHasNotErrored","_activate","_unexpectedState","b1","_deactivateFromViewport","_deactivate","_handles","req","_isAvailable","$vp","reqVp","vp","usedBy","split","includes","_canUnload","guardsResult","node","b2","_handleError","_canLoad","_createComponentAgent","ca","allResolved","onResolveAll","residue","vi","createAndAppendNodes","getAvailableViewportAgents","reduce","acc","default","_unloading","ensureGuardsResultIsTrue","_loading","curCa","_run","_dispose","_processDynamicChildren","_swap","nodes","curCA","nextCA","existingChildren","filter","newChildren","_scheduleUpdate","_routeNode","_cancelUpdate","forEach","currentDeactivationPromise","nextDeactivationPromise","_endTransition","$state","label","erredWithUnknownRoute","$stateCache","stringifyState","flags","RouteNode","_tree","isInstructionsFinalized","_isInstructionsFinalized","finalPath","_originalInstruction","_viewport","_version","input","RESIDUE","_","originalInstruction","emptyQuery","emptyObject","contains","matchEndpoint","nodeChildren","instructionChildren","j","jj","instructionChild","instructionEndpoint","recognizedRoute","endpoint","nodeChild","childEndpoint","equalsOrResidual","_appendChild","child","_setTree","_clearChildren","c","getTitle","separator","titleParts","computeAbsolutePath","isRoot","thisPath","toUrlComponent","tree","_finalizeInstruction","len","props","r","RouteTree","_finalizeInstructions","_mergeQuery","log","trace","childVI","rr","appendNode","createConfiguredNode","_generateViewportInstruction","newVi","collapse","recognize","noResidue","eagerResult","getFallbackViewportAgent","UnknownRouteError","rd","childRoutes","createFallbackNode","rc","addResidue","unshift","ced","originalVi","rt","handler","$handler","viWithVp","vpName","_resolveViewportAgent","router","IRouter","getRouteContext","childCtx","$node","origPath","parse","pathUrlParser","redirPath","origCur","redirCur","newSegs","origSeg","redirSeg","origDone","redirDone","newPath","Boolean","redirRR","childNode","$childNode","$RecognizedRoute","RecognizedRoute","Endpoint","ConfigurableRoute","isManagedState","isObject","toManagedState","navId","Transition","_erredWithUnknownRoute","prevInstructions","instructionsChanged","previousRouteTree","routeTree","promise","reject","ret","then","catch","Router","_ctx","_$ctx","_container","has","IRouteContext","_routeTree","NavigationOptions","currentTr","_currentTr","_instructions","isNavigating","_isNavigating","_navigated","_navigationId","_nextTr","_locationChangeSubscription","_hasTitleBuilder","IContainer","_p","IPlatform","_locationMgr","_vpaLookup","registerResolver","Registration","_resolveContext","RouteContext","performInitialNavigation","buildTitle","e","taskQueue","queueTask","routerOptions","historyStrategy","_enqueue","load","stop","instructionOrInstructions","createViewportInstructions","isActive","componentDefinition","componentInstance","parentRouteConfig","parentContext","$rdConfig","rdConfig","routeConfigLookup","routeContext","isVpInstr","$instruction","failedTr","lastTr","equals","restorePrevRT","restorePreviousRouteTreeOnError","$resolve","$reject","nextTr","_cancelNavigation","$nextTr","navigationContext","vit","rootCtx","suffix","updateNode","all","newUrl","toUrl","_urlParser","_getHistoryStrategy","updateTitle","_runNextTransition","titleSeparator","document","ParsedUrl","fragmentStart","rawFragment","queryStart","queryString","pathOrParsedUrl","encodeURIComponent","fragmentUrlParser","valueOrFuncToValue","valueOrFunc","RouterOptions","useHref","useNavigationModel","activeClass","typedInstruction","thisChildren","otherChildren","otherVp","recursive","thisPart","repeat","stringifyParams","childPart","numKeys","indexKeys","namedKeys","isArrayIndex","Number","indexKeyIdx","namedKey","hasContext","eagerVi","isFinalInstruction","parser","parentPaths","currentPath","toPath","definition","CustomElementDefinition","ComponentAgent","_instance","_controller","_routerOptions","lifecycleHooks","_canLoadHooks","canLoad","_loadHooks","loading","_canUnloadHooks","canUnload","_unloadHooks","unloading","_hasCanLoad","_hasLoad","_hasCanUnload","_hasUnload","activate","deactivate","hook","res","allowedEagerComponentTypes","isEagerInstruction","val","depth","_allResolved","_node","_prevNode","_vpa","navigationModel","_navigationModel","parentContainer","_router","_childViewportAgents","_childRoutesConfigured","_moduleLoader","IModuleLoader","createChild","IController","_hostControllerProvider","InstanceProvider","ctxProvider","_recognizer","RouteRecognizer","navModel","NavigationModel","_setIsActive","_processConfig","allPromises","childrenRoutes","hasNavModel","childRoute","_addRoute","rdResolution","_$addRoute","idx","noop","IAppRoot","viewModel","rootContainer","Node","for","searchParents","nodeName","$controller","isCustomElementController","agent","_printTree","prepare","task","$el","host","componentAgent","_registerViewport","_unregisterViewport","searchAncestor","_current","_continue","Reflect","add","raw","def","getAll","isCustomElementDefinition","defaultExport","firstNonDefaultExport","item","items","isConstructable","definitions","paths","throwError","recognizer","numPaths","errors","core","consumed","maxScore","getEndpoint","param","isOptional","pattern","replace","consumedKeys","fromEntries","vpAgents","viewports","_promise","NavigationRoute","_trees","trees","ep","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","d","decorate","defineProperty","ViewportCustomElement","_agent","hydrated","attaching","_parent","detaching","propStrings","bindable","customElement","LoadCustomAttribute","_el","INode","attribute","active","_href","_navigationEndListener","onClick","altKey","ctrlKey","shiftKey","metaKey","button","preventDefault","el","_isEnabled","hasAttribute","_activeClass","binding","valueChanged","_e","classList","toggle","unbinding","optional","removeAttribute","setAttribute","mode","primary","customAttribute","HrefCustomAttribute","_isExternal","_isInitialized","windowName","getAttribute","getRef","CustomAttribute","newValue","test","_onClick","noMultiBindings","RouterRegistration","DefaultComponents","ViewportCustomElementRegistration","LoadCustomAttributeRegistration","HrefCustomAttributeRegistration","DefaultResources","cachedCallback","__","window","URL","baseURI","AppTask","setRoot","activated","deactivated","RouterConfiguration","customize","ScrollState","_top","scrollTop","_left","scrollLeft","_restore","scrollTo","restoreState","HostElementState","_scrollStates","_save","elements","_has","IStateManager","ScrollStateManager","_cache","saveState","delete"],"mappings":";;;;;;;;AA2YM,SAAUA,MAAMC,GAAiBC,MAAkBC;IAIhD;QACLF,EAAOD,MAAM,MAAME,QAAYC,EAAmBC,KAAIC,KAAKC,OAAOD;AACnE;AACH;;SAGgBE,WAAWL,MAAkBC;IAS3C,OAAO,MAAMD,KAASC,EAAmBC,KAAIC,KAAKC,OAAOD,KAAIG,KAAK;AACpE;;AAEgB,SAAAC,YAAYC,GAAYT;IACtCA,EAAOD,MAAMU;IACb,MAAMA;AACR;;MC9ZaC;IAKXC,YACUC,GACAC,GACRC;QAFQC,KAAMH,IAANA;QACAG,KAAGF,IAAHA;QANHE,KAAKC,IAAY;QAEhBD,KAAKE,IAAiB;QAO5BF,KAAKG,IAAQJ,KAAQC;AACtB;IAEMI,SAAcC;QACnB,OAAO,IAAIV,MAAM,GAAGU,GAAI;AACzB;IAEMC;QACL,IAAIC,IAAMP;QACV,GAAG;cACCO,EAAIV;YACNU,IAAMA,EAAIL;iBACHK,MAAQ;AAClB;IAEMC;QACL,IAAID,IAAMP;QACV,GAAG;YACD,MAAMO,EAAIV,MAAW,GAAG;gBACtBU,EAAIE;AACL;YACDF,IAAMA,EAAIL;iBACHK,MAAQ;AAClB;IAEOE;QACN,MAAMJ,IAAKL,KAAKF;QAChB,IAAIO,MAAO,MAAM;YACfL,KAAKF,IAAM;YACXO,EAAGL;YACHA,KAAKC,IAAQ;AACd;AACF;IAEMS,EAAcL;QACnB,IAAIL,KAAKE,MAAU,MAAM;YACvB,OAAOF,KAAKE,IAAQ,IAAIP,MAAMK,KAAKH,GAAQQ,GAAIL,KAAKG;AACrD,eAAM;YACL,OAAOH,KAAKE,EAAMQ,EAAcL;AACjC;AACF;IAEMM;QACLX,KAAKG,EAAMG;QACXN,KAAKG,EAAMK;QACX,OAAOR;AACR;;;AAGa,SAAAY,cAAcC,GAAmBC;IAC/CD,IAAOA,EAAKE;IACZD,IAAOA,EAAKC;IACZ,MAAMC,IAAsB;IAC5B,OAAOH,EAAKI,SAAS,GAAG;QACtB,MAAM5B,IAAIwB,EAAKK;QACf,MAAMC,IAAU9B,EAAE+B,QAAQC;QAC1B,IAAIL,EAAOM,OAAMC,KAAKA,EAAEH,QAAQC,QAAQF,KAAU;YAChD,MAAMK,IAAIV,EAAKW,WAAUC,KAAKA,EAAEN,QAAQC,QAAQF;YAChD,IAAIK,KAAK,GAAG;gBACVR,EAAOW,QAAQb,EAAKc,OAAO,GAAGJ,IAAI;AACnC,mBAAM;gBACLR,EAAOW,KAAKtC;AACb;AACF;AACF;IACD2B,EAAOW,QAAQb;IACf,OAAOE;AACT;;AAEM,SAAUa,aAAaC;IAC3B;QACE,OAAOC,KAAKC,UAAUF;AAGvB,MAFC;QACA,OAAOG,OAAOC,UAAUC,SAASC,KAAKN;AACvC;AACH;;AAEM,SAAUO,qBAAqBP;IACnC,cAAcA,MAAU,WAAW,EAACA,MAASA;AAC/C;;AAEM,SAAUQ,aAAaR;IAC3B,cAAcA,MAAU,WAAWA,IAAQA,EAAM;AACnD;;SAEgBS,qBAAqBC,GAAyBC,GAAsBC;IAClF,MAAMC,IAAQD,IAAQ,IAAIE,gBAAgBJ,KAAUA;IACpD,IAAGC,KAAS,MAAM,OAAOE;IACzB,KAAI,OAAOE,GAAKf,MAAUG,OAAOa,QAAQL,IAAQ;QAC/CE,EAAMI,OAAOF,GAAKf;AACnB;IACD,OAAOa;AACT;;ACjGA,SAASK,8BAA8BlB;IACrC,cACSA,MAAU,YACjBA,MAAU,SACTmB,EAAyBnB;AAE9B;;AAEM,SAAUoB,iCAAiCpB;IAG/C,OACEkB,8BAA8BlB,MAC9BG,OAAOC,UAAUiB,eAAef,KAAKN,GAAO,YAAY;AAE5D;;AAEM,SAAUsB,0BAA0BtB;IAGxC,OACEkB,8BAA8BlB,MAC9BG,OAAOC,UAAUiB,eAAef,KAAKN,GAAO,iBAAiB;AAEjE;;AAEM,SAAUuB,6BAA6BvB;IAG3C,OACEkB,8BAA8BlB,MAC9BG,OAAOC,UAAUiB,eAAef,KAAKN,GAAO,kBAAkB;AAElE;;AAIM,SAAUwB,6BAA6BxB;IAG3C,OACEkB,8BAA8BlB,MAC9BG,OAAOC,UAAUiB,eAAef,KAAKN,GAAO,iBAAiB;AAEjE;;SAEgByB,WAAWC,GAAkBC,GAAc3B;IACzD,MAAM,IAAI4B,MAAMnE,iBAA2CkE,GAAMD,GAAU3B,aAAaC;AAC1F;;AAQgB,SAAA6B,oBAAoBC,GAAuDC;IACzF,IAAID,KAAU,MAAM,MAAM,IAAIF,MAAMnE,iBAAmCqE;IAEvE,MAAME,IAAO7B,OAAO6B,KAAKF;IACzB,KAAK,MAAMf,KAAOiB,GAAM;QACtB,MAAMhC,IAAQ8B,EAAOf;QACrB,MAAMkB,IAAO,EAACF,GAAYhB,IAAKrD,KAAK;QACpC,QAAQqD;UACN,KAAK;UACL,KAAK;UACL,KAAK;YACH,WAAWf,MAAU,UAAU;gBAC7ByB,WAAW,UAAUQ,GAAMjC;AAC5B;YACD;;UACF,KAAK;UACL,KAAK;YACH,WAAWA,MAAU,WAAW;gBAC9ByB,WAAW,WAAWQ,GAAMjC;AAC7B;YACD;;UACF,KAAK;YACH,WAAWA,MAAU,YAAYA,MAAU,MAAM;gBAC/CyB,WAAW,UAAUQ,GAAMjC;AAC5B;YACD;;UACF,KAAK;YACH,eAAeA;cACb,KAAK;cACL,KAAK;gBACH;;cACF;gBACEyB,WAAW,sBAAsBQ,GAAMjC;;YAE3C;;UACF,KAAK;YACH,IAAIA,aAAiBkC,OAAO;gBAC1B,KAAK,IAAIxC,IAAI,GAAGA,IAAIM,EAAMb,UAAUO,GAAG;oBACrC,WAAWM,EAAMN,OAAO,UAAU;wBAChC+B,WAAW,UAAU,GAAGQ,KAAQvC,MAAMM,EAAMN;AAC7C;AACF;AACF,mBAAM,WAAWM,MAAU,UAAU;gBACpCyB,WAAW,8BAA8BQ,GAAMjC;AAChD;YACD;;UACF,KAAK;YACHmC,kBAAkBnC,GAAOiC,GAAM;YAC/B;;UACF,KAAK;YAAU;gBACb,MAAMjC,aAAiBkC,QAAQ;oBAC7BT,WAAW,SAASQ,GAAMjC;AAC3B;gBACD,KAAK,MAAMoC,KAASpC,GAAO;oBACzB,MAAMqC,IAAY,GAAGJ,KAAQjC,EAAMsC,QAAQF;oBAC3CD,kBAAkBC,GAAOC,GAAW;AACrC;gBACD;AACD;;UACD,KAAK;YACH,eAAerC;cACb,KAAK;gBACH,QAAQA;kBACN,KAAK;kBACL,KAAK;kBACL,KAAK;oBACH;;kBACF;oBACEyB,WAAW,4DAAkEQ,GAAMjC;;gBAEvF;;cACF,KAAK;gBACH;;cACF;gBACEyB,WAAW,4DAAkEQ,GAAMjC;;YAEvF;;UACF,KAAK;YACHmC,kBAAkBnC,GAAOiC,GAAM;YAC/B;;UACF;YAEE,MAAM,IAAIL,MAAMnE,WAAU,MAAiCsE,GAAYhB;;AAE5E;AACH;;AAEA,SAASwB,4BAA4BT,GAA0DC;IAC7F,IAAID,KAAU,MAAM,MAAM,IAAIF,MAAMnE,iBAAmCqE;IAEvE,MAAME,IAAO7B,OAAO6B,KAAKF;IACzB,KAAK,MAAMf,KAAOiB,GAAM;QACtB,MAAMhC,IAAQ8B,EAAOf;QACrB,MAAMkB,IAAO,EAACF,GAAYhB,IAAKrD,KAAK;QACpC,QAAQqD;UACN,KAAK;YACH,IAAIf,aAAiBkC,OAAO;gBAC1B,KAAK,IAAIxC,IAAI,GAAGA,IAAIM,EAAMb,UAAUO,GAAG;oBACrC,WAAWM,EAAMN,OAAO,UAAU;wBAChC+B,WAAW,UAAU,GAAGQ,KAAQvC,MAAMM,EAAMN;AAC7C;AACF;AACF,mBAAM,WAAWM,MAAU,UAAU;gBACpCyB,WAAW,8BAA8BQ,GAAMjC;AAChD;YACD;;UACF,KAAK;YACH,WAAWA,MAAU,UAAU;gBAC7ByB,WAAW,UAAUQ,GAAMjC;AAC5B;YACD;;UACF;YAEE,MAAM,IAAI4B,MAAMnE,WAAU,MAAyCsE,GAAYhB;;AAEpF;AACH;;AAEA,SAASoB,kBAAkBK,GAAyCT,GAAoBU;IACtF,eAAeD;MACb,KAAK;QACH;;MACF,KAAK;QACH,IAAIA,aAAqBE,SAAS;YAChC;AACD;QACD,IAAInB,6BAA6BiB,IAAY;YAC3CD,4BAA4BC,GAAWT;YACvC;AACD;QACD,IAAIT,0BAA0BkB,IAAY;YACxCX,oBAAoBW,GAAWT;YAC/B;AACD;QACD,KACGZ,EAAyBqB,OACzBpB,iCAAiCoB,IAClC;YACAf,WAAW,8BAA8BgB,+BAAsCV,GAAYS;AAC5F;QACD;;MACF,KAAK;QACH;;MACF;QACEf,WAAW,8CAA8CM,GAAYS;;AAE3E;;AAIgB,SAAAG,cAAcC,GAAkBC;IAC9C,IAAID,MAAMC,GAAG;QACX,OAAO;AACR;IAED,WAAWD,aAAaC,GAAG;QACzB,OAAO;AACR;IAED,IAAID,MAAM,QAAQC,MAAM,MAAM;QAC5B,OAAO;AACR;IAED,IAAI1C,OAAO2C,eAAeF,OAAOzC,OAAO2C,eAAeD,IAAI;QACzD,OAAO;AACR;IAED,MAAME,IAAQ5C,OAAO6B,KAAKY;IAC1B,MAAMI,IAAQ7C,OAAO6B,KAAKa;IAE1B,IAAIE,EAAM5D,WAAW6D,EAAM7D,QAAQ;QACjC,OAAO;AACR;IAED,KAAK,IAAIO,IAAI,GAAGuD,IAAKF,EAAM5D,QAAQO,IAAIuD,KAAMvD,GAAG;QAC9C,MAAMqB,IAAMgC,EAAMrD;QAClB,IAAIqB,MAAQiC,EAAMtD,IAAI;YACpB,OAAO;AACR;QACD,IAAKkD,EAAiB7B,OAAU8B,EAAiB9B,IAAM;YACrD,OAAO;AACR;AACF;IAED,OAAO;AACT;;ACrPO,MAAMmC,IAAU;;AAOvB,MAAMC;IAGJrF,YACoCsF,GAMDC,GACCC;QAPApF,KAAOkF,IAAPA;QAMDlF,KAAOmF,IAAPA;QACCnF,KAAMoF,IAANA;QAVXpF,KAAAqF,IAAqB;AAW1C;IAEGC;QACL,KAAKtF,KAAKqF,GAAW;YACnBrF,KAAKqF,IAAY;YAEjBrF,KAAKoF,EAAOE;YACZ,MAAMC,IAAgBvF,KAAKkF,EAAQ;YACnCK,EAAc3D,OAAO2D,EAAcnB,QAAQpE,OAAO;AACnD;AACF;;;MAGUwF,kBAA6BC,EAAGC,gBAA+B,kBAAiBC,KAAKA,EAAEC,UAAUC;;MAEjGA;IAAbjG;QAC2BI,KAAA8F,IAA8B;QACrB9F,KAAA+F,IAAiC;QAEjC/F,KAAGgG,IAAqBC,EAAQC;QAChClG,KAAAmG,IAAmBF,EAAQG,GAASC,QAAQ;AAqB/E;IAnBQC,QAAQpH;QAGbc,KAAKgG,EAAIM,QAAQpH,EAAMqH,MAAMrH;AAC9B;IAEMsH,UAAyCtH,GAAUuH;QACxD,MAAMC,IAAe,IAAIzB,aACvBjF,QACEA,KAAK8F,GACP9F,KAAKgG,EAAIQ,UAAUtH,IAAQyH;YAEzBF,EAASE;AAAQ;QAIrB3G,KAAK+F,EAAepE,KAAK+E;QACzB,OAAOA;AACR;;;MAGUE;IACAL;QAAsC,OAAO;AAA8B;IAEtF3G,YACkBiH,GACAC,GACAC,GACAC;QAHAhH,KAAE6G,KAAFA;QACA7G,KAAG8G,MAAHA;QACA9G,KAAO+G,UAAPA;QACA/G,KAAKgH,QAALA;AACd;IAEG7E;QACL,OAEI;AACL;;;MAGU8E;IACAV;QAAuC,OAAO;AAA+B;IAExF3G,YACkBiH,GACAK,GACAH,GACAI;QAHAnH,KAAE6G,KAAFA;QACA7G,KAAYkH,eAAZA;QACAlH,KAAO+G,UAAPA;QACA/G,KAAYmH,eAAZA;AACd;IAEGhF;QACL,OAEI;AACL;;;MAGUiF;IACAb;QAAqC,OAAO;AAA6B;IAEpF3G,YACkBiH,GACAK,GACAG;QAFArH,KAAE6G,KAAFA;QACA7G,KAAYkH,eAAZA;QACAlH,KAAiBqH,oBAAjBA;AACd;IAEGlF;QACL,OAEI;AACL;;;MAGUmF;IACAf;QAAwC,OAAO;AAAgC;IAE1F3G,YACkBiH,GACAK,GACAK;QAFAvH,KAAE6G,KAAFA;QACA7G,KAAYkH,eAAZA;QACAlH,KAAMuH,SAANA;AACd;IAEGpF;QACL,OAEI;AACL;;;MAGUqF;IACAjB;QAAuC,OAAO;AAA+B;IAExF3G,YACkBiH,GACAK,GACAlI;QAFAgB,KAAE6G,KAAFA;QACA7G,KAAYkH,eAAZA;QACAlH,KAAKhB,QAALA;AACd;IAEGmD;QACL,OAEI;AACL;;;AC1II,MAAMsF,kBAAyBhC,EAAGC,gBAAqB;;MACjDgC,kBAAgCjC,EAAGC,gBAAkC,qBAAoBC,KAAKA,EAAEC,UAAU+B;;MAU1GA;IAWX/H;QAVyBI,KAAA4H,IAAmB;QAEV5H,KAAAmG,IAAmBF,EAAQG,GAASyB,KAAKxB,QAAQ;QACjDrG,KAAOkF,IAAkBe,EAAQT;QACjCxF,KAAQ8H,IAAa7B,EAAQ8B;QAC7B/H,KAASgI,IAAc/B,EAAQgC;QAC/BjI,KAAOkI,IAAYjC,EAAQkC;QAC3BnI,KAASoI,IAAQnC,EAAQwB;QACzBzH,KAAMqI,IAA8BpC,EAAQqC,IAAgBC,qBAAqB,eAAe;AAIjI;IAEMC;QAGLxI,KAAKkI,EAAQO,iBAAiBzI,KAAKqI,GAAQrI,MAAM;AAClD;IAEM0I;QAGL1I,KAAKkI,EAAQS,oBAAoB3I,KAAKqI,GAAQrI,MAAM;AACrD;IAEM4I,YAAY1J;QACjBc,KAAKkF,EAAQoB,QAAQ,IAAIM,sBACrB5G,KAAK4H,GACP5H,KAAK6I,WACL7I,KAAKqI,GACL,WAAWnJ,IAAQA,EAAM8H,QAAQ;AAEpC;IAEM8B,UAAU9B,GAAkB+B,GAAejC;QAChDA,IAAM9G,KAAKgJ,YAAYlC;QAUvB9G,KAAK8H,EAASgB,UAAU9B,GAAO+B,GAAOjC;AACvC;IAEMmC,aAAajC,GAAkB+B,GAAejC;QACnDA,IAAM9G,KAAKgJ,YAAYlC;QAUvB9G,KAAK8H,EAASmB,aAAajC,GAAO+B,GAAOjC;AAC1C;IAEM+B;QACL,OAAMK,UAAEA,GAAQC,QAAEA,GAAMC,MAAEA,KAASpJ,KAAKgI;QACxC,OAAOhI,KAAKqJ,eAAe,GAAGH,IAAWI,eAAeH,KAAUC;AACnE;IAEMJ,YAAYjF;QACjB,IAAIwF;QAEJ,IAAIC,IAAOxJ,KAAKoI,EAAUqB;QAC1B,IAAID,EAAKE,SAAS,MAAM;YACtBF,IAAOA,EAAKzI,MAAM,IAAI;AACvB;QAED,IAAIyI,EAAKvI,WAAW,GAAG;YACrBsI,IAAWxF;AACZ,eAAM;YACL,IAAIA,EAAK4F,WAAW,MAAM;gBACxB5F,IAAOA,EAAKhD,MAAM;AACnB;YACDwI,IAAW,GAAGC,KAAQzF;AACvB;QACD,OAAOwF;AACR;IAEMF,eAAetF;QACpB,MAAM6F,IAAW5J,KAAKoI,EAAUc;QAChC,IAAInF,EAAK4F,WAAWC,IAAW;YAC7B7F,IAAOA,EAAKhD,MAAM6I,EAAS3I;AAC5B;QACD,OAAO4I,cAAc9F;AACtB;;;AAQG,SAAU8F,cAAc9F;IAC5B,IAAI+F;IACJ,IAAIC;IACJ,IAAIC;IAEJ,KAAKA,IAAQjG,EAAKK,QAAQ,SAAS,MAAM4F,IAAQjG,EAAKK,QAAQ,SAAS,GAAG;QACxE0F,IAAQ/F,EAAKhD,MAAM,GAAGiJ;QACtBD,IAAMhG,EAAKhD,MAAMiJ;AAClB,WAAM;QACLF,IAAQ/F;QACRgG,IAAM;AACP;IAED,IAAID,EAAMJ,SAAS,MAAM;QACvBI,IAAQA,EAAM/I,MAAM,IAAI;AACzB,WAAM,IAAI+I,EAAMJ,SAAS,gBAAgB;QACxCI,IAAQA,EAAM/I,MAAM,IAAI;AACzB;IAED,OAAO,GAAG+I,IAAQC;AACpB;;AAEA,SAAST,eAAe3G;IACtB,OAAOA,EAAM1B,SAAS,MAAM0B,EAAMgH,WAAW,OAAO,IAAIhH,MAAUA;AACpE;;ACtIO,MAAMsH,IAAWC;;MAGXC;IAGApG;QACT,MAAMA,IAAO/D,KAAKoK;QAClB,IAAIrG,EAAK9C,SAAS,GAAG,OAAO8C;QAC5B,MAAMsG,IAAQC,EAAcC,cAAcvK,KAAKsE;QAC/C,OAAOtE,KAAKoK,IAAQ,EAACC,EAAM9D,SAAS8D,EAAMG;AAC3C;IACD5K,YACkBiH,GAETuD,GACSrB,GACA0B,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAzG,GACA0G;QAZAhL,KAAE6G,KAAFA;QAET7G,KAAKoK,IAALA;QACSpK,KAAK+I,QAALA;QACA/I,KAAUyK,aAAVA;QACAzK,KAAa0K,gBAAbA;QACA1K,KAAc2K,iBAAdA;QACA3K,KAAQ4K,WAARA;QACA5K,KAAI6K,OAAJA;QACA7K,KAAM8K,SAANA;QACA9K,KAAQ+K,WAARA;QACA/K,KAASsE,YAATA;QACAtE,KAAGgL,MAAHA;QApBXhL,KAA6BiL,IAAY;AAqB3C;IAGE7K,SACL8K,GACAC;QAEA,WAAWD,MAAiB,YAAYA,aAAwBlH,OAAO;YACrE,MAAMD,IAAO1B,qBAAqB6I;YAElC,MAAMT,IAAaU,GAAMV,cAAc;YACvC,MAAMC,IAAgBS,GAAMT,iBAAiB;YAC7C,MAAM7D,IAAKvE,aAAa6I,GAAMtE,OAAO9C,aAAgBC,QAAQD,EAAK,KAAKA;YACvE,MAAMgF,IAAQoC,GAAMpC,SAAS;YAC7B,MAAMqC,IAAkBD,GAAMR,kBAAkB;YAChD,MAAMC,IAAWO,GAAMP,YAAYS;YACnC,MAAMR,IAAOM,GAAMN,QAAQ;YAC3B,MAAMS,IAAWH,GAAML,UAAUb;YAEjC,OAAO,IAAIE,YACTtD,GACA9C,GACAgF,GACA0B,GACAC,GACAU,GACAR,GACAC,GACAS,GACAH,GAAMJ,YAAY,MAClBI,GACAA,GAAMH,OAAO;AAEhB,eAAM,WAAWE,MAAiB,UAAU;YAC3C,MAAMtH,IAASsH;YACfvH,oBAAoBC,GAAQ;YAE5B,MAAMG,IAAO1B,qBAAqBuB,EAAOG,QAAQoH,GAAMpH,QAAQmG;YAC/D,MAAMnB,IAAQnF,EAAOmF,SAASoC,GAAMpC,SAAS;YAC7C,MAAM0B,IAAa7G,EAAO6G,cAAcU,GAAMV,cAAc;YAC5D,MAAMC,IAAgB9G,EAAO8G,iBAAiBS,GAAMT,iBAAiB;YACrE,MAAM7D,IAAKjD,EAAOiD,MAAMsE,GAAMtE,OAAO9C,aAAgBC,QAAQD,EAAK,KAAKA;YACvE,MAAMqH,IAAkBxH,EAAO+G,kBAAkBQ,GAAMR,kBAAkB;YACzE,MAAMC,IAAWhH,EAAOgH,YAAYO,GAAMP,YAAYS;YACtD,MAAMR,IAAO;mBACRM,GAAMN;mBACNjH,EAAOiH;;YAEZ,MAAMS,IAAW,KACX1H,EAAOkH,UAAUb,MACjBkB,GAAML,UAAUb;YAEtB,OAAO,IAAIE,YACTtD,GACA9C,GACAgF,GACA0B,GACAC,GACAU,GACAR,GACAC,GACAS,GACA1H,EAAOmH,YAAYI,GAAMJ,YAAY,MACpCnH,EAA6BU,aAAa6G,KAAQ,MACnDvH,EAAOoH,OAAO;AAEjB,eAAM;YACLzH,WAAW,oCAAoC,IAAI2H;AACpD;AACF;IASMK,EAAuB3H,GAA2B4H;QACvD7H,oBAAoBC,GAAQ5D,KAAK+D,KAAK,MAAM;QAC5C,MAAMA,IAAO1B,qBAAqBuB,EAAOG,QAAQ/D,KAAK+D;QACtD,OAAO,IAAIoG,YACT7H,aAAasB,EAAOiD,MAAM7G,KAAK6G,MAAM9C,IACrCA,GACAH,EAAOmF,SAAS/I,KAAK+I,OACrBnF,EAAO6G,cAAczK,KAAKyK,YAC1B7G,EAAO8G,iBAAiB1K,KAAK0K,eAC7B9G,EAAO+G,kBAAkB3K,KAAK2K,kBAAkBa,GAAcb,kBAAkB,MAChF/G,EAAOgH,YAAY5K,KAAK4K,UACxBhH,EAAOiH,QAAQ7K,KAAK6K,MACpBjH,EAAOkH,UAAU9K,KAAK8K,QACtBlH,EAAOmH,YAAY/K,KAAK+K,YAAYS,GAAcT,YAAY,MAC9D/K,KAAKsE,WACLV,EAAOoH,OAAOhL,KAAKgL;AAEtB;IAGMS,EAAmBlL,GAAgBO,GAAiB4K;QACzD,MAAMC,IAAoBlH,cAAclE,EAAIqL,QAAQ9K,EAAK8K;QACzD,IAAID,GAAmB,OAAO;QAE9B,IAAID,KAA4B,MAAM,OAAOA;QAE7C,MAAMG,IAAO7L,KAAK2K,kBAAkB;QACpC,cAAckB,MAAS,aAAaA,EAAKtL,GAAKO,KAAQ+K;AACvD;IAGMC,EAA4BC,GAA2BC,GAA6BC;QAEzF,IAAIjM,KAAKiL,GAA+B,MAAM,IAAIvH,MAAMnE,WAAU;QAClE,WAAWwM,EAASG,mBAAmB,YAAY;QACnD,OAAOC,EACLJ,EAASG,eAAeF,GAAQC,KAChCnK;YACE9B,KAAKiL,IAAgC;YACrC,IAAInJ,KAAS,MAAM;YACnB,IAAI+B,IAAamI,GAAQjI,QAAQ;YACjC,WAAWF,MAAe,UAAU;gBAClCA,IAAaA,EAAW;AACzB;YACDF,oBAAoB7B,GAAO+B;YAG1B7D,KAA+B6G,KAAK/E,EAAM+E,MAAM7G,KAAK6G;YACrD7G,KAA+BoK,IAAQ/H,qBAAqBP,EAAMiC,QAAQ/D,KAAK+D;YAC/E/D,KAA+B+I,QAAQjH,EAAMiH,SAAS/I,KAAK+I;YAC3D/I,KAA+ByK,aAAa3I,EAAM2I,cAAczK,KAAKyK;YACrEzK,KAA+B0K,gBAAgB5I,EAAM4I,iBAAiB1K,KAAK0K;YAC3E1K,KAA+B2K,iBAAiB7I,EAAM6I,kBAAkB3K,KAAK2K;YAC7E3K,KAA+B4K,WAAW9I,EAAM8I,YAAY5K,KAAK4K;YACjE5K,KAA+B6K,OAAO/I,EAAM+I,QAAQ7K,KAAK6K;YACzD7K,KAA+B8K,SAAShJ,EAAMgJ,UAAU9K,KAAK8K;YAC7D9K,KAA+B+K,WAAWjJ,EAAMiJ,YAAY/K,KAAK+K;YACjE/K,KAA+BgL,MAAMlJ,EAAMkJ,OAAOhL,KAAKgL;AAAG;AAEhE;IAGMoB;QACL,OAAO,IAAIjC,YACTnK,KAAK6G,IACL7G,KAAK+D,MACL/D,KAAK+I,OACL/I,KAAKyK,YACLzK,KAAK0K,eACL1K,KAAK2K,gBACL3K,KAAK4K,UACL5K,KAAK6K,MACL7K,KAAK8K,QACL9K,KAAK+K,UACL/K,KAAKsE,WACLtE,KAAKgL;AAER;IAGMqB,GAAaC,GAA0CL,GAAsB7K;QAClF,MAAM2J,IAAW/K,KAAK+K;QACtB,cAAcA,MAAa,eACrBT,EAAciC,OAAOxB,KACtBA,EAA8BuB,GAAqBL,GAAW7K,KAC/D2J;AACL;IAEMyB,SAASC;QAMd,MAAMnI,IAAYtE,KAAKsE;QACvB,IAAIA,KAAa,MAAM;QACvBmI,EAAUD,SAASlI;AACpB;;;AAGU,MAAAoI,IAAQ;IACnBnG,MAAMoG,EAASC,SAASC,OAAO;IAI/BC,aAAa3B;QACX,OAAO4B,EAASC,OAAON,EAAMnG,MAAM4E;AACpC;IAID8B,UACE/B,GACAC;QAEA,MAAMvH,IAASuG,YAAY+C,EAAQhC,GAAcC;QACjD4B,EAASI,OAAOT,EAAMnG,MAAM3C,GAAQuH;QAEpC,OAAOA;AACR;IAIDiC,UAAUjC;QACR,KAAKuB,EAAMI,aAAa3B,IAAO;YAG7BuB,EAAMO,UAAU,IAAI9B;AACrB;QAED,OAAO4B,EAASM,OAAOX,EAAMnG,MAAM4E;AACpC;;;AA4BG,SAAUjH,MAAMgH;IACpB,OAAO,SAAUoC;QACf,OAAOZ,EAAMO,UAAU/B,GAAcoC;AACvC;AACF;;AAGM,SAAUC,0BAA0BC,GAAsBC,GAAkBzB,GAA4BC,GAA6B7K;IACzI,IAAIiC,6BAA6BmK,IAAY,OAAOrD,YAAY+C,EAAQM,GAAW;IAEnF,OAAOE,GAAaC,KAASC,+BAA+BJ,GAAWpM;IAEvE,OAAO+K,EAAUwB,IAAOE;QACtB,MAAMC,IAAOD,EAAO1C;QACpB,MAAM4C,IAAcrB,EAAMU,UAAUU;QAGpC,IAAI1K,0BAA0BoK,IAAY,OAAOO,EAAYxC,EAAuBiC,GAAWxB;QAI/F,IAAIyB,GAAS,OAAOM,EAAY3B;QAEhC,KACG2B,EAAY9C,KACVyC,EAAYI,SAAkD,YACtDN,EAA8BtB,mBAAmB,YAC5D;YACA,OAAOC,EAAU4B,EAAYjC,EAA4B0B,GAAWxB,GAAQC,KAAY,MAAM8B;AAC/F;QACD,OAAOA;AAAW;AAEtB;;AAGgB,SAAAH,+BAA+BJ,GAAsBpM;IACnE,MAAMsM,IAAcM,4BAA4BR;IAChD,IAAIG;IACJ,QAAQD,EAAYI;MAClB,KAAA;QAAuC;YACrC,IAAI1M,KAAW,MAAM,MAAM,IAAIsC,MAAMnE,WAAU;YAE/C,MAAM+E,IAAYlD,EAAQqL,UAAUwB,KAAK3D,GAAeoD,EAAY5L;YACpE,IAAIwC,MAAc,MAAM,MAAM,IAAIZ,MAAMnE,WAAiC,MAAAmO,EAAY5L,OAAOV;YAE5FuM,IAAQrJ;YACR;AACD;;MACD,KAAA;QACEqJ,IAAQD,EAAY5L;QACpB;;MACF,KAAA;QAEE6L,IAAQrD,EAAcC,cAAcmD,EAAY5L,MAAMlC;QACtD;;MACF,KAAA;QACE,IAAIwB,KAAW,MAAM,MAAM,IAAIsC,MAAMnE,WAAU;QAC/CoO,IAAQvM,EAAQ8M,GAAaR,EAAY5L;QACzC;;IAEJ,OAAO,EAAC4L,GAAaC;AACvB;;AAEA,SAASK,4BAA4BR;IACnC,OAAOpK,0BAA0BoK,KAC7BQ,4BAA4BR,EAAUlJ,aACtC6J,2BAA2BC,OAAOZ;AACxC;;ACvUA,MAAMa,IAAW,EAAC,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAK,KAAM,KAAK;;AAGzF,MAAMC;IACOrO;QACT,OAAOD,KAAKuO,GAAMtN,WAAW;AAC9B;IAODrB,YACmB4O;QAAAxO,KAAMwO,KAANA;QALFxO,KAAQyO,KAAa;QAC9BzO,KAAY0O,KAAW;QACvB1O,KAAM2O,KAAW;QAKvB3O,KAAKuO,KAAQC;AACd;IAEMI,MAAeC;QACpB,MAAMC,IAAO9O,KAAKuO;QAClB,OAAOM,EAAOE,MAAK,SAAUjN;YAC3B,OAAOgN,EAAKnF,WAAW7H;AACzB;AACD;IAEMkN,GAAiBC;QACtB,IAAIjP,KAAK4O,GAAYK,IAAM;YACzBjP,KAAKuO,KAAQvO,KAAKuO,GAAMxN,MAAMkO,EAAIhO;YAClCjB,KAAK2O,MAAUM,EAAIhO;YACnBjB,KAAKkP,GAAQD;YACb,OAAO;AACR;QACD,OAAO;AACR;IAEME,GAASF;QACd,KAAKjP,KAAKgP,GAAiBC,IAAM;YAC/BjP,KAAKoP,GAAQ,IAAIH;AAClB;AACF;IAEMG,GAAQC;QACb,MAAM,IAAI3L,MAAMnE,WAAU,MAA+B8P,GAAKrP,KAAK2O,IAAQ3O,KAAKwO,IAAQxO,KAAKuO,IAAOvO,KAAKuO;AAC1G;IAEMe;QACL,KAAKtP,KAAKC,GAAO;YACf,MAAM,IAAIyD,MAAMnE,WAA+B,MAAAS,KAAKuO,IAAOvO,KAAK2O,IAAQ3O,KAAKwO;AAC9E;AACF;IAEMe;QACL,MAAMC,IAAOxP,KAAKuO,GAAM;QACxBvO,KAAKuO,KAAQvO,KAAKuO,GAAMxN,MAAM;UAC5Bf,KAAK2O;QACP3O,KAAKkP,GAAQM;AACd;IAEMC;QACLzP,KAAKyO,GAASzO,KAAK0O,QAAkB;AACtC;IAEMgB;QACL,MAAMC,MAAgB3P,KAAK0O;QAC3B,MAAMkB,IAAU5P,KAAKyO;QACrB,MAAMoB,IAASD,EAAQD;QACvBC,EAAQD,KAAe;QACvB,OAAOE;AACR;IAEMC;QACL9P,KAAKyO,KAAWzO,KAAK0O,MAAgB;AACtC;IAEOQ,GAAQD;QACd,MAAMU,IAAc3P,KAAK0O;QACzB,MAAMkB,IAAU5P,KAAKyO;QACrB,KAAK,IAAIjN,IAAI,GAAGA,IAAImO,KAAenO,GAAG;YACpCoO,EAAQpO,MAAMyN;AACf;AACF;;;IAGec;;CAAlB,SAAkBA;IAChBA,EAAAA,EAAA,WAAA,KAAA;IACAA,EAAAA,EAAA,sBAAA,KAAA;IACAA,EAAAA,EAAA,mBAAA,KAAA;IACAA,EAAAA,EAAA,kBAAA,KAAA;IACAA,EAAAA,EAAA,aAAA,KAAA;IACAA,EAAAA,EAAA,eAAA,KAAA;IACAA,EAAAA,EAAA,YAAA,KAAA;IACAA,EAAAA,EAAA,cAAA,KAAA;IACAA,EAAAA,EAAA,mBAAA,KAAA;IACAA,EAAAA,EAAA,eAAA,KAAA;AACD,EAXD,CAAkBA,MAAAA,IAWjB,CAAA;;AAED,MAAMC,IAAQ,IAAIC;;MAGLC;IACAC;QAA+B,OAA4B;AAAE;IAExEvQ,YACkBwQ,GACAvI,GACAwI,GACAC;QAHAtQ,KAAUoQ,aAAVA;QACApQ,KAAI6H,OAAJA;QACA7H,KAAWqQ,cAAXA;QACArQ,KAAQsQ,WAARA;AACd;IAEGlQ,aAAa0B;QAClB,MAAMe,IAAMf,EAAMK;QAClB,IAAIoO,IAASP,EAAMQ,IAAI3N;QACvB,IAAI0N,WAAgB,GAAG;YACrBP,EAAMS,IAAI5N,GAAK0N,IAASL,gBAAgBQ,GAAQ5O;AACjD;QACD,OAAOyO;AACR;IAGOnQ,UAAe0B;QACrB,MAAMiC,IAAOjC,EAAMiC;QACnB,IAAIA,MAAS,IAAI;YACf,OAAO,IAAImM,gBACT,OACAS,kBAAkBC,OAClB9O,EAAMa,OACNb,EAAMwO;AAET;QAeD,MAAMtJ,IAAQ,IAAIsH,YAAYvK;QAC9BiD,EAAMyI;QACN,MAAMW,IAAapJ,EAAMgI,GAAiB;QAE1C,MAAMnH,IAAOgJ,2BAA2BC,GAAO9J;QAC/CA,EAAMsI;QAENtI,EAAM8I;QACN,OAAO,IAAII,gBAAgBE,GAAYvI,GAAM/F,EAAMa,OAAOb,EAAMwO;AACjE;IAEMS,kBAAkBC;QACvB,OAAO,IAAIC,wBACTD,GACAhR,KAAKoQ,YACLpQ,KAAK6H,KAAKqJ,GAAgB,GAAG,IAC7B3O,qBAAqBvC,KAAKqQ,aAAaW,EAAQX,aAAa,OAC5DrQ,KAAKsQ,YAAYU,EAAQV;AAE5B;;;MA0BUO;IACAV;QAA0C,OAAuC;AAAE;IAE9FvQ,YACkBuR;QAAAnR,KAAQmR,WAARA;AACd;IAGG/Q,UAAc4G;QACnBA,EAAMyI;QAIN,MAAM1M,IAASiE,EAAMgI,GAAiB;QACtC,MAAMmC,IAAW;QACjB,GAAG;YACDA,EAASxP,KAAKyP,wBAAwBN,GAAO9J;AAC9C,iBAAQA,EAAMgI,GAAiB;QAEhC,KAAKjM,KAAUoO,EAASlQ,WAAW,GAAG;YACpC+F,EAAM8I;YACN,OAAOqB,EAAS;AACjB;QAEDnK,EAAM8I;QACN,OAAO,IAAIe,2BAA2BM;AACvC;IAGMD,GAAgBG,GAAcC;QACnC,QAAQtR,KAAKmR,SAASlQ;UACpB,KAAK;YACH,OAAO;;UACT,KAAK;YACH,OAAOjB,KAAKmR,SAAS,GAAGD,GAAgBG,GAAMC;;UAChD,KAAK;YACH,OAAO,KACFtR,KAAKmR,SAAS,GAAGD,GAAgBG,GAAM,OACvCrR,KAAKmR,SAAS,GAAGD,GAAgB,GAAGI;;UAE3C;YACE,OAAO,KACFtR,KAAKmR,SAAS,GAAGD,GAAgBG,GAAM,OACvCrR,KAAKmR,SAASpQ,MAAM,IAAI,GAAGwQ,SAAQ,SAAU5L;gBAC9C,OAAOA,EAAEuL,GAAgB,GAAG;AAC9B,oBACGlR,KAAKmR,SAASnR,KAAKmR,SAASlQ,SAAS,GAAGiQ,GAAgB,GAAGI;;AAGrE;;;MAkBUF;IACAjB;QAAuC,OAAoC;AAAE;IAExFvQ,YACkB4R,GACAC;QADAzR,KAAIwR,OAAJA;QACAxR,KAAKyR,QAALA;AACd;IAGGrR,UAAc4G;QACnBA,EAAMyI;QAEN,MAAM+B,IAAOE,uBAAuBZ,GAAO9J;QAE3C,IAAIA,EAAMgI,GAAiB,MAAM;YAC/B,MAAMyC,IAAQL,wBAAwBN,GAAO9J;YAE7CA,EAAM8I;YACN,OAAO,IAAIsB,wBAAwBI,GAAMC;AAC1C;QAEDzK,EAAM8I;QACN,OAAO0B;AACR;IAGMN,GAAgBG,GAAcC;QACnC,MAAMK,IAAmB3R,KAAKwR,KAAKN,GAAgBG,GAAM;QACzD,MAAMO,IAAoB5R,KAAKyR,MAAMP,GAAgB,GAAGI;QACxD,IAAI/Q,IAAMoR,EAAiBA,EAAiB1Q,SAAS;QACrD,OAAOV,EAAI+K,SAASrK,SAAS,GAAG;YAC9BV,IAAMA,EAAI+K,SAAS/K,EAAI+K,SAASrK,SAAS;AAC1C;QACDV,EAAI+K,SAAS3J,QAAQiQ;QACrB,OAAOD;AACR;;;MAkCUD;IACAvB;QAAsC,OAAmC;AAAE;IAEtFvQ,YACkBiS;QAAA7R,KAAU6R,aAAVA;AACd;IAGGzR,UAAc4G;QACnBA,EAAMyI;QAEN,IAAIzI,EAAMgI,GAAiB,MAAM;YAC/B,MAAM6C,IAAahB,2BAA2BC,GAAO9J;YACrDA,EAAMmI,GAAS;YAEfnI,EAAM8I;YACN,OAAO,IAAI4B,uBAAuBG;AACnC;QAED7K,EAAM8I;QACN,OAAOa,kBAAkBG,GAAO9J;AACjC;IAGMkK,GAAgBG,GAAcC;QACnC,OAAOtR,KAAK6R,WAAWX,GAAgBG,IAAO,GAAGC,IAAQ;AAC1D;;;MAMUX;IACAR;QAAiC,OAA8B;AAAE;IAE1DS;QAA6B,OAAO,IAAID,kBAAkBmB,oBAAoBlB,OAAOmB,mBAAmBnB,OAAO;AAAQ;IAEzIhR,YACkB0E,GACAsG,GACAoH;QAFAhS,KAASsE,YAATA;QACAtE,KAAQ4K,WAARA;QACA5K,KAAMgS,SAANA;AACd;IAGG5R,UAAc4G;QACnBA,EAAMyI;QAEN,MAAMnL,IAAYwN,oBAAoBhB,GAAO9J;QAC7C,MAAM4D,IAAWmH,mBAAmBjB,GAAO9J;QAC3C,MAAMgL,KAAUhL,EAAMgI,GAAiB;QAEvChI,EAAM8I;QACN,OAAO,IAAIa,kBAAkBrM,GAAWsG,GAAUoH;AACnD;IAGMd,GAAgBG,GAAcC;QACnC,OAAO,EACLW,oBAAoB7D,OAAO;YACzB9J,WAAWtE,KAAKsE,UAAUiC;YAC1BqF,QAAQ5L,KAAKsE,UAAU4N,cAAcC;YACrCvH,UAAU5K,KAAK4K,SAASrE;YACxB8K;YACAC;;AAGL;;;MAGUQ;IACA3B;QAAmC,OAAgC;AAAE;IAE9DS;QAA+B,OAAO,IAAIkB,oBAAoB,IAAIM,wBAAwBxB;AAAS;IAmBrHhR,YACkB2G,GACA2L;QADAlS,KAAIuG,OAAJA;QACAvG,KAAakS,gBAAbA;QAEhB,QAAQ3L,EAAK8L,OAAO;UAClB,KAAK;YACHrS,KAAKsS,cAAc;YACnBtS,KAAKuS,SAAS;YACdvS,KAAKwS,YAAY;YACjBxS,KAAKyS,gBAAgBlM,EAAKxF,MAAM;YAChC;;UACF,KAAK;YACHf,KAAKsS,cAAc;YACnBtS,KAAKuS,SAAS;YACdvS,KAAKwS,YAAY;YACjBxS,KAAKyS,gBAAgBlM,EAAKxF,MAAM;YAChC;;UACF;YACEf,KAAKsS,cAAc;YACnBtS,KAAKuS,SAAS;YACdvS,KAAKwS,YAAY;YACjBxS,KAAKyS,gBAAgBlM;YACrB;;AAEL;IAGMnG,UAAc4G;QACnBA,EAAMyI;QACNzI,EAAMyI;QACN,KAAKzI,EAAM/G,GAAO;YAChB,IAAI+G,EAAM4H,GAAY,OAAO;gBAC3B5H,EAAMuI;AACP,mBAAM,IAAIvI,EAAM4H,GAAY,QAAQ;gBACnC5H,EAAMuI;gBACNvI,EAAMuI;AACP,mBAAM;gBACL,QAAQvI,EAAM/G,MAAU+G,EAAM4H,MAAeP,IAAW;oBACtDrH,EAAMuI;AACP;AACF;AACF;QAED,MAAMhJ,IAAOS,EAAM0I;QACnB,IAAInJ,EAAKtF,WAAW,GAAG;YACrB+F,EAAMoI,GAAQ;AACf;QACD,MAAM8C,IAAgBE,wBAAwBtB,GAAO9J;QAErDA,EAAM8I;QACN,OAAO,IAAIgC,oBAAoBvL,GAAM2L;AACtC;;;MAGUH;IACA5B;QAAkC,OAA+B;AAAE;IAE5DS;QAA8B,OAAO,IAAImB,mBAAmB;AAAM;IAEpFnS,YACkB2G;QAAAvG,KAAIuG,OAAJA;AACd;IAGGnG,UAAc4G;QACnBA,EAAMyI;QACN,IAAIlJ,IAAsB;QAE1B,IAAIS,EAAMgI,GAAiB,MAAM;YAC/BhI,EAAMyI;YACN,QAAQzI,EAAM/G,MAAU+G,EAAM4H,MAAeP,IAAW;gBACtDrH,EAAMuI;AACP;YAEDhJ,IAAOmM,mBAAmB1L,EAAM0I;YAChC,IAAInJ,EAAKtF,WAAW,GAAG;gBACrB+F,EAAMoI,GAAQ;AACf;AACF;QAEDpI,EAAM8I;QACN,OAAO,IAAIiC,mBAAmBxL;AAC/B;;;MAGU6L;IACAjC;QAAuC,OAAoC;AAAE;IAEtES;QAAmC,OAAO,IAAIwB,wBAAwB;AAAM;IAE9FxS,YACkB+S;QAAA3S,KAAW2S,cAAXA;AACd;IAGGvS,UAAc4G;QACnBA,EAAMyI;QACN,MAAMkD,IAAc;QACpB,IAAI3L,EAAMgI,GAAiB,MAAM;YAC/B,GAAG;gBACD2D,EAAYhR,KAAKiR,oBAAoB9B,GAAO9J,GAAO2L,EAAY1R;gBAC/D,KAAK+F,EAAMgI,GAAiB,MAAM;oBAChC;AACD;AACF,sBAAShI,EAAM/G,MAAU+G,EAAM4H,GAAY;YAC5C5H,EAAMmI,GAAS;AAChB;QAEDnI,EAAM8I;QACN,OAAO,IAAIsC,wBAAwBO;AACpC;IAGMR;QACL,MAAMvG,IAAiB,CAAA;QACvB,KAAK,MAAMiH,KAAQ7S,KAAK2S,aAAa;YACnC/G,EAAOiH,EAAKhQ,OAAOgQ,EAAK/Q;AACzB;QACD,OAAO8J;AACR;;;MAGUgH;IACAzC;QAAmC,OAAgC;AAAE;IAE9DS;QAA+B,OAAO,IAAIgC,oBAAoB,IAAI;AAAM;IAE1FhT,YACkBiD,GACAf;QADA9B,KAAG6C,MAAHA;QACA7C,KAAK8B,QAALA;AACd;IAGG1B,UAAc4G,GAAoBgD;QACvChD,EAAMyI;QACNzI,EAAMyI;QACN,QAAQzI,EAAM/G,MAAU+G,EAAM4H,MAAeP,IAAW;YACtDrH,EAAMuI;AACP;QAED,IAAI1M,IAAMmE,EAAM0I;QAChB,IAAI7M,EAAI5B,WAAW,GAAG;YACpB+F,EAAMoI,GAAQ;AACf;QACD,IAAItN;QACJ,IAAIkF,EAAMgI,GAAiB,MAAM;YAC/BhI,EAAMyI;YACN,QAAQzI,EAAM/G,MAAU+G,EAAM4H,MAAeP,IAAW;gBACtDrH,EAAMuI;AACP;YAEDzN,IAAQ4Q,mBAAmB1L,EAAM0I;YACjC,IAAI5N,EAAMb,WAAW,GAAG;gBACtB+F,EAAMoI,GAAQ;AACf;AACF,eAAM;YACLtN,IAAQe;YACRA,IAAMmH,EAAM7H;AACb;QAED6E,EAAM8I;QACN,OAAO,IAAI8C,oBAAoB/P,GAAKf;AACrC;;;AAGU,MAAAgR,IAAM7Q,OAAO8Q,OAAO;IAC/B7C;IACAW;IACAO;IACAM;IACAf;IACAmB;IACAC;IACAK;IACAQ;;;MC/kBWI;IACXpT,YACkBqT,GACAC;QADAlT,KAAYiT,eAAZA;QACAjT,KAAakT,gBAAbA;AACb;IAGE/Q;QACL,OAAO,gBAAgBnC,KAAKiT,4BAA4BjT,KAAKkT;AAC9D;;;AAGH,MAAMC,IAAsD,IAAIC;;MAEnDC;IASiBC;QAA0B,OAAOtT,KAAKuT,SAAM;AAAgB;IAC3DD,OAAWtM;QAAoBhH,KAAKuT,SAAUvT,KAAKuT,SAAmB,MAAIvM;AAAQ;IAClFwM;QAA0B,OAAOxT,KAAKuT,SAAM;AAAgB;IAC5DC,OAAWxM;QAAoBhH,KAAKuT,SAAUvT,KAAKuT,SAAmB,QAAIvM;AAAQ;IAS/GpH,YACkBgL,GACA6I,GAChBC;QAFgB1T,KAAQ4K,WAARA;QACA5K,KAAcyT,iBAAdA;QApBOzT,KAAA2T,KAAqB;QAErB3T,KAAA4T,KAAgC;QAChC5T,KAAA6T,KAAiC;QAEjC7T,cAAmC;QAMnCA,KAAA8T,KAAyB;QAC1B9T,KAAA+T,KAA8B;QAC9B/T,KAAAgU,KAA8B;QAE7BhU,KAAAiU,KAAqC;QACrCjU,KAAAkU,KAAoD;QAO3ElU,KAAKmG,IAAUuN,EAAIjH,UAAU+D,IAAIpK,GAASC,QAAQ,iBAAiBqN,EAAIS;AAGxE;IAEM/T,WAAWwK,GAAqB8I;QACrC,IAAIU,IAAgBjB,EAAoB3C,IAAI5F;QAC5C,IAAIwJ,WAAuB,GAAG;YAC5B,MAAMC,IAAaC,EAAWC,iBAA4B3J;YAC1DuI,EAAoB1C,IAClB7F,GACAwJ,IAAgB,IAAIf,cAAczI,GAAUyJ,GAAYX;AAE3D;QAED,OAAOU;AACR;IAGMI,GAAsBC,GAAgCzI;QAC3D,MAAM0I,IAAK1U,KAAKiU;QAChB,IAAIS,MAAO,MAAM;YAAEC,8BAA8BD;AAAM;QACvD1U,KAAK2T,KAAY;QAGjB,QAAQ3T,KAAKwT;UACX,KAAA;YACE,QAAQxT,KAAKsT;cACX,KAAA;gBAEE;;cACF,KAAA;gBAEE,OAAOtT,KAAK4T,GAAQgB,GAAUH,GAAWzI;;cAC3C;gBACEhM,KAAK6U,GAAiB;;;UAE5B,KAAA;YAAyB;gBACvB,IAAI7U,KAAKiU,OAAoB,MAAM,MAAM,IAAIvQ,MAAMnE,iBAA2CS;gBAE9F,MAAM2E,IAAIhF,MAAMgB,GAAOmU;oBAAQ9U,KAAK4U,GAAUH,GAAWzU,KAAKiU,IAAkBa;AAAG;gBACnF,MAAMzV,IAAI,IAAImF,SAAcyB;oBAAatB,EAAEjE,GAAc;wBAAQuF;AAAS;AAAI;gBAC9E,OAAOtB,EAAEhE,IAASV,SAAa,IAAIZ;AACpC;;UACD;YACEW,KAAK6U,GAAiB;;AAE3B;IAGME,GAAwBN,GAAgCzI;QAC7D,MAAM0I,IAAK1U,KAAKiU;QAChB,IAAIS,MAAO,MAAM;YAAEC,8BAA8BD;AAAM;QACvD1U,KAAK2T,KAAY;QAGjB,QAAQ3T,KAAKsT;UACX,KAAA;YAEE;;UACF,KAAA;YAEE,OAAOtT,KAAK4T,GAAQoB,GAAYP,GAAWzI;;UAC7C,KAAA;YAKE;;UACF;YAAS;gBACP,IAAIhM,KAAKiU,OAAoB,MAAM,MAAM,IAAIvQ,MAAMnE,iBAA6CS;gBAEhG,MAAM2E,IAAIhF,MAAMgB,GAAOmU;oBAAQ9U,KAAKgV,GAAYP,GAAWzU,KAAKiU,IAAkBa;AAAG;gBACrF,MAAMzV,IAAI,IAAImF,SAAcyB;oBAAatB,EAAEjE,GAAc;wBAAQuF;AAAS;AAAI;gBAC9E,OAAOtB,EAAEhE,IAASV,SAAa,IAAIZ;AACpC;;AAEJ;IAGM4V,GAASC;QACd,KAAKlV,KAAKmV,MAAgB;YACxB,OAAO;AACR;QAED,MAAMC,IAAMpV,KAAK4K;QACjB,MAAMyK,IAAQH,EAAIjC;QAClB,MAAMqC,IAAKF,EAAI7O;QAqBf,IAAI8O,MAAUhK,MAAuBiK,MAAOD,GAAO;YAEjD,OAAO;AACR;QAED,MAAME,IAASH,EAAIG;QACnB,IAAIA,EAAOtU,SAAS,MAAMsU,EAAOC,MAAM,KAAKC,SAASP,EAAIhC,gBAAgB;YAEvE,OAAO;AACR;QAGD,OAAO;AACR;IAGMiC;QAEL,KAAKnV,KAAK2T,IAAW;YAEnB,OAAO;AACR;QAED,IAAI3T,KAAKwT,OAAU,IAAwB;YAEzC,OAAO;AACR;QAED,OAAO;AACR;IAGMkC,GAAWhB,GAAgB/P;QAChC,IAAI3E,KAAKiU,OAAoB,MAAM;YAAEjU,KAAKiU,KAAkBS;AAAK;QACjEC,8BAA8BD;QAC9B,IAAIA,EAAGiB,iBAAiB,MAAM;YAAE;AAAS;QAEzChR,EAAErE;aAGG6L,EAAUnM,KAAKkU,KAAsB;YAExCvU,MAAMgB,GAAOmU;gBAEX,KAAK,MAAMc,KAAQ5V,KAAK+T,GAAWzI,UAAU;oBAC3CsK,EAAKxU,QAAQC,IAAIqU,GAAWhB,GAAII;AACjC;AAAA,gBACApU,GAAcoU;gBACf,QAAQ9U,KAAKsT;kBACX,KAAA;oBAEE,QAAQtT,KAAK8T;sBACX,KAAK;wBACH9T,KAAKsT,KAAU;wBACf;;sBACF,KAAK;sBACL,KAAK;wBACHtT,KAAKsT,KAAU;wBACfwB,EAAGxU;wBACHX,MAAMgB,GAAOkV;4BAEX7V,KAAK4T,GAAQ8B,GAAWhB,GAAI1U,KAAKgU,IAAW6B;AAAG,4BAC9CnV,GAAc;4BAEfV,KAAKsT,KAAU;4BACfwB,EAAGtU;AAAM,4BACRG;wBACH;;;kBAEN,KAAA;oBAEE;;kBACF;oBACE+T,EAAGoB,GAAa,IAAIpS,MAAM,oCAAoC1D;;AACjE,gBACAU,GAAc;gBACfiE,EAAEnE;AAAM,gBACPG;AAAQ;AAEd;IAGMoV,GAASrB,GAAgB/P;QAC9B,IAAI3E,KAAKiU,OAAoB,MAAM;YAAEjU,KAAKiU,KAAkBS;AAAK;QACjEC,8BAA8BD;QAC9B,IAAIA,EAAGiB,iBAAiB,MAAM;YAAE;AAAS;QAEzChR,EAAErE;QAIFX,MAAMgB,GAAOmU;YACX,QAAQ9U,KAAKwT;cACX,KAAA;gBAEExT,KAAKwT,KAAU;gBACf,QAAQxT,KAAK8T;kBACX,KAAK;oBACH;;kBACF,KAAK;oBACH,OAAO9T,KAAK4T,GAAQmC,GAASrB,GAAI1U,KAAKgU,IAAYc;;kBACpD,KAAK;oBACHA,EAAGxU;yBACE6L,EACHnM,KAAKgU,GAAW5S,QAAQ4U,GAAsBhW,KAAKyT,gBAAgBzT,KAAKgU,MACxEiC;yBACGjW,KAAK6T,KAAUoC,GAAIF,GAASrB,GAAI1U,KAAKgU,IAAYc;wBAClDA,EAAGtU;AAAM;;;cAInB,KAAA;gBAEE;;cACF;gBACER,KAAK6U,GAAiB;;AACzB,YACAnU,GAAcoU;YACf,MAAMhU,IAAOd,KAAKgU;YAClB,QAAQhU,KAAK8T;cACX,KAAK;cACL,KAAK;gBAAqB;oBAUxBgB,EAAGxU;oBACH,MAAMoT,IAAM5S,EAAKM;yBACZ+K,EACHuH,EAAIwC,cACJ,MAAM/J,EACJA,EACEgK,KACKrV,EAAKsV,QAAQxU,OAAO,GAAGxC,KAAIiX,KAAMC,qBAAqBtW,KAAKmG,GAASrF,GAAMuV,QAE/E,MAAMF,KAAgBzC,EAAI6C,6BAA6BC,QAAO,CAACC,GAAKpV;wBAClE,MAAMiU,IAAKjU,EAAIuJ;wBACf,MAAMtG,IAAYgR,EAAGoB;wBACrB,IAAIpS,MAAc,MAAM,OAAOmS;wBAC/BA,EAAI9U,KAAK2U,qBAAqBtW,KAAKmG,GAASrF,GAAMmR,oBAAoB7D,OAAO;4BAAE9J;4BAAWsG,UAAU0K,EAAG/O;;wBACvG,OAAOkQ;AAAG,wBACR,SAEN;wBAAQ3B,EAAGtU;AAAM;oBAGrB;AACD;;cACD,KAAK;gBAEH;;AACH,YACAE,GAAcoU;YACf,QAAQ9U,KAAKwT;cACX,KAAA;gBAEExT,KAAKwT,KAAU;gBACf,KAAK,MAAMoC,KAAQ5V,KAAKgU,GAAW1I,UAAU;oBAC3CsK,EAAKxU,QAAQC,IAAI0U,GAASrB,GAAII;AAC/B;gBACD;;cACF,KAAA;gBACE;;cACF;gBACE9U,KAAK6U,GAAiB;;AACzB,YACAnU,GAAc;YAEfiE,EAAEnE;AAAM,YACPG;AACJ;IAGMgW,GAAWjC,GAAgB/P;QAChCgQ,8BAA8BD;QAC9BkC,yBAAyB5W,MAAM0U;QAE/B/P,EAAErE;QAIFX,MAAMgB,GAAOmU;YAEX,KAAK,MAAMc,KAAQ5V,KAAK+T,GAAWzI,UAAU;gBAC3CsK,EAAKxU,QAAQC,IAAIsV,GAAWjC,GAAII;AACjC;AAAA,YACApU,GAAcoU;YACf,QAAQ9U,KAAKsT;cACX,KAAA;gBAEE,QAAQtT,KAAK8T;kBACX,KAAK;oBACH9T,KAAKsT,KAAU;oBACf;;kBACF,KAAK;kBACL,KAAK;oBACHtT,KAAKsT,KAAU;oBACfwB,EAAGxU;oBACHX,MAAMgB,GAAOkV;wBAEX7V,KAAK4T,GAAQ+C,GAAWjC,GAAI1U,KAAKgU,IAAW6B;AAAG,wBAC9CnV,GAAc;wBAEfV,KAAKsT,KAAU;wBACfwB,EAAGtU;AAAM,wBACRG;oBACH;;;cAEN,KAAA;gBAEE,KAAK,MAAMiV,KAAQ5V,KAAK+T,GAAWzI,UAAU;oBAC3CsK,EAAKxU,QAAQC,IAAIsV,GAAWjC,GAAI/P;AACjC;gBACD;;cACF;gBACE3E,KAAK6U,GAAiB;;AACzB,YACAnU,GAAc;YACfiE,EAAEnE;AAAM,YACPG;AACJ;IAGMkW,GAASnC,GAAgB/P;QAC9BgQ,8BAA8BD;QAC9BkC,yBAAyB5W,MAAM0U;QAE/B/P,EAAErE;QAIFX,MAAMgB,GAAOmU;YACX,QAAQ9U,KAAKwT;cACX,KAAA;gBAA4B;oBAE1BxT,KAAKwT,KAAU;oBACf,QAAQxT,KAAK8T;sBACX,KAAK;wBACH;;sBACF,KAAK;wBACH,OAAO9T,KAAK4T,GAAQiD,GAASnC,GAAI1U,KAAKgU,IAAYc;;sBACpD,KAAK;wBACH,OAAO9U,KAAK6T,GAASgD,GAASnC,GAAI1U,KAAKgU,IAAYc;;AAExD;;cACD,KAAA;gBAEE;;cACF;gBACE9U,KAAK6U,GAAiB;;AACzB,YACAnU,GAAcoU;YACf,QAAQ9U,KAAKwT;cACX,KAAA;gBAEExT,KAAKwT,KAAU;gBACf,KAAK,MAAMoC,KAAQ5V,KAAKgU,GAAW1I,UAAU;oBAC3CsK,EAAKxU,QAAQC,IAAIwV,GAASnC,GAAII;AAC/B;gBACD;;cACF,KAAA;gBACE;;cACF;gBACE9U,KAAK6U,GAAiB;;AACzB,YACAnU,GAAc;YAEfiE,EAAEnE;AAAM,YACPG;AACJ;IAGOqU,GAAYP,GAAuCC,GAAgB/P;QACzEgQ,8BAA8BD;QAC9BkC,yBAAyB5W,MAAM0U;QAE/B/P,EAAErE;QAGF,QAAQN,KAAKsT;UACX,KAAA;YAEEtT,KAAKsT,KAAU;YACf,QAAQtT,KAAK8T;cACX,KAAK;cACL,KAAK;gBACHnP,EAAEnE;gBACF;;cACF,KAAK;gBAAW;oBACd,MAAM6T,IAAarU,KAAKyT;oBACxB,MAAMqD,IAAQ9W,KAAK4T;oBACnBc,EAAGqC,IAAK,MACC5K,EAAU2K,EAAM9B,GAAYP,GAAWJ,KAAa;wBAEzD,IAAII,MAAc,MAAM;4BACtBqC,EAAME;AACP;AAAA,2BAEF;wBACDrS,EAAEnE;AAAM;AAEX;;YAEH;;UACF,KAAA;YAEEmE,EAAEnE;YACF;;UACF,KAAA;YAEEmE,EAAEnE;YACF;;UACF;YACER,KAAK6U,GAAiB;;AAE3B;IAGOD,GAAUH,GAAuCC,GAAgB/P;QACvEgQ,8BAA8BD;QAC9BkC,yBAAyB5W,MAAM0U;QAE/B/P,EAAErE;QAGF,IAAIN,KAAKwT,OAAU,IAA4B;YAG7C7T,MAAMgB,GAAOmU;gBACX9U,KAAK+V,GAASrB,GAAII;AAAG,gBACpBpU,GAAcoU;gBACf9U,KAAK6W,GAASnC,GAAII;AAAG,gBACpBpU,GAAcoU;gBACf9U,KAAK4U,GAAUH,GAAWC,GAAII;AAAG,gBAChCpU,GAAc;gBACfiE,EAAEnE;AAAM,gBACPG;YACH;AACD;QAED,QAAQX,KAAKwT;UACX,KAAA;YAEExT,KAAKwT,KAAU;YAEf7T,MAAMgB,GAAOmU;gBACX,QAAQ9U,KAAK8T;kBACX,KAAK;kBACL,KAAK;oBACH;;kBACF,KAAK;oBAAW;wBACd,MAAMO,IAAarU,KAAKyT;wBACxBiB,EAAGqC,IAAK;4BACNjC,EAAGxU;4BACH,OAAON,KAAK6T,GAASe,GAAUH,GAAWJ;AAAW,6BACpD;4BACDS,EAAGtU;AAAM;AAEZ;;AACF,gBACAE,GAAcoU;gBACf9U,KAAKiX,GAAwBvC,GAAII;AAAG,gBACnCpU,GAAc;gBACfiE,EAAEnE;AAAM,gBACPG;YACH;;UACF,KAAA;YAEEgE,EAAEnE;YACF;;UACF;YACER,KAAK6U,GAAiB;;AAE3B;IAGMqC,GAAMxC,GAAgB/P;QAE3B,IAAI3E,KAAKsT,OAAU,MAAwB;YAEzCtT,KAAK4U,GAAU,MAAMF,GAAI/P;YACzB;AACD;QACD,IAAI3E,KAAKwT,OAAU,IAAwB;YAEzCxT,KAAKgV,GAAY,MAAMN,GAAI/P;YAC3B;AACD;QAEDgQ,8BAA8BD;QAC9BkC,yBAAyB5W,MAAM0U;QAE/B,MACE1U,KAAKsT,OAAmC,OACxCtT,KAAKwT,OAAiC,IACrC;YACDxT,KAAK6U,GAAiB;AACvB;QAED7U,KAAKsT,KAAU;QACftT,KAAKwT,KAAU;QAEf,QAAQxT,KAAK8T;UACX,KAAK;UACL,KAAK;YAAqB;gBAExB,MAAMqD,IAAQvW,cAAcZ,KAAKgU,GAAW1I,UAAUtL,KAAK+T,GAAWzI;gBACtE,KAAK,MAAMsK,KAAQuB,GAAO;oBACxBvB,EAAKxU,QAAQC,IAAI6V,GAAMxC,GAAI/P;AAC5B;gBACD;AACD;;UACD,KAAK;YAAW;gBAEd,MAAM0P,IAAarU,KAAKyT;gBACxB,MAAM2D,IAAQpX,KAAK4T;gBACnB,MAAMyD,IAASrX,KAAK6T;gBACpBlP,EAAErE;gBACFX,MAAMgB,GAAOmU;oBACXJ,EAAGqC,IAAK;wBACNjC,EAAGxU;wBACH,OAAO6L,EAAUiL,EAAMpC,GAAY,MAAMX,KAAa,MAAM+C,EAAMJ;AAAW,yBAC5E;wBACDlC,EAAGtU;AAAM;AACT,oBACDE,GAAcoU;oBACfJ,EAAGqC,IAAK;wBACNjC,EAAGxU;wBACH,OAAO+W,EAAOzC,GAAU,MAAMP;AAAW,yBACxC;wBACDS,EAAGtU;AAAM;AACT,oBACDE,GAAcoU;oBACf9U,KAAKiX,GAAwBvC,GAAII;AAAG,oBACnCpU,GAAc;oBACfiE,EAAEnE;AAAM,oBACPG;gBACH;AACD;;AAEJ;IAGOsW,GAAwBvC,GAAgB/P;QAE9C,MAAM7D,IAAOd,KAAKgU;QAElBU,EAAGqC,IAAK;YACNpS,EAAErE;YACF,MAAMoT,IAAM5S,EAAKM;YACjB,OAAO+K,EAAUuH,EAAIwC,cAAa;gBAChC,MAAMoB,IAAmBxW,EAAKwK,SAASvK;gBACvC,OAAOoL,EACLgK,KAAgBrV,EACbsV,QACAxU,OAAO,GACPxC,KAAIiX,KAAMC,qBAAqBtW,KAAKmG,GAASrF,GAAMuV,QACtD,MAAMlK,EACJgK,KAAgBzC,EACb6C,6BACAC,QAAO,CAACC,GAAKpV;oBACZ,MAAMiU,IAAKjU,EAAIuJ;oBACf,MAAMtG,IAAYgR,EAAGoB;oBACrB,IAAIpS,MAAc,MAAM,OAAOmS;oBAC/BA,EAAI9U,KAAK2U,qBAAqBtW,KAAKmG,GAASrF,GAAMmR,oBAAoB7D,OAAO;wBAAE9J;wBAAWsG,UAAU0K,EAAG/O;;oBACvG,OAAOkQ;AAAG,oBACR,OAEN,MAAM3V,EAAKwK,SAASiM,QAAO5R,MAAM2R,EAAiB7B,SAAS9P;AAE9D;AACD,aACD6R;YACD7X,MAAMgB,GAAOmU;gBACX,KAAK,MAAMc,KAAQ4B,GAAa;oBAC9B9C,EAAGqC,IAAK;wBACNjC,EAAGxU;wBACH,OAAOsV,EAAKxU,QAAQC,IAAI0U,GAASrB,GAAII;AAAG,yBACvC;wBACDA,EAAGtU;AAAM;AAEZ;AAAA,gBACAE,GAAcoU;gBACf,KAAK,MAAMc,KAAQ4B,GAAa;oBAC9B9C,EAAGqC,IAAK;wBACNjC,EAAGxU;wBACH,OAAOsV,EAAKxU,QAAQC,IAAIwV,GAASnC,GAAII;AAAG,yBACvC;wBACDA,EAAGtU;AAAM;AAEZ;AAAA,gBACAE,GAAcoU;gBACf,KAAK,MAAMc,KAAQ4B,GAAa;oBAC9B9C,EAAGqC,IAAK;wBACNjC,EAAGxU;wBACH,OAAOsV,EAAKxU,QAAQC,IAAIuT,GAAU,MAAMF,GAAII;AAAG,yBAC9C;wBACDA,EAAGtU;AAAM;AAEZ;AAAA,gBACAE,GAAc;gBACfiE,EAAEnE;AAAM,gBACPG;AAAQ;AAEd;IAGM8W,GAAgBzG,GAA4BlQ;QACjD,QAAQd,KAAKwT;UACX,KAAA;YACExT,KAAKgU,KAAYlT;YACjBd,KAAKwT,KAAU;YACf;;UACF;YACExT,KAAK6U,GAAiB;;QAG1B,QAAQ7U,KAAKsT;UACX,KAAuB;UACvB,KAAwB;UACxB,KAAA;YACE;;UACF;YACEtT,KAAK6U,GAAiB;;QAG1B,MAAMtU,IAAMP,KAAK4T,IAAQ8D,MAAc;QACvC,IAAInX,MAAQ,QAAQA,EAAI+D,cAAcxD,EAAKwD,WAAW;YAEpDtE,KAAK8T,KAAS;AACf,eAAM;YAEL9T,KAAK8T,KAAShT,EAAKM,QAAQwC,OAAO6H,EAAmBlL,GAAKO,GAAMkQ,EAAQrG;AACzE;AAGF;IAGMgN;QACL,IAAI3X,KAAK+T,OAAc,MAAM;YAC3B/T,KAAK+T,GAAUzI,SAASsM,SAAQ,SAAUhC;gBACxCA,EAAKxU,QAAQC,IAAIsW;AACnB;AACD;QACD,IAAI3X,KAAKgU,OAAc,MAAM;YAC3BhU,KAAKgU,GAAU1I,SAASsM,SAAQ,SAAUhC;gBACxCA,EAAKxU,QAAQC,IAAIsW;AACnB;AACD;QAID,IAAIE,IAA0D;QAC9D,IAAIC,IAAuD;QAC3D,QAAQ9X,KAAKsT;UACX,KAAuB;UACvB,KAAA;YACEtT,KAAKiU,KAAkB;YACvB;;UACF,KAAyB;UACzB,KAAA;YACEjU,KAAKsT,KAAU;YACftT,KAAKiU,KAAkB;YACvB;;UACF,KAAsB;UACtB,KAA0B;UAC1B,KAAA;YACE4D,IAA6B1L,EAAUnM,KAAK4T,IAAQoB,GAAY,MAAMhV,KAAKyT,kBAAiB;gBAC1FzT,KAAK4T,IAAQoD;gBACbhX,KAAKsT,KAAU;gBACftT,KAAK4T,KAAS;AAAI;YAEpB;;QAGJ,QAAQ5T,KAAKwT;UACX,KAAuB;UACvB,KAA2B;UAC3B,KAAuB;UACvB,KAAA;YACExT,KAAKgU,KAAY;YACjBhU,KAAKwT,KAAU;YACf;;UACF,KAAoB;UACpB,KAAwB;UACxB,KAAA;YAAyB;gBACvBsE,IAA0B3L,EAAUnM,KAAK6T,IAASmB,GAAY,MAAMhV,KAAKyT,kBAAiB;oBACxFzT,KAAK6T,IAASmD;oBACdhX,KAAK8T,KAAS;oBACd9T,KAAKwT,KAAU;oBACfxT,KAAK6T,KAAU;oBACf7T,KAAKgU,KAAY;AAAI;gBAEvB;AACD;;QAGH,IAAI6D,MAA+B,QAAQC,MAA4B,MAAM;YAC3E9X,KAAKkU,KAAuB/H,EAAUgK,EAAa0B,GAA4BC,KAA0B;gBACvG9X,KAAKiU,KAAkB;gBACvBjU,KAAKkU,KAAuB;AAAI;AAEnC;AACF;IAGM6D;QACL,IAAI/X,KAAK+T,OAAc,MAAM;YAC3B/T,KAAK+T,GAAUzI,SAASsM,SAAQ,SAAUhC;gBACxCA,EAAKxU,QAAQC,IAAI0W;AACnB;AACD;QACD,IAAI/X,KAAKgU,OAAc,MAAM;YAC3BhU,KAAKgU,GAAU1I,SAASsM,SAAQ,SAAUhC;gBACxCA,EAAKxU,QAAQC,IAAI0W;AACnB;AACD;QAED,IAAI/X,KAAKiU,OAAoB,MAAM;YAEjCU,8BAA8B3U,KAAKiU;YACnC,QAAQjU,KAAKwT;cACX,KAAA;gBACE,QAAQxT,KAAKsT;kBACX,KAAuB;kBACvB,KAAA;oBAEEtT,KAAKsT,KAAU;oBACftT,KAAK4T,KAAS;oBACd;;kBACF;oBACE5T,KAAK6U,GAAiB;;gBAE1B;;cACF,KAAA;gBACE,QAAQ7U,KAAKsT;kBACX,KAAuB;kBACvB,KAAA;oBACE,QAAQtT,KAAK8T;sBACX,KAAK;sBACL,KAAK;wBAEH9T,KAAKsT,KAAU;wBACf;;sBACF,KAAK;wBAEHtT,KAAKsT,KAAU;wBACftT,KAAK4T,KAAS5T,KAAK6T;wBACnB;;oBAEJ7T,KAAK+T,KAAY/T,KAAKgU;oBACtB;;kBACF;oBACEhU,KAAK6U,GAAiB;;gBAE1B;;cACF;gBACE7U,KAAK6U,GAAiB;;YAG1B7U,KAAK8T,KAAS;YACd9T,KAAKwT,KAAU;YACfxT,KAAKgU,KAAY;YACjBhU,KAAK6T,KAAU;YACf7T,KAAKiU,KAAkB;AACxB;AACF;IAGM9R;QACL,OAAO,aAAa6V,OAAOhY,KAAKuT,iBAAiBvT,KAAK8T,SAAa9T,KAAKgU,QAAehU,KAAK+T,eAAsB/T,KAAK4K;AACxH;IAGMoM;QAELhX,KAAK4T,IAAQoD;AACd;IAGOnC,GAAiBoD;QACvB,MAAM,IAAIvU,MAAMnE,WAAU,MAA4B0Y,GAAOjY;AAC9D;;;AAGH,SAAS4W,yBAAyBvV,GAAoBqT;IACpD,IAAIA,EAAGiB,iBAAiB,MAAM,MAAM,IAAIjS,MAAMnE,WAA6C,MAAAmV,EAAGiB,cAActU;AAC9G;;AAEA,SAASsT,8BAA8BD;IACrC,IAAIA,EAAG1V,eAAe,MAAM0V,EAAGwD,uBAAuB,MAAMxD,EAAG1V;AACjE;;AA+CA,MAAMmZ,IAAc,IAAIlI;;AACxB,SAAS+H,OAAOhR;IACd,IAAIiI,IAAMkJ,EAAY3H,IAAIxJ;IAC1B,IAAIiI,WAAa,GAAG;QAClBkJ,EAAY1H,IAAIzJ,GAAOiI,IAAMmJ,eAAepR;AAC7C;IACD,OAAOiI;AACT;;AACA,SAASmJ,eAAepR;IACtB,MAAMqR,IAAkB;IAExB,KAAKrR,IAAyB,gBAAyB;QACrDqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAA0B,gBAA0B;QACvDqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAA2B,gBAA2B;QACzDqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAA+B,gBAA+B;QACjEqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAAwB,cAAwB;QACnDqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAA4B,cAA4B;QAC3DqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAA4B,cAA4B;QAC3DqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAAyB,YAAyB;QACrDqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAA6B,YAA6B;QAC7DqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAAyB,YAAyB;QACrDqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAA6B,UAA6B;QAC7DqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAAsB,UAAsB;QAC/CqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAA0B,UAA0B;QACvDqR,EAAM1W,KAAK;AACZ;IACD,KAAKqF,IAA0B,UAA0B;QACvDqR,EAAM1W,KAAK;AACZ;IAED,OAAO0W,EAAM7Y,KAAK;AACpB;;MC73Ba8Y;IAIAzQ;QACT,OAAO7H,KAAKuY,GAAM1Q;AACnB;IAIU2Q;QAAqC,OAAOxY,KAAKyY;AAA2B;IAGvF7Y,YAIkBmE,GAIA2U,GAQAtX,GAEAuX,GAEAjL,GACA9B,GACAyE,GACAC,GACAzF,GAaA+N,GACA7P,GACAzE,GASA8R;QA5CApW,KAAI+D,OAAJA;QAIA/D,KAAS0Y,YAATA;QAQA1Y,KAAOoB,UAAPA;QAEApB,KAAoB2Y,KAApBA;QAEA3Y,KAAW0N,cAAXA;QACA1N,KAAM4L,SAANA;QACA5L,KAAWqQ,cAAXA;QACArQ,KAAQsQ,WAARA;QACAtQ,KAAI6K,OAAJA;QAaA7K,KAAS4Y,KAATA;QACA5Y,KAAK+I,QAALA;QACA/I,KAASsE,YAATA;QASAtE,KAAOoW,UAAPA;QA3DMpW,KAAA6Y,KAAmB;QAOnC7Y,KAAwByY,KAAY;QAE5BzY,KAAQsL,WAAgB;QAoDtCtL,KAAK2Y,OAAL3Y,KAAK2Y,KAAyBjL;AAC/B;IAEMtN,cAAc0Y;QAEnB,OAAQC,CAACA,IAAUC,MAAMpN,KAAWkN,EAAMlN,UAAU;QACpD,OAAO,IAAI0M,UACQQ,EAAM/U,MACN+U,EAAMJ,WACNI,EAAM1X,SACN0X,EAAMG,uBAAuBH,EAAMpL,aACnCoL,EAAMpL,aACNzL,OAAO8Q,OAAOnH,IACdkN,EAAMzI,eAAe6I,GACrBJ,EAAMxI,YAAY,MAClBrO,OAAO8Q,OAAO+F,EAAMjO,QAAQsO,IAC5BL,EAAMF,MAAa,MACnBE,EAAM/P,SAAS,MACf+P,EAAMxU,WACNwU,EAAM1C,WAAW;AAErC;IAEMgD,SAASlS,GAAuCmS,IAAyB;QAC9E,IAAIrZ,KAAKoB,YAAY8F,EAAa8J,QAAQ5P,SAAS;YACjD,MAAMkY,IAAetZ,KAAKsL;YAC1B,MAAMiO,IAAsBrS,EAAaoE;YACzC,KAAK,IAAI9J,IAAI,GAAGuD,IAAKuU,EAAarY,QAAQO,IAAIuD,KAAMvD,GAAG;gBACrD,KAAK,IAAIgY,IAAI,GAAGC,IAAKF,EAAoBtY,QAAQuY,IAAIC,KAAMD,GAAG;oBAC5D,MAAME,IAAmBH,EAAoBC;oBAC7C,MAAMG,IAAsBN,IAAgBK,EAAiBE,iBAAiB1V,MAAM2V,WAAW;oBAC/F,MAAMC,IAAYR,EAAa9X,IAAIgY,MAAM;oBACzC,MAAM9L,IAAcoM,MAAc,OAC9BA,EAAUtB,0BAA0BsB,EAAUpM,cAAcoM,EAAUnB,KACtE;oBACJ,MAAMoB,IAAgBrM,GAAakM,iBAAiB1V,MAAM2V;oBAC1D,IAAIrY,IAAIgY,IAAIzU,OAEP4U,GAAqBK,iBAAiBD,MAAkB,WACrDrM,GAAa0L,SAASM,MAAqB,SAEjD;wBACA,IAAIF,IAAI,MAAMC,GAAI;4BAChB,OAAO;AACR;AACF,2BAAM;wBACL;AACD;AACF;AACF;AACF;QAED,OAAOzZ,KAAKsL,SAASyD,MAAK,SAAUpJ;YAClC,OAAOA,EAAEyT,SAASlS,GAAcmS;AAClC;AACD;IAGMY,GAAaC;QAClBla,KAAKsL,SAAS3J,KAAKuY;QACnBA,EAAMC,GAASna,KAAKuY;AACrB;IAGM6B;QACL,KAAK,MAAMC,KAAKra,KAAKsL,UAAU;YAC7B+O,EAAED;YACFC,EAAEjZ,QAAQC,IAAIsW;AACf;QACD3X,KAAKsL,SAASrK,SAAS;AACxB;IAEMqZ,SAASC;QACd,MAAMC,IAAa,KACdxa,KAAKsL,SAASlM,KAAIuG,KAAKA,EAAE2U,SAASC,aAC9Bva,KAAK+I,UAAU,aAAa/I,KAAK+I,MAAM3G,UAAU,GAAGpC,QAAQA,KAAK+I,QACxEwO,QAAO5R,KAAKA,MAAM;QACpB,OAAO6U,EAAWvZ,WAAW,IAAI,OAAOuZ,EAAWhb,KAAK+a;AACzD;IAEME;QACL,IAAIza,KAAKoB,QAAQsZ,QAAQ;YACvB,OAAO;AACR;QACD,MAAM7W,IAAa7D,KAAKoB,QAAQ4K,OAAQ4J,KAAK6E;QAC7C,MAAME,IAAW3a,KAAK0N,YAAakN,eAAe;QAClD,OAAO/W,EAAW5C,SAAS,IACvB0Z,EAAS1Z,SAAS,IAChB,GAAG4C,KAAc8W,MACjB9W,IACF8W;AACL;IAGMR,GAASU;QACd7a,KAAKuY,KAAQsC;QACb,KAAK,MAAMX,KAASla,KAAKsL,UAAU;YACjC4O,EAAMC,GAASU;AAChB;AACF;IAGMC;QACL9a,KAAKyY,KAA2B;QAChC,MAAMnN,IAAWtL,KAAKsL,SAASlM,KAAIuG,KAAKA,EAAEmV;QAC1C,MAAMpN,IAAc1N,KAAK0N,YAAatB;QACtCsB,EAAYpC,SAAS1J,OAAO,GAAG8L,EAAYpC,SAASrK,WAAWqK;QAC/D,OAAQtL,KAAwB0N,cAAcA;AAC/C;IAGMtB;QACL,MAAM1J,IAAQ,IAAI4V,UAChBtY,KAAK+D,MACL/D,KAAK0Y,WACL1Y,KAAKoB,SACLpB,KAAK2Y,IACL3Y,KAAK0N,aACL1N,KAAK4L,QACL5L,KAAKqQ,aACLrQ,KAAKsQ,UACLtQ,KAAK6K,MACL7K,KAAK4Y,IACL5Y,KAAK+I,OACL/I,KAAKsE,WACL,KAAItE,KAAKoW;QAEX,MAAM9K,IAAWtL,KAAKsL;QACtB,MAAMyP,IAAMzP,EAASrK;QACrB,KAAK,IAAIO,IAAI,GAAGA,IAAIuZ,KAAOvZ,GAAG;YAC5BkB,EAAM4I,SAAS3J,KAAK2J,EAAS9J,GAAG4K;AACjC;QACD1J,EAAMmW,KAAW7Y,KAAK6Y,KAAW;QACjC,IAAInW,EAAMtB,QAAQwU,SAAS5V,MAAM;YAC/B0C,EAAMtB,QAAQwU,OAAOlT;AACtB;QACD,OAAOA;AACR;IAGMP;QACL,MAAM6Y,IAAkB;QAExB,MAAM1W,IAAatE,KAAKoB,SAASwC,OAAOU,WAAyBiC,QAAQ;QACzE,IAAIjC,EAAUrD,SAAS,GAAG;YACxB+Z,EAAMrZ,KAAK,MAAM2C;AAClB;QAED,MAAMP,IAAO/D,KAAKoB,SAASwC,OAAOG,QAAQ;QAC1C,IAAIA,EAAK9C,SAAS,GAAG;YACnB+Z,EAAMrZ,KAAK,SAASoC;AACrB;QAED,IAAI/D,KAAKsL,SAASrK,SAAS,GAAG;YAC5B+Z,EAAMrZ,KAAK,aAAa3B,KAAKsL,SAASlM,IAAIE,QAAQE,KAAK;AACxD;QAED,IAAIQ,KAAKoW,QAAQnV,SAAS,GAAG;YAC3B+Z,EAAMrZ,KAAK,WAAW3B,KAAKoW,QAAQhX,KAAI,SAAU6b;gBAC/C,WAAWA,MAAM,UAAU;oBACzB,OAAO,IAAIA;AACZ;gBACD,OAAO3b,OAAO2b;AACf,gBAAEzb,KAAK;AACT;QAED,OAAO,WAAWQ,KAAKoB,SAAS+S,OAAkB6G,EAAMxb,KAAK;AAC9D;;;MAGU0b;IACXtb,YACkBoR,GACAX,GACAC,GACTzI;QAHS7H,KAAOgR,UAAPA;QACAhR,KAAWqQ,cAAXA;QACArQ,KAAQsQ,WAARA;QACTtQ,KAAI6H,OAAJA;AACJ;IAEEuR,SAASlS,GAAuCmS,IAAyB;QAC9E,OAAOrZ,KAAK6H,KAAKuR,SAASlS,GAAcmS;AACzC;IAGMjN;QACL,MAAM1J,IAAQ,IAAIwY,UAChBlb,KAAKgR,QAAQ5E,KACbpM,KAAKqQ,aACLrQ,KAAKsQ,UACLtQ,KAAK6H,KAAKuE;QAEZ1J,EAAMmF,KAAKsS,GAASna;QACpB,OAAO0C;AACR;IAGMyY;QACL,OAAO,IAAIlK,wBACTjR,KAAKgR,SACL,MACAhR,KAAK6H,KAAKyD,SAASlM,KAAIuG,KAAKA,EAAEmV,QAC9B9a,KAAKqQ,aACLrQ,KAAKsQ;AAER;IAGM8K,GAAY3Y;QAChBzC,KAA6BqQ,cAAcpO,OAAO8Q,OAAOxQ,qBAAqBvC,KAAKqQ,aAAa5N,GAAO;AACzG;IAEMN;QACL,OAAOnC,KAAK6H,KAAK1F;AAClB;;;SAGamU,qBACd+E,GACAzF,GACAS;IAEAgF,EAAIC,MAAM,sCAAsC1F,GAAMS;IAEtD,QAAQA,EAAG/R,UAAUwJ;MACnB,KAAA;QACE,QAAQuI,EAAG/R,UAAUxC;UACnB,KAAK;YAEH8T,IAAOA,EAAKxU,QAAQ4K,QAAQ4J,QAAQA;YACpCA,EAAKwE;;UAEP,KAAK;YACH,OAAOjE,KAAgBE,EAAG/K,SAASlM,KAAImc,KAC9BjF,qBAAqB+E,GAAKzF,GAAM2F;;UAE3C;YAAS;gBACPF,EAAIC,MAAM;gBACV,MAAM5H,IAAMkC,EAAKxU;gBACjB,MAAM6X,IAAuB5C,EAA+DjK;gBAC5F,IAAIoP,IAAKnF,EAAGuD;gBAEZ,IAAI4B,MAAO,MAAM,OAAOC,WAAWJ,GAAKzF,GAAM8F,qBAAqBL,GAAKzF,GAAMS,GAA+DmF,GAAIvC;gBAKjJ,IAAI5C,EAAG/K,SAASrK,WAAW,GAAG;oBAC5B,MAAMsP,IAASmD,EAAIiI,GAA6BtF;oBAChD,IAAI9F,MAAW,MAAM;wBACnBqF,EAAK2C,GAAM6C,GAAY7K,EAAO5N;wBAC9B,MAAMiZ,IAAQrL,EAAO8F;wBACpBuF,EAAMtQ,SAAqC3J,QAAQ0U,EAAG/K;wBACvD,OAAOmQ,WACLJ,GACAzF,GACA8F,qBACEL,GACAzF,GACAgG,GACAA,EAAMhC,iBACNvD;AAGL;AACF;gBAED,IAAIwF,IAAmB;gBACvB,IAAI9X,IAAOsS,EAAG/R,UAAUxC;gBACxB,IAAIvB,IAAM8V;gBACV,OAAO9V,EAAI+K,SAASrK,WAAW,GAAG;oBAChCV,IAAMA,EAAI+K,SAAS;oBACnB,IAAI/K,EAAI+D,UAAUwJ,YAA2C;0BACzD+N;wBACF9X,IAAO,GAAGA,KAAQxD,EAAI+D,UAAUxC;AACjC,2BAAM;wBACL;AACD;AACF;gBAED0Z,IAAK9H,EAAIoI,UAAU/X;gBACnBsX,EAAIC,MAAM,mCAAmCE;gBAC7C,MAAMpF,IAAUoF,GAAIpF,WAAW;gBAC/BiF,EAAIC,MAAM,uBAAuBlF;gBACjC,MAAM2F,IAAY3F,MAAY;gBAG9B,IAAIoF,MAAO,QAAQpF,MAAYrS,GAAM;oBAEnC,MAAMiY,IAActI,EAAIiI,GAA6B;wBACnDrX,WAAW+R,EAAG/R,UAAUxC;wBACxB8J,QAAQyK,EAAGzK,UAAUuN;wBACrB9H,MAAMgF,EAAGhF;wBACTC,OAAO+E,EAAG/E;wBACV1G,UAAUyL,EAAGzL;wBACbU,UAAU+K,EAAG/K;;oBAEf,IAAI0Q,MAAgB,MAAM;wBACxBpG,EAAK2C,GAAM6C,GAAYY,EAAYrZ;wBACnC,OAAO8Y,WAAWJ,GAAKzF,GAAM8F,qBAC3BL,GACAzF,GACAoG,EAAY3F,IACZ2F,EAAY3F,GAAGuD,iBACfvD;AACH;oBAGD,MAAM9P,IAAO8P,EAAG/R,UAAUxC;oBAC1B,IAAIyE,MAAS,IAAI;oBACjB,IAAI+O,IAAKe,EAAGzL;oBACZ,IAAI0K,MAAO,QAAQA,EAAGrU,WAAW,GAAGqU,IAAKjK;oBACzC,MAAMhK,IAAMqS,EAAIuI,yBAAyB3G;oBACzC,MAAMvK,IAAW1J,MAAQ,OACrBA,EAAIuJ,SAASyB,GAAagK,GAAIT,GAAMlC,KACpCA,EAAI9P,OAAOyI,GAAagK,GAAIT,GAAMlC;oBACtC,IAAI3I,MAAa,MAAM,MAAM,IAAImR,kBAAkB3c,iBAAmCgH,GAAMmN,EAAIS,IAAemB,GAAI/O,GAAMmN,EAAIpP,UAAUiC;oBAEvI,WAAWwE,MAAa,UAAU;wBAGhCsQ,EAAIC,MAAM,uBAAuBvQ;wBACjC,MAAMoR,IAAMzI,EAAI0I,YAA8BnO,MAAKtI,KAAKA,EAAEkB,OAAOkE;wBACjE,IAAIoR,WAAY,GAAG,OAAOV,WAAWJ,GAAKzF,GAAMyG,mBAAmBhB,GAAKc,GAAIvG,GAAMS;wBAElFgF,EAAIC,MAAM,4CAA4CvQ;wBACtD,MAAMyQ,IAAK9H,EAAIoI,UAAU/Q,GAAU;wBACnC,IAAIyQ,MAAO,QAAQA,EAAGpF,YAAYrL,GAAU,OAAO0Q,WAAWJ,GAAKzF,GAAM8F,qBAAqBL,GAAKzF,GAAMS,GAA0EmF,GAAI;AACxL;oBAGDH,EAAIC,MAAM,iBAAiBvQ;oBAC3B,OAAOoB,EACLoB,0BAA0BxC,GAAU,OAAO2I,EAAI9P,QAAQ,MAAM8P,KAC7D4I,KAAMb,WAAWJ,GAAKzF,GAAMyG,mBAAmBhB,GAAKiB,GAAI1G,GAAMS;AAEjE;gBAGAmF,EAAkCpF,UAAU;gBAC5CC,EAAG/R,UAA2DxC,QAAQia,IACnEhY,IACAA,EAAKhD,MAAM,KAAKqV,EAAQnV,SAAS;gBAErC,IAAIsb,KAAcR;gBAClB,KAAK,IAAIva,IAAI,GAAGA,IAAIqa,KAAYra,GAAG;oBACjC,MAAM0Y,IAAQ7D,EAAG/K,SAAS;oBAC1B,IAAI8K,GAASzM,WAAWuQ,EAAM5V,UAAUxC,UAAoB,OAAO;wBACjEya,IAAa;wBACb;AACD;oBACAlG,EAAqCzL,WAAWsP,EAAMtP;oBACtDyL,EAAqC/K,WAAW4O,EAAM5O;AACxD;gBACD,IAAIiR,GAAY;oBACdlG,EAAG/K,SAASkR,QAAQvK,oBAAoB7D,OAAOgI;AAChD;gBACAC,EAAqCuD,kBAAkB4B;gBACxDH,EAAIC,MAAM,qCAAqCjF;gBAC/C,OAAOoF,WAAWJ,GAAKzF,GAAM8F,qBAAqBL,GAAKzF,GAAMS,GAA+DmF,GAAIvC;AACjI;;;MAEL,KAAuC;MACvC,KAA+C;MAC/C,KAAA;QAAwD;YACtD,MAAMqD,IAAK1G,EAAKxU;YAChB,OAAO+K,EACLyB,+BAA+ByI,EAAG/R,UAAUxC,OAAOwa,GAAI,KACvDG;gBACE,OAAQpG,IAAIuF,GAAKjZ,OAAEA,KAAU2Z,EAAGX,GAA6B;oBAC3DrX,WAAWmY;oBACX7Q,QAAQyK,EAAGzK,UAAUuN;oBACrB9H,MAAMgF,EAAGhF;oBACTC,OAAO+E,EAAG/E;oBACV1G,UAAUyL,EAAGzL;oBACbU,UAAU+K,EAAG/K;;gBAEfsK,EAAK2C,GAAM6C,GAAYzY;gBACvB,OAAO8Y,WAAWJ,GAAKzF,GAAM8F,qBAC3BL,GACAzF,GACAgG,GACAA,EAAMhC,iBACNvD;AAA0E;AAEjF;;AAEL;;AAEA,SAASqF,qBACPL,GACAzF,GACAS,GACAmF,GACAkB,GACAxY,IAA+DsX,EAAGtX,MAAM2V,SAAS3V;IAEjF,MAAMwP,IAAMkC,EAAKxU;IACjB,MAAMub,IAAK/G,EAAK2C;IAChB,OAAOpM,EAAUjI,EAAM0Y,UAASC;QAC9B3Y,EAAM0Y,UAAUC;QAEhBxB,EAAIC,MAAM,yCAAyCuB,GAAUxG;QAE7D,IAAIwG,EAASpS,eAAe,MAAM;YAChC,MAAMqS,KAAYzG,EAAGzL,UAAU3J,UAAU,KAAK;YAC9C,MAAM8b,IAAkBD,IAAWzG,EAAGzL,WAAWiS,EAASjS;YAC1D,OAAOuB,EACLyB,+BAA+BiP,EAASvY,WAAWoP,GAAK,KACxD+I;gBAEE,MAAMpb,IAAMqS,EAAIsJ,GAAsB,IAAIhK,gBACxC+J,GACAN,EAAIlW;gBAGN,KAAIuW,GAAU;oBACXzG,EAAqCzL,WAAWvJ,EAAIuJ,SAASrE;AAC/D;gBACD,MAAM0W,IAASvJ,EAAIjH,UAAU+D,IAAI0M;gBACjC,OAAO/Q,EACL8Q,EAAOE,gBAAgB9b,GAAKob,GAAK,MAAMpb,EAAIoS,eAAehH,WAAWiH,EAAI9P,QAAQ8P,GAAKmJ,KACtFO;oBAEE/B,EAAIC,MAAM;oBACV,MAAM+B,IAAQD,EAASxH,OAAO0C,UAAUlK,OAAO;wBAC7CrK,MAAMyX,EAAGtX,MAAM2V,SAAS3V,MAAMH;wBAC9B2U,WAAWxU,EAAMH;wBACjB3C,SAASgc;wBACT1P,aAAa2I;wBACb4C,qBAAqByD;wBACrB9Q,QAAQ4P,EAAGtX,MAAM0H;wBACjByE,aAAasM,EAAGtM;wBAChBC,UAAUqM,EAAGrM;wBACbzF,MAAMgS,EAAShS;wBACf+N,IAAWmE;wBACXzY,WAAWmY;wBACX1T,OAAO8T,EAAS9T;wBAEhBqN,SAASC,EAAG/K,SAASvK;;oBAEvBsc,EAAMlD,GAASvE,EAAK2C;oBAEpB8C,EAAIC,MAAM,qCAAqCjF,GAAIgH;oBAEnD,OAAOA;AAAK;AAEf;AAGN;QAGD,MAAMC,IAAWpN,gBAAgBqN,MAAMC,GAAcD,MAAMrZ,EAAMH;QACjE,MAAM0Z,IAAYvN,gBAAgBqN,MAAMC,GAAcD,MAAMV,EAASpS;QACrE,IAAIiT;QACJ,IAAIC;QACJ,MAAMC,IAAoB;QAC1B,QAAQN,EAASzV,KAAKsI;UACpB,KAAkC;UAClC,KAAA;YACEuN,IAAUJ,EAASzV;YACnB;;UACF;YACE,MAAM,IAAInE,MAAMnE,WAAsC,MAAA+d,EAASzV,KAAKsI;;QAExE,QAAQsN,EAAU5V,KAAKsI;UACrB,KAAkC;UAClC,KAAA;YACEwN,IAAWF,EAAU5V;YACrB;;UACF;YACE,MAAM,IAAInE,MAAMnE,WAAsC,MAAAke,EAAU5V,KAAKsI;;QAGzE,IAAI0N;QACJ,IAAIC;QACJ,IAAIC,IAAoB;QACxB,IAAIC,IAAqB;QACzB,SAASD,KAAYC,IAAY;YAC/B,IAAID,GAAU;gBACZF,IAAU;AACX,mBAAM,IAAIH,EAAQvN,SAAI,GAA6B;gBAClD0N,IAAUH;gBACVK,IAAW;AACZ,mBAAM,IAAIL,EAAQlM,KAAKrB,YAAiC;gBACvD0N,IAAUH,EAAQlM;gBAClB,QAAQkM,EAAQjM,MAAMtB;kBACpB,KAAkC;kBAClC,KAAA;oBACEuN,IAAUA,EAAQjM;oBAClB;;kBACF;oBACE,MAAM,IAAI/N,MAAMnE,WAAsC,MAAAme,EAAQjM,MAAMtB;;AAEzE,mBAAM;gBACL,MAAM,IAAIzM,MAAMnE,WAAsC,MAAAme,EAAQlM,KAAKrB;AACpE;YACD,IAAI6N,GAAW;gBACbF,IAAW;AACZ,mBAAM,IAAIH,EAASxN,SAAI,GAA6B;gBACnD2N,IAAWH;gBACXK,IAAY;AACb,mBAAM,IAAIL,EAASnM,KAAKrB,YAAiC;gBACxD2N,IAAWH,EAASnM;gBACpB,QAAQmM,EAASlM,MAAMtB;kBACrB,KAAkC;kBAClC,KAAA;oBACEwN,IAAWA,EAASlM;oBACpB;;kBACF;oBACE,MAAM,IAAI/N,MAAMnE,WAAsC,MAAAoe,EAASlM,MAAMtB;;AAE1E,mBAAM;gBACL,MAAM,IAAIzM,MAAMnE,WAAsC,MAAAoe,EAASnM,KAAKrB;AACrE;YAED,IAAI2N,MAAa,MAAM;gBACrB,IAAIA,EAASxZ,UAAUkO,cAAcqL,GAASvZ,UAAUkO,aAAa,QAAQ;oBAC3EoL,EAAQjc,KAAK6Z,EAAGtX,MAAM0H,OAAOkS,EAASxZ,UAAUmO;AACjD,uBAAM;oBACLmL,EAAQjc,KAAKmc,EAASxZ,UAAUiC;AACjC;AACF;AACF;QAED,MAAM0X,IAAUL,EAAQrG,OAAO2G,SAAS1e,KAAK;QAE7C,MAAM2e,IAAUzK,EAAIoI,UAAUmC;QAC9B,IAAIE,MAAY,MAAM,MAAM,IAAIjC,kBAAkB3c,iBAAwC0e,GAASvK,EAAIS,IAAe8J,GAASvK,EAAIpP,UAAUiC;QAE7I,OAAOmV,qBACLL,GACAzF,GACA3D,oBAAoB7D,OAAO;YACzBwL,iBAAiBuE;YACjB7Z,WAAW2Z;YACX3S,UAAU+K,EAAG/K;YACbV,UAAUyL,EAAGzL;YACbyG,MAAMgF,EAAGhF;YACTC,OAAO+E,EAAG/E;YAEZ6M,GACAzB;AACD;AAEL;;AAEA,SAASjB,WACPJ,GACAzF,GACAwI;IAEA,OAAOjS,EAAUiS,IAAWC;QAC1BhD,EAAIC,MAAM,6BAA6B+C;QACvCzI,EAAKqE,GAAaoE;QAClB,OAAOA,EAAWjd,QAAQC,IAAIoW,GAAgB7B,EAAK2C,GAAMvH,SAASqN;AAAW;AAEjF;;AAKA,SAAShC,mBACPhB,GACAiB,GACA1G,GACAS;IAGA,MAAMmF,IAAK,IAAI8C,iBACb,IAAIC,EACF,IAAIC,EACF,IAAIC,EAAkBnC,EAAGvY,KAAK,IAAIuY,EAAG5R,eAAe4R,IACpD,KAEFnD,IAEF;IAGF9C,EAAG/K,SAASrK,SAAS;IACrB,OAAOya,qBAAqBL,GAAKzF,GAAMS,GAA0EmF,GAAI;AACvH;;ACvrBO,MAAMtC,IAAajX,OAAO8Q,OAAO,IAAInQ;;AAEtC,SAAU8b,eAAe1X;IAC7B,OAAO2X,EAAS3X,MAAU/E,OAAOC,UAAUiB,eAAef,KAAK4E,GAAOhC,OAAa;AACrF;;AACgB,SAAA4Z,eAAe5X,GAAkB6X;IAC/C,OAAO;WAAK7X;QAAOhC,CAACA,IAAU6Z;;AAChC;;AAGM,MAAO3C,0BAA0BxY;;MAE1Bob;IAGA5G;QAAmC,OAAOlY,KAAK+e;AAAyB;IAEnFnf,YACkBiH,GACAmY,GACA9X,GACTG,GACS4X,GACAlY,GACAiK,GACA7J,GACA+X,GACTC,GACSC,GACAnZ,GACAoZ,GACT1J,GACA3W;QAdSgB,KAAE6G,KAAFA;QACA7G,KAAgBgf,mBAAhBA;QACAhf,KAAYkH,eAAZA;QACTlH,KAAiBqH,oBAAjBA;QACSrH,KAAmBif,sBAAnBA;QACAjf,KAAO+G,UAAPA;QACA/G,KAAOgR,UAAPA;QACAhR,KAAYmH,eAAZA;QACAnH,KAAiBkf,oBAAjBA;QACTlf,KAASmf,YAATA;QACSnf,KAAOof,UAAPA;QACApf,KAAOiG,UAAPA;QACAjG,KAAMqf,SAANA;QACTrf,KAAY2V,eAAZA;QACA3V,KAAKhB,QAALA;QAlBDgB,KAAsB+e,KAAY;AAmBrC;IAGE3e,SAAe0Y;QACpB,OAAO,IAAIgG,WACThG,EAAMjS,IACNiS,EAAMkG,kBACNlG,EAAM5R,cACN4R,EAAMzR,mBACNyR,EAAMmG,qBACNnG,EAAM/R,SACN+R,EAAM9H,SACN8H,EAAM3R,cACN2R,EAAMoG,mBACNpG,EAAMqG,WACNrG,EAAMsG,SACNtG,EAAM7S,SACN6S,EAAMuG,QACNvG,EAAMnD,mBACD;AAER;IAGMoB,GAAQ1W,GAAaS;QAC1B,IAAId,KAAK2V,iBAAiB,MAAM;YAC9B;AACD;QACD;YACE,MAAM2J,IAAMjf;YACZ,IAAIif,aAAe9a,SAAS;gBAC1B8a,EAAIC,KAAKze,GAAM0e,OAAM9f;oBACnBM,KAAK8V,GAAapW;AAAI;AAEzB,mBAAM;gBACLoB,EAAKwe;AACN;AAGF,UAFC,OAAO5f;YACPM,KAAK8V,GAAapW;AACnB;AACF;IAGMoW,GAAapW;QAClBM,KAAK+e,KAAyBrf,aAAewc;QAC7Clc,KAAKqf,OAAQrf,KAAKhB,QAAQU;AAC3B;IAGMyC;QACL,OAAO,QAAQnC,KAAK6G,eAAe7G,KAAK+G,yBAAyB/G,KAAKkH;AACvE;;;MAOUgW,kBAAuBzX,EAAGC,gBAAyB,YAAWC,KAAKA,EAAEC,UAAU6Z;;MAC/EA;IAGCC;QACV,MAAMhM,IAAM1T,KAAK2f;QACjB,IAAIjM,MAAQ,MAAM,OAAOA;QACzB,KAAK1T,KAAK4f,EAAWC,IAAIC,IAAe,OAAO,MAAM,IAAIpc,MAAMnE,WAAU;QACzE,OAAOS,KAAK2f,KAAQ3f,KAAK4f,EAAWpP,IAAIsP;AACzC;IAIUX;QACT,IAAIA,IAAYnf,KAAK+f;QACrB,IAAIZ,MAAc,MAAM;YAGtB,MAAMzL,IAAM1T,KAAK0f;YACjBP,IAAYnf,KAAK+f,KAAa,IAAI7E,UAChC8E,kBAAkB5R,OAAOpO,KAAKgR,SAAS,CAAE,IACzCkI,GACA,MACAZ,UAAUlK,OAAO;gBACfrK,MAAM;gBACN2U,WAAW;gBACXtX,SAASsS;gBACThG,aAAa;gBACbpJ,WAAWgG,EAAcC,cAAcmJ,EAAI9P,OAAOU;gBAClDyE,OAAO2K,EAAI9P,OAAOmF;;AAGvB;QACD,OAAOoW;AACR;IAIUc;QACT,OAAOjgB,KAAKkgB,OAALlgB,KAAKkgB,KAAepB,WAAW5R,EAAQ;YAC5CrG,IAAI;YACJmY,kBAAkBhf,KAAKmgB;YACvBjZ,cAAclH,KAAKmgB;YACnB9Y,mBAAmBrH,KAAKmgB;YACxBlB,qBAAqB;YACrBlY,SAAS;YACTiK,SAASgP,kBAAkB5R,OAAOpO,KAAKgR,SAAS,CAAA;YAChD7J,cAAc;YACd+X,mBAAmBlf,KAAKmf,UAAU/S;YAClC+S,WAAWnf,KAAKmf;YAChBlZ,SAAS;YACToZ,QAAQ;YACRD,SAAS;YACTzJ,cAAc;YACd3W,YAAY;;AAEf;IAEWihB,cAAUne;QACpB9B,KAAKkgB,KAAape;AACnB;IAaUse;QACT,OAAOpgB,KAAKqgB;AACb;IASDzgB;QAlFyBI,KAAA2f,KAA6B;QAU9C3f,KAAU+f,KAAqB;QAyB/B/f,KAAUkgB,KAAsB;QAyBflgB,KAAAsgB,KAAsB;QACtBtgB,KAAAugB,KAAwB;QAIxBvgB,KAAAwgB,KAA6B;QAC7BxgB,KAAAygB,KAAkD;QAE1CzgB,KAAA0gB,KAA4B;QAEpC1gB,KAAAqgB,KAAyB;QAKhBrgB,KAAU4f,IAAe3Z,EAAQ0a;QACjC3gB,KAAE4gB,KAAc3a,EAAQ4a;QACxB7gB,KAAAmG,IAAkCF,EAAQG,GAASyB,KAAKxB,QAAQ;QAChErG,KAAOkF,IAAkBe,EAAQT;QACjCxF,KAAY8gB,KAAqB7a,EAAQyB;QAC3D1H,KAAAgR,UAAmC/K,EAAQqC;QAoJ1CtI,KAAA+gB,KAAkC,IAAI9Q;QAjJrDjQ,KAAKmgB,KAAgBlP,wBAAwB7C,OAAO,IAAIpO,KAAKgR;QAC7DhR,KAAK4f,EAAWoB,iBAAiBvB,QAAQwB,EAAalV,SAAS0T,QAAQzf;AACxE;IAgBOkhB,GAAgB9f;QACtB,OAAO+f,aAAalb,QAAQjG,KAAK0f,IAAMte;AACxC;IAEM0I,MAAMsX;QACVphB,KAA0B0gB,YAA0B1gB,KAAKgR,QAAQqQ,eAAe;QAEjFrhB,KAAK8gB,GAAatY;QAClBxI,KAAKygB,KAA8BzgB,KAAKkF,EAAQsB,UAAU,8BAA6B8a;YAKrFthB,KAAK4gB,GAAGW,UAAUC,WAAU;gBAE1B,MAAMxa,IAAQ0X,eAAe4C,EAAEta,SAASsa,EAAEta,QAAQ;gBAClD,MAAMya,IAAgBzhB,KAAKgR;gBAC3B,MAAMA,IAAUgP,kBAAkB5R,OAAOqT,GAAe;oBAAEC,iBAAiB;;gBAC3E,MAAMxa,IAAe+J,wBAAwB7C,OAAOkT,EAAExa,KAAK2a,GAAezQ,GAAShR,KAAK0f;gBAMxF1f,KAAK2hB,GAASza,GAAcoa,EAAEva,SAASC,GAAO;AAAK;AACnD;QAGJ,KAAKhH,KAAKsgB,MAAcc,GAA0B;YAChD,OAAOphB,KAAK4hB,KAAK5hB,KAAK8gB,GAAajY,WAAW;gBAAE6Y,iBAAiB;;AAClE;AACF;IAEMG;QACL7hB,KAAK8gB,GAAapY;QAClB1I,KAAKygB,IAA6Bnb;AACnC;IAwEMsc,KAAKE,GAAqF9Q;QAC/F,MAAM9J,IAAelH,KAAK+hB,2BAA2BD,GAA2B9Q;QAIhF,OAAOhR,KAAK2hB,GAASza,GAAc,OAAO,MAAM;AACjD;IAEM8a,SAASF,GAAqF1gB;QACnG,MAAMsS,IAAM1T,KAAKkhB,GAAgB9f;QACjC,MAAM8F,IAAe4a,aAAqC7Q,0BACtD6Q,IACA9hB,KAAK+hB,2BAA2BD,GAA2B;YAAE1gB,SAASsS;YAAKgO,iBAAiB1hB,KAAKgR,QAAQ0Q;;QAI7G,OAAO1hB,KAAKmf,UAAU/F,SAASlS,GAAc;AAC9C;IAaMiW,gBACL/I,GACA6N,GACAC,GACAzV,GACA0V,GACAC,GACAC;QAKA,OAAOlW,EACLkW,aAAqBlY,cACjBkY,IACA9U,iCACO2U,GAAmBhW,mBAAmB,aAAagW,IAAoBD,EAAoB9W,MAClG,OACAgX,GACA,MACAC,KAEJE;YACE,IAAIC,IAAoBviB,KAAK+gB,GAAWvQ,IAAI4D;YAC5C,IAAImO,WAA2B,GAAG;gBAChCviB,KAAK+gB,GAAWtQ,IAAI2D,GAAemO,IAAoB,IAAInP;AAC5D;YAED,IAAIoP,IAAeD,EAAkB/R,IAAI8R;YACzC,IAAIE,WAAsB,GAAG;gBAE3B,OAAOA;AACR;YAGD,MAAMxW,IAASS,EAAUoT,IAAIC,IAAe,QAAQrT,EAAU+D,IAAIsP,MAAiB;YAEnFyC,EAAkB9R,IAChB6R,GACAE,IAAe,IAAIrB,aACjB/M,GACApI,GACAiW,GACAK,GACA7V,GACAzM;YAGJ,OAAOwiB;AAAY;AAGxB;IAEMT,2BAA2BD,GAAqF9Q;QACrH,IAAI8Q,aAAqC7Q,yBAAyB,OAAO6Q;QAEzE,IAAI1gB,IAAiC4P,GAAS5P,WAAW;QACzD,WAAW0gB,MAA8B,UAAU;YACjDA,IAA4B9hB,KAAK8gB,GAAazX,eAAeyY;AAC9D;QAED,MAAMW,IAAYnf,6BAA6Bwe;QAC/C,IAAIY,IAAeD,IAAaX,EAAmDxd,YAAYwd;QAC/F,WAAWY,MAAiB,YAAYA,EAAa/Y,WAAW,UAAUvI,MAAY,MAAM;YAC1FA,IAAUpB,KAAKkhB,GAAgB9f;YAC/B,OAAQshB,EAAwB/Y,WAAW,WAAWvI,GAAS4K,UAAU,UAAU,MAAM;gBACvF0W,IAAgBA,EAAwB3hB,MAAM;gBAC9CK,IAAUA,EAAS4K;AACpB;AACF;QACD,IAAIyW,GAAW;YACZX,EAA6Dxd,YAAYoe;AAC3E,eAAM;YACLZ,IAA4BY;AAC7B;QAED,MAAMjB,IAAgBzhB,KAAKgR;QAC3B,OAAOC,wBAAwB7C,OAC7B0T,GACAL,GACAzB,kBAAkB5R,OAAOqT,GAAe;eAAKzQ;YAAS5P;YACtDpB,KAAK0f;AAER;IAcOiC,GACNza,GACAH,GACAC,GACA2b;QAEA,MAAMC,IAAS5iB,KAAKigB;QACpB,MAAMhhB,IAASe,KAAKmG;QAEpB,IAAIY,MAAY,SAAS6b,EAAO7b,YAAY,SAAS6b,EAAO1b,aAAa2b,OAAO3b,IAAe;YAG7F,OAAO;AACR;QAED,IAAIjB,SAAsD;QAC1D,IAAIoZ,SAAoD;QACxD,IAAID;QAEJ,MAAM0D,IAAgB9iB,KAAKgR,QAAQ+R;QACnC,IAAIJ,MAAa,QAAQA,EAASzK,yBAA0ByK,EAAS3jB,SAAS,QAAQ8jB,GAAgB;YACpG1D,IAAU,IAAI5a,SAAQ,SAAUwe,GAAUC;gBAAWhd,IAAU+c;gBAAU3D,IAAS4D;AAAU;AAC7F,eAAM;YAIL7D,IAAUuD,EAASvD;YACnBnZ,IAAU0c,EAAS1c;YACnBoZ,IAASsD,EAAStD;AACnB;QAKD,MAAM6D,IAASljB,KAAKwgB,KAAU1B,WAAW5R,EAAQ;YAC/CrG,MAAM7G,KAAKugB;YACXxZ;YACAI,cAAcH;YACdgY,kBAAkB4D,EAAOvb;YACzBA,mBAAmBH;YACnB+X,sBAAsB2D,EAAOvb,kBAAkBwb,OAAO3b;YACtDA;YACA8J,SAAS9J,EAAa8J;YACtBoO;YACAnZ;YACAoZ;YACAH,mBAAmBlf,KAAKmf;YACxBA,WAAWnf,KAAK+f,KAAa/f,KAAKmf,UAAU/S;YAC5CuJ,cAAc;YACd3W,YAAY;;QAKd,KAAKgB,KAAKqgB,IAAe;YAEvB;gBACErgB,KAAK+W,GAAKmM;AAGX,cAFC,OAAOxjB;gBACPwjB,EAAOpN,GAAapW;AACrB;AACF;QAED,OAAOwjB,EAAO9D,QAASG,MAAKD,KAEnBA,IACNE,OAAM9f;YACPV,MAAMC,GAAM,MAAsBikB,GAAQxjB;YAC1C,IAAIwjB,EAAOhL,uBAAuB;gBAChClY,KAAKmjB,GAAkBD;AACxB,mBAAM;gBACLljB,KAAKqgB,KAAgB;gBACrBrgB,KAAKkF,EAAQoB,QAAQ,IAAIkB,qBAAqB0b,EAAOrc,IAAIqc,EAAOhc,cAAcxH;gBAC9E,IAAIojB,GAAe;oBACjB9iB,KAAKmjB,GAAkBD;AACxB,uBAAM;oBACL,MAAME,IAAUpjB,KAAKwgB;oBAErB,IAAI4C,MAAY,MAAM;wBACnBA,EAAiClE,oBAAoBgE,EAAOhE;AAC9D,2BAAM;wBACLlf,KAAK+f,KAAamD,EAAOhE;AAC1B;AACF;AACF;YACD,MAAMxf;AAAG;AAEZ;IAGOqX,GAAKrC;QACX1U,KAAKigB,YAAYvL;QACjB1U,KAAKwgB,KAAU;QAafxgB,KAAKqgB,KAAgB;QACrB,IAAIgD,IAAoBrjB,KAAKkhB,GAAgBxM,EAAG1D,QAAQ5P;QAKxDpB,KAAKkF,EAAQoB,QAAQ,IAAIW,qBAAqByN,EAAG7N,IAAI6N,EAAGxN,cAAcwN,EAAG3N,SAAS2N,EAAGvN;QAIrF,IAAInH,KAAKwgB,OAAY,MAAM;YAEzB,OAAOxgB,KAAK+W,GAAK/W,KAAKwgB;AACvB;QAED9L,EAAGqC,IAAK;YACN,MAAMuM,IAAM5O,EAAGrN;YAmBf,MAAMkc,IAAUvjB,KAAK0f;YACrB,MAAM/C,IAAKjI,EAAGyK;YAEbxC,EAA2B3L,UAAUsS,EAAItS;YACzC2L,EAA2BtM,cAAekT,EAAQ3N,KAAK2C,GAA8BlI,cAAciT,EAAIjT;YACvGsM,EAA2BrM,WAAYiT,EAAQ3N,KAAK2C,GAA8BjI,WAAWgT,EAAIhT;YAElG,MAAM+K,kBAAoBgI,EAAkB5W,UAAU+D,IAAIpK,GAASC,QAAQ;YAC3E,IAAIid,EAAIlT,YAAY;gBAClBiT,IAAoBE;AACrB;YACD,IAAIF,MAAsBE,GAAS;gBACjC5G,EAAG9U,KAAKsS,GAASwC;gBACjB4G,EAAQ3N,OAAO+G,EAAG9U;AACnB;YAED,MAAM2b,IAASH,EAAkBnN,uBAAuB1R,UAAU,wBAAwB;YAC1F6W,EAAIC,MAAM,2CAA2CkI,KAAUD,GAAS5G,GAAI2G;YAG5E,OAAOnX,EAAUkX,EAAkBnN,cAAa,MAAMuN,WAAWpI,GAAKiI,GAAKD,GAAmBE,EAAQ3N;AAAM,aAC3G;YACD,MAAM/U,IAAO6T,EAAGwK,kBAAkBrX,KAAKyD;YACvC,MAAMxK,IAAO4T,EAAGyK,UAAUtX,KAAKyD;YAC/B,MAAMoY,IAAM9iB,cAAcC,GAAMC;YAEhCnB,MAAMgB,GAAOgE;gBAEX,KAAK,MAAMiR,KAAQ/U,GAAM;oBACvB+U,EAAKxU,QAAQC,IAAIqU,GAAWhB,GAAI/P;AACjC;AAAA,gBACAjE,GAAciE;gBACf,IAAI+P,EAAGiB,iBAAiB,MAAM;oBAC5BhR,EAAErE;oBACFN,KAAKmjB,GAAkBzO;AACxB;AAAA,gBACAhU,GAAciE;gBAEf,KAAK,MAAMiR,KAAQ9U,GAAM;oBACvB8U,EAAKxU,QAAQC,IAAI0U,GAASrB,GAAI/P;AAC/B;AAAA,gBACAjE,GAAciE;gBACf,IAAI+P,EAAGiB,iBAAiB,MAAM;oBAC5BhR,EAAErE;oBACFN,KAAKmjB,GAAkBzO;AACxB;AAAA,gBACAhU,GAAciE;gBAEf,KAAK,MAAMiR,KAAQ/U,GAAM;oBACvB+U,EAAKxU,QAAQC,IAAIsV,GAAWjC,GAAI/P;AACjC;AAAA,gBACAjE,GAAciE;gBAEf,KAAK,MAAMiR,KAAQ9U,GAAM;oBACvB8U,EAAKxU,QAAQC,IAAIwV,GAASnC,GAAI/P;AAC/B;AAAA,gBACAjE,GAAciE;gBAEf,KAAK,MAAMiR,KAAQ8N,GAAK;oBACtB9N,EAAKxU,QAAQC,IAAI6V,GAAMxC,GAAI/P;AAC5B;AAAA,gBACAjE,GAAc;gBAGfgjB,EAAI9L,SAAQ,SAAUhC;oBACpBA,EAAKxU,QAAQC,IAAI0W;AACnB;gBACA/X,KAAKsgB,KAAa;gBAElBtgB,KAAKmgB,KAAgBzL,EAAGrN,oBAAoBqN,EAAGyK,UAAUhE;gBACzDnb,KAAKqgB,KAAgB;gBAGrB,MAAMsD,IAASjP,EAAGrN,kBAAkBuc,MAAM,MAAM5jB,KAAKgR,QAAQ6S;gBAC7D,QAAQnP,EAAG1D,QAAQ8S,GAAoB9jB,KAAKmgB;kBAC1C,KAAK;oBAEH;;kBACF,KAAK;oBACHngB,KAAK8gB,GAAahY,UAAU8V,eAAelK,EAAG1D,QAAQhK,OAAO0N,EAAG7N,KAAK7G,KAAK+jB,YAAYrP,IAAKiP;oBAC3F;;kBACF,KAAK;oBACH3jB,KAAK8gB,GAAa7X,aAAa2V,eAAelK,EAAG1D,QAAQhK,OAAO0N,EAAG7N,KAAK7G,KAAK+jB,YAAYrP,IAAKiP;oBAC9F;;gBAGJ3jB,KAAKkF,EAAQoB,QAAQ,IAAIc,mBAAmBsN,EAAG7N,IAAI6N,EAAGxN,cAAclH,KAAKmgB;gBAEzEzL,EAAGzO,QAAS;gBAEZjG,KAAKgkB;AAAoB,gBACxBrjB;AAAQ;AAEd;IAEMojB,YAAYrP,IAAiB1U,KAAKigB;QACvC,IAAIlX;QACJ,IAAI/I,KAAK0gB,IAAkB;YACzB3X,IAAQ/I,KAAKgR,QAAQqQ,WAAY3M,MAAO;AACzC,eAAM;YACL,eAAeA,EAAG1D,QAAQjI;cACxB,KAAK;gBACHA,IAAQ2L,EAAG1D,QAAQjI,MAAM3G,UAAU,GAAGsS,EAAGyK,UAAUtX,SAAS;gBAC5D;;cACF,KAAK;gBACHkB,IAAQ2L,EAAG1D,QAAQjI;gBACnB;;cACF;gBACEA,IAAQ2L,EAAGyK,UAAUtX,KAAKyS,SAAS5F,EAAG1D,QAAQiT,mBAAmB;gBACjE;;AAEL;QACD,IAAIlb,EAAM9H,SAAS,GAAG;YACpBjB,KAAK4gB,GAAGsD,SAASnb,QAAQA;AAC1B;QACD,OAAO/I,KAAK4gB,GAAGsD,SAASnb;AACzB;IAGOoa,GAAkBzO;QAIxB,MAAM7T,IAAO6T,EAAGwK,kBAAkBrX,KAAKyD;QACvC,MAAMxK,IAAO4T,EAAGyK,UAAUtX,KAAKyD;QAC/B,MAAMoY,IAAM9iB,cAAcC,GAAMC;QAEhC4iB,EAAI9L,SAAQ,SAAUhC;YACpBA,EAAKxU,QAAQC,IAAIsW;AACnB;QAEA3X,KAAKmgB,KAAgBzL,EAAGsK;QACxBhf,KAAK+f,KAAarL,EAAGwK;QACrBlf,KAAKqgB,KAAgB;QACrB,MAAM1K,IAAejB,EAAGiB;QACxB3V,KAAKkF,EAAQoB,QAAQ,IAAIgB,sBAAsBoN,EAAG7N,IAAI6N,EAAGxN,cAAc,mBAAmByO;QAE1F,IAAIA,MAAiB,OAAO;YAC1BjB,EAAGzO,QAAS;YAGZjG,KAAKgkB;AACN,eAAM;YAEL,IAAI9c;YACJ,IAAIlH,KAAKsgB,OAAe5L,EAAGwD,yBAA0BxD,EAAG1V,SAAS,QAAQgB,KAAKgR,QAAQ+R,kCAAmC7b,IAAewN,EAAGsK,uBACtI,IAAIrJ,MAAiB,MAAM,aAC3BzO,IAAeyO;iBAEfxJ,EAAUnM,KAAK2hB,GAASza,GAAc,OAAOwN,EAAGvN,cAAcuN,KAAK;AAGzE;AACF;IAGOsP;QACN,IAAIhkB,KAAKwgB,OAAY,MAAM;QAE3BxgB,KAAK4gB,GAAGW,UAAUC,WAChB;YAGE,MAAM0B,IAASljB,KAAKwgB;YACpB,IAAI0C,MAAW,MAAM;YACrB;gBACEljB,KAAK+W,GAAKmM;AAGX,cAFC,OAAOxjB;gBACPwjB,EAAOpN,GAAapW;AACrB;AAAA;AAGN;;;AAGH,SAAS+jB,WACPpI,GACAiI,GACA5P,GACAkC;IAEAyF,EAAIC,MAAM,8BAA8B5H,GAAKkC;IAE5CA,EAA6BvF,cAAciT,EAAIjT;IAC/CuF,EAA6BtF,WAAWgT,EAAIhT;IAE7C,KAAKsF,EAAKxU,QAAQsZ,QAAQ;QACxB9E,EAAKxU,QAAQC,IAAIoW,GAAgB7B,EAAK2C,GAAMvH,SAAS4E;AACtD;IACD,IAAIA,EAAKxU,YAAYsS,GAAK;QAExBkC,EAAKwE;QAML,OAAOjO,EACLgK,KAAgBmN,EAAIhY,SAASlM,KAAIiX,KAAMC,qBAAqB+E,GAAKzF,GAAMS,QACvE,MAAMF,KAAgBzC,EAAI6C,6BAA6BC,QAAO,CAACC,GAAKpV;YAClE,MAAMiU,IAAKjU,EAAIuJ;YACf,MAAMtG,IAAYgR,EAAGoB;YACrB,IAAIpS,MAAc,MAAM,OAAOmS;YAC/BA,EAAI9U,KAAK2U,qBAAqB+E,GAAKzF,GAAM3D,oBAAoB7D,OAAO;gBAAE9J;gBAAWsG,UAAU0K,EAAG/O;;YAC9F,OAAOkQ;AAAG,YACT;AAEN;IAGD,OAAON,KAAgBP,EAAKtK,SAASlM,KAAI8a,KAChCuJ,WAAWpI,GAAKiI,GAAK5P,GAAKwG;AAErC;;MC9xBaiK;IAIXvkB,YACkBmE,GACApB,GACA2N;QAFAtQ,KAAI+D,OAAJA;QACA/D,KAAK2C,QAALA;QACA3C,KAAQsQ,WAARA;QAEhBtQ,KAAK6G,KAAK,GAAG9C,KAAQpB,GAAOR,cAAc,MAAMmO,KAAY;AAC7D;IAEMnO;QACL,OAAOnC,KAAK6G;AACb;IAGMzG,SAAe0B;QAMpB,IAAIwO,IAA0B;QAC9B,MAAM8T,IAAgBtiB,EAAMsC,QAAQ;QACpC,IAAIggB,KAAiB,GAAG;YACtB,MAAMC,IAAcviB,EAAMf,MAAMqjB,IAAgB;YAChD9T,IAAWoC,mBAAmB2R;YAC9BviB,IAAQA,EAAMf,MAAM,GAAGqjB;AACxB;QAED,IAAI/T,IAAgD;QACpD,MAAMiU,IAAaxiB,EAAMsC,QAAQ;QACjC,IAAIkgB,KAAc,GAAG;YACnB,MAAMC,IAAcziB,EAAMf,MAAMujB,IAAa;YAC7CxiB,IAAQA,EAAMf,MAAM,GAAGujB;YACvBjU,IAAcpO,OAAO8Q,OAAO,IAAInQ,gBAAgB2hB;AACjD;QACD,OAAO,IAAIJ,UACTriB,GACAuO,KAAe,OAAOA,IAAc6I,GACpC5I;AAEH;;;AAWH,SAAStO,UAAUwiB,GAAqC7hB,GAAmC2N;IAEzF,IAAIvM;IACJ,WAAWygB,MAAoB,UAAU;QACvCzgB,IAAOygB;AACR,WAAM;QACLzgB,IAAOygB,EAAgBzgB;QACvBpB,IAAQ6hB,EAAgB7hB;QACxB2N,IAAWkU,EAAgBlU;AAC5B;IACD3N,MAAAA,IAAUuW;IAGV,IAAIqL,IAAc5hB,EAAMR;IACxBoiB,IAAcA,MAAgB,KAAK,KAAK,IAAIA;IAC5C,MAAMnb,IAAOkH,KAAY,QAAQA,EAASrP,SAAS,IAAI,IAAIwjB,mBAAmBnU,OAAc;IAE5F,OAAO,GAAGvM,IAAOwgB,IAAcnb;AACjC;;AAEa,MAAAoU,KAA4Bvb,OAAO8Q,OAAO;IACrDwK,MAAMzb;QACJ,OAAOqiB,UAAUjX,EAAQpL;AAC1B;IACDE,UAAUwiB,GAAqC7hB,GAAmC2N;QAChF,OAAOtO,UAAUwiB,GAA2B7hB,GAAoC2N;AACjF;;;AAGU,MAAAoU,KAAgCziB,OAAO8Q,OAAO;IACzDwK,MAAMzb;QAOJ,MAAMgI,IAAQhI,EAAMsC,QAAQ;QAC5B,IAAI0F,KAAS,GAAG;YACd,MAAMua,IAAcviB,EAAMf,MAAM+I,IAAQ;YACxChI,IAAQ4Q,mBAAmB2R;AAC5B;QACD,OAAOF,UAAUjX,EAAQpL;AAC1B;IACDE,UAAUwiB,GAAqC7hB,GAAmC2N;QAChF,OAAO,MAAMtO,UAAUwiB,GAA2B7hB,GAAoC2N;AACvF;;;AC7FH,SAASqU,mBAAqCzd,GAAuC0d;IACnF,WAAWA,MAAgB,YAAY;QACrC,OAAOA,EAAY1d;AACpB;IACD,OAAO0d;AACT;;AAEO,MAAMtc,mBAA8B7C,EAAGC,gBAAyC;;MAE1Emf;IAIXjlB,YACkB2I,GACAuc,GAWApD,GAMAL,GAKA0D,GAMAC,GAMAjC;QAnCA/iB,KAAkBuI,qBAAlBA;QACAvI,KAAO8kB,UAAPA;QAWA9kB,KAAe0hB,kBAAfA;QAMA1hB,KAAUqhB,aAAVA;QAKArhB,KAAkB+kB,qBAAlBA;QAMA/kB,KAAWglB,cAAXA;QAMAhlB,KAA+B+iB,kCAA/BA;QAEhB/iB,KAAK6jB,KAAatb,IAAqBmc,KAAoBlH;AAC3D;IAEKpd,cAAc0Y;QACnB,OAAO,IAAI+L,cACT/L,EAAMvQ,sBAAsB,OAC5BuQ,EAAMgM,WAAW,MACjBhM,EAAM4I,mBAAmB,QACzB5I,EAAMuI,cAAc,MACpBvI,EAAMiM,sBAAsB,MAC5BjM,EAAMkM,eAAe,MACrBlM,EAAMiK,mCAAmC;AAE5C;IAEM5gB;QACQ,OAAO;AAOrB;;;MAIU6d;IACXpgB,YAIkB8hB,GACA3Y,GACAkb,GAUA7iB,GAIAiP,GAIAC,GAIAtJ,GACA2D;QAzBA3K,KAAe0hB,kBAAfA;QACA1hB,KAAK+I,QAALA;QACA/I,KAAcikB,iBAAdA;QAUAjkB,KAAOoB,UAAPA;QAIApB,KAAWqQ,cAAXA;QAIArQ,KAAQsQ,WAARA;QAIAtQ,KAAKgH,QAALA;QACAhH,KAAc2K,iBAAdA;AACb;IAEEvK,cAAcqhB,GAA8B3I;QACjD,OAAO,IAAIkH,kBACTlH,EAAM4I,mBAAmBD,EAAcC,iBACvC5I,EAAM/P,SAAS,MACf+P,EAAMmL,kBAAkB,OACxBnL,EAAM1X,WAAW,MACjB0X,EAAMzI,eAAe,MACrByI,EAAMxI,YAAY,IAClBwI,EAAM9R,SAAS,MACf8R,EAAMnO,kBAAkB;AAE3B;IAGMyB;QACL,OAAO,IAAI4T,kBACThgB,KAAK0hB,iBACL1hB,KAAK+I,OACL/I,KAAKikB,gBACLjkB,KAAKoB,SACL;eAAKpB,KAAKqQ;WACVrQ,KAAKsQ,UACLtQ,KAAKgH,UAAU,OAAO,OAAO;eAAKhH,KAAKgH;WACvChH,KAAK2K;AAER;IAGMmZ,GAAoB5c;QACzB,OAAOyd,mBAAmBzd,GAAclH,KAAK0hB;AAC9C;;;AC1HI,MAAMrW,KAAsB;;MA6DtB4G;IACXrS,YACkByR,GACAC,GACAsI,GACAtV,GACAsG,GACAgB,GACAN;QANAtL,KAAIqR,OAAJA;QACArR,KAAKsR,QAALA;QACAtR,KAAe4Z,kBAAfA;QACA5Z,KAASsE,YAATA;QACAtE,KAAQ4K,WAARA;QACA5K,KAAM4L,SAANA;QACA5L,KAAQsL,WAARA;AACb;IAEElL,cAAcsN;QACnB,IAAIA,aAAuBuE,qBAAqB,OAAOvE;QAEvD,IAAIpK,6BAA6BoK,IAAc;YAC7C,MAAMpJ,IAAY6J,2BAA2BC,OAAOV,EAAYpJ;YAChE,MAAMgH,IAAWoC,EAAYpC,UAAUlM,IAAI6S,oBAAoB7D,WAAW;YAE1E,OAAO,IAAI6D,oBACTvE,EAAY2D,QAAQ,GACpB3D,EAAY4D,SAAS,GACrB5D,EAAYkM,mBAAmB,MAC/BtV,GACAoJ,EAAY9C,YAAY,MACxB3I,OAAO8Q,OAAOrF,EAAY9B,UAAU,OACpCN;AAEH;QAED,MAAM2Z,IAAmB9W,2BAA2BC,OAAOV;QAC3D,OAAO,IAAIuE,oBAAoB,GAAG,GAAG,MAAMgT,GAAkB,MAAM,MAAM;AAC1E;IAEM7L,SAAS3W;QACd,MAAMyiB,IAAellB,KAAKsL;QAC1B,MAAM6Z,IAAgB1iB,EAAM6I;QAC5B,IAAI4Z,EAAajkB,SAASkkB,EAAclkB,QAAQ;YAC9C,OAAO;AACR;QAED,KAAKjB,KAAKsE,UAAUue,OAAOpgB,EAAM6B,YAAY,OAAO;QAEpD,MAAMgR,IAAKtV,KAAK4K,YAAY;QAC5B,MAAMwa,IAAU3iB,EAAMmI,YAAY;QAClC,IAAI0K,MAAO,QAAQ8P,MAAY,QAAQ9P,MAAO8P,GAAS,OAAO;QAE9D,KAAK,IAAI5jB,IAAI,GAAGuD,IAAKogB,EAAclkB,QAAQO,IAAIuD,KAAMvD,GAAG;YACtD,KAAK0jB,EAAa1jB,GAAG4X,SAAS+L,EAAc3jB,KAAK;gBAC/C,OAAO;AACR;AACF;QAED,OAAO;AACR;IAEMqhB,OAAOpgB;QACZ,MAAMyiB,IAAellB,KAAKsL;QAC1B,MAAM6Z,IAAgB1iB,EAAM6I;QAC5B,IAAI4Z,EAAajkB,WAAWkkB,EAAclkB,QAAQ;YAChD,OAAO;AACR;QAED,KACGjB,KAAKsE,UAAUue,OAAOpgB,EAAM6B,cAC7BtE,KAAK4K,aAAanI,EAAMmI,aACvBnG,cAAczE,KAAK4L,QAAQnJ,EAAMmJ,SAClC;YACA,OAAO;AACR;QAED,KAAK,IAAIpK,IAAI,GAAGuD,IAAKmgB,EAAajkB,QAAQO,IAAIuD,KAAMvD,GAAG;YACrD,KAAK0jB,EAAa1jB,GAAGqhB,OAAOsC,EAAc3jB,KAAK;gBAC7C,OAAO;AACR;AACF;QAED,OAAO;AACR;IAGM4K;QACL,OAAO,IAAI6F,oBACTjS,KAAKqR,MACLrR,KAAKsR,OACLtR,KAAK4Z,iBACL5Z,KAAKsE,UAAU8H,KACfpM,KAAK4K,UACL5K,KAAK4L,QACL,KAAI5L,KAAKsL;AAEZ;IAEMsP,eAAeyK,IAAqB;QACzC,MAAM/gB,IAAYtE,KAAKsE,UAAUsW;QACjC,MAAMtF,IAAKtV,KAAK4K;QAChB,MAAMA,IAAWtG,EAAUrD,WAAW,KAAKqU,MAAO,QAAQA,EAAGrU,WAAW,KAAKqU,MAAOjK,KAAsB,KAAK,IAAIiK;QACnH,MAAMgQ,IAAW,GAAG,IAAIC,OAAOvlB,KAAKqR,QAAQ/M,IAAYkhB,gBAAgBxlB,KAAK4L,UAAUhB,IAAW,IAAI2a,OAAOvlB,KAAKsR;QAClH,MAAMmU,IAAYJ,IAAYrlB,KAAKsL,SAASlM,KAAIuG,KAAKA,EAAEiV,mBAAkBpb,KAAK,OAAO;QACrF,OAAO8lB,EAASrkB,SAAS,IACrBwkB,EAAUxkB,SAAS,IACjB,GAAGqkB,KAAYG,MACfH,IACFG;AACL;IAGMtjB;QACL,MAAMmC,IAAY,KAAKtE,KAAKsE;QAC5B,MAAMsG,IAAW5K,KAAK4K,aAAa,QAAQ5K,KAAK4K,SAAS3J,WAAW,IAAI,KAAK,YAAYjB,KAAK4K;QAC9F,MAAMU,IAAWtL,KAAKsL,SAASrK,WAAW,IAAI,KAAK,aAAajB,KAAKsL,SAASlM,IAAIE,QAAQE,KAAK;QAC/F,MAAMwb,IAAQ,EAAC1W,GAAWsG,GAAUU,IAAUiM,OAAO2G,SAAS1e,KAAK;QACnE,OAAO,OAAOwb;AACf;;;AAoBH,SAASwK,gBAAgB5Z;IACvB,IAAIA,MAAW,MAAM,OAAO;IAC5B,MAAM9H,IAAO7B,OAAO6B,KAAK8H;IACzB,MAAM8Z,IAAU5hB,EAAK7C;IACrB,IAAIykB,MAAY,GAAG,OAAO;IAC1B,MAAM7W,IAAS7K,MAAc0hB;IAC7B,MAAMC,IAAsB;IAC5B,MAAMC,IAAsB;IAC5B,KAAK,MAAM/iB,KAAOiB,GAAM;QACtB,IAAI+hB,EAAahjB,IAAM;YACrB8iB,EAAUhkB,KAAKmkB,OAAOjjB;AACvB,eAAM;YACL+iB,EAAUjkB,KAAKkB;AAChB;AACF;IAED,KAAK,IAAIrB,IAAI,GAAGA,IAAIkkB,KAAWlkB,GAAG;QAChC,MAAMukB,IAAcJ,EAAUvhB,QAAQ5C;QACtC,IAAIukB,KAAe,GAAG;YACpBlX,EAAOrN,KAAKoK,EAAOpK;YACnBmkB,EAAU/jB,OAAOmkB,GAAa;AAC/B,eAAM;YACL,MAAMC,IAAWJ,EAAU1kB;YAC3B2N,EAAOrN,KAAK,GAAGwkB,KAAYpa,EAAOoa;AACnC;AACF;IACD,OAAO,IAAInX,EAAOrP,KAAK;AACzB;;MAEayR;IACXrR,YACkBoR,GACAZ,GACA9E,GACA+E,GACAC;QAJAtQ,KAAOgR,UAAPA;QACAhR,KAAUoQ,aAAVA;QACApQ,KAAQsL,WAARA;QACAtL,KAAWqQ,cAAXA;QACArQ,KAAQsQ,WAARA;QAEhBrO,OAAO8Q,OAAO1C;AACf;IAEMjQ,cACL0hB,GACAL,GACAzQ,GACAuS;QAEAvS,IAAUA,aAAmBgP,oBAAoBhP,IAAUgP,kBAAkB5R,OAAOqT,GAAezQ,KAAWmI;QAE9G,IAAI/X,IAAU4P,EAAQ5P;QACtB,MAAMA,aAAmB+f,iBAAiBoC,KAAW,MAAM;YACzDniB,IAAW4P,EAAwC5P,UAAU+f,aAAalb,QAAQsd,GAASniB;AAC5F;QACD,MAAM6kB,IAAa7kB,KAAW;QAE9B,IAAI0gB,aAAqC9d,OAAO;YAC9C,MAAM+W,IAAM+G,EAA0B7gB;YACtC,MAAMqK,IAAW,IAAItH,MAAM+W;YAC3B,MAAMpY,IAAQ,IAAIC,gBAAgBoO,EAAQX,eAAe8I;YACzD,KAAK,IAAI3X,IAAI,GAAGA,IAAIuZ,GAAKvZ,KAAK;gBAC5B,MAAMkM,IAAcoU,EAA0BtgB;gBAC9C,MAAM0kB,IAAUD,IAAa7kB,EAAQua,GAA6BjO,KAAe;gBACjF,IAAIwY,MAAY,MAAM;oBACpB5a,EAAS9J,KAAK0kB,EAAQ7P;oBACtB9T,qBAAqBI,GAAOujB,EAAQvjB,OAAO;AAC5C,uBAAM;oBACL2I,EAAS9J,KAAKyQ,oBAAoB7D,OAAOV;AAC1C;AACF;YACD,OAAO,IAAIuD,wBAAwBD,GAA8B,OAAO1F,GAAU3I,GAAQqO,EAA8BV;AACzH;QAED,WAAWwR,MAA8B,UAAU;YACjD,MAAMjP,IAAO3C,gBAAgBqN,MAAMkE,EAAcoC,GAAWtG,MAAMuE;YAClE,OAAOjP,EAAK9B,kBAAkBC;AAC/B;QAED,MAAMkV,IAAUD,IACZ7kB,EAAQua,GAA6BrY,6BAA6Bwe,KAChE;eAAKA;YAA2BlW,QAAQkW,EAA0BlW,UAAUuN;YAC5E;YAAE7U,WAAWwd;YAA2BlW,QAAQuN;aAElD;QACJ,MAAMxW,IAAQ,IAAIC,gBAAgBoO,EAAQX,eAAe8I;QACzD,OAAO+M,MAAY,OACf,IAAIjV,wBACJD,GACA,OACA,EAACkV,EAAQ7P,MACT9T,qBAAqBI,GAAOujB,EAAQvjB,OAAO,QAC1CqO,EAA8BV,YAE/B,IAAIW,wBACJD,GACA,OACA,EAACiB,oBAAoB7D,OAAO0T,MAC5Bnf,GACCqO,EAA8BV;AAEpC;IAEMuS,OAAOpgB;QACZ,MAAMyiB,IAAellB,KAAKsL;QAC1B,MAAM6Z,IAAgB1iB,EAAM6I;QAC5B,IAAI4Z,EAAajkB,WAAWkkB,EAAclkB,QAAQ;YAChD,OAAO;AACR;QAED,KAAK,IAAIO,IAAI,GAAGuD,IAAKmgB,EAAajkB,QAAQO,IAAIuD,KAAMvD,GAAG;YACrD,KAAK0jB,EAAa1jB,GAAGqhB,OAAOsC,EAAc3jB,KAAK;gBAC7C,OAAO;AACR;AACF;QAED,OAAO;AACR;IAEMoiB,MAAMuC,GAA6BC;QACxC,IAAIviB,IAAa;QAEjB,KAAKsiB,GAAoB;YACvB,MAAME,IAAwB;YAC9B,IAAI3S,IAA4B1T,KAAKgR,QAAQ5P;YAC7C,IAAIsS,KAAO,UAAUA,aAAeyN,eAAe,MAAM,IAAIzd,MAAM;YAEnE,OAAOgQ,KAAO,SAASA,EAAIgH,QAAQ;gBACjC,MAAMrZ,IAAMqS,EAAIrS;gBAChB,MAAMuU,IAAOvU,EAAIiS,OAAU,OAA0BjS,EAAI0S,KAAY1S,EAAI2S;gBACzE,IAAI4B,KAAQ,MAAM,MAAM,IAAIlS,MAAM;gBAElC2iB,EAAYzkB,OAAO,GAAG,GAAGgU,EAAKlI,YAAakN;gBAC3ClH,IAAMA,EAAI1H;AACX;YACD,IAAIqa,EAAY,OAAO,IAAI;gBACzBA,EAAYzkB,OAAO,GAAG;AACvB;YACDiC,IAAawiB,EAAY7mB,KAAK;AAC/B;QAED,MAAM8mB,IAActmB,KAAKumB;QACzB,OAAOH,EAAOpkB,UACZ6B,EAAW5C,SAAS,IAAI,GAAG4C,KAAcyiB,MAAgBA,GACzDtmB,KAAKqQ,aACLrQ,KAAKsQ;AAER;IAEMiW;QACL,OAAOvmB,KAAKsL,SAASlM,KAAIuG,KAAKA,EAAEiV,mBAAkBpb,KAAK;AACxD;IAGM2C;QACL,OAAO,IAAInC,KAAKsL,SAASlM,IAAIE,QAAQE,KAAK;AAC3C;;;MAgDU2O;IACXvO,YACkBkO,GACAhM;QADA9B,KAAI8N,OAAJA;QACA9N,KAAK8B,QAALA;AACb;IASE1B,cAAcsN;QACnB,IAAIA,aAAuBS,4BAA4B;YACrD,OAAOT;AACR;QAED,WAAWA,MAAgB,UAAU,OAAO,IAAIS,2BAA6D,GAAAT;QAE7G,KAAKiR,EAASjR,IAAcnK,WAAW,4BAA4B,IAAImK;QACvE,WAAWA,MAAgB,YAAY;YACrC,IAAIpD,EAAciC,OAAOmB,IAA+B;gBAGtD,MAAM8Y,IAAalc,EAAcC,cAAcmD;gBAC/C,OAAO,IAAIS,2BAA8E,GAAAqY;AAC1F,mBAAM;gBACL,OAAOrY,2BAA2BC,OAAQV;AAC3C;AACF;QACD,IAAIA,aAAuBlJ,SAAS,OAAO,IAAI2J,2BAA8D,GAAAT;QAC7G,IAAIpK,6BAA6BoK,IAAc;YAC7C,MAAMpB,IAAsB2F,oBAAoB7D,OAAOV;YACvD,OAAO,IAAIS,2BAA0E,GAAA7B;AACtF;QACD,IAAIrJ,EAAyByK,IAAc,OAAO,IAAIS,2BAAsE,GAAAT;QAE5H,IAAIA,aAAuB+Y,GAAyB,OAAO,IAAItY,2BAA8E,GAAAT;QAC7I,MAAM,IAAIhK,MAAMnE,WAAU,MAAsBsC,aAAa6L;AAC9D;IAEMmV,OAA4CpgB;QACjD,QAAQzC,KAAK8N;UACX,KAAuD;UACvD,KAA+C;UAC/C,KAAuC;UACvC,KAAA;YACE,OAAO9N,KAAK8N,SAASrL,EAAMqL,QAAQ9N,KAAK8B,UAAUW,EAAMX;;UAC1D,KAAA;YACE,OAAO9B,KAAK8N,SAASrL,EAAMqL,QAAQ9N,KAAK8B,MAAM+gB,OAAOpgB,EAAMX;;AAEhE;IAGMsK;QACL,OAAO,IAAI+B,2BACTnO,KAAK8N,MACL9N,KAAK8B;AAER;IAEM8Y;QACL,QAAQ5a,KAAK8N;UACX,KAAA;YACE,OAAO9N,KAAK8B,MAAMyE;;UACpB,KAA+C;UAC/C,KAAA;YACE,MAAM,IAAI7C,MAAMnE,WAAU,MAA2CS,KAAK8N;;UAC5E,KAAA;YACE,OAAO9N,KAAK8B,MAAM8Y;;UACpB,KAAA;YACE,OAAO5a,KAAK8B;;AAEjB;IAGMK;QACL,QAAQnC,KAAK8N;UACX,KAAA;YACE,OAAO,eAAe9N,KAAK8B,MAAMyE;;UACnC,KAAA;YACE,OAAO;;UACT,KAAA;YACE,OAAO,YAAY+D,EAAcC,cAAcvK,KAAK8B,MAAMlC,aAA8B2G;;UAC1F,KAAA;YACE,OAAOvG,KAAK8B,MAAMK;;UACpB,KAAA;YACE,OAAO,IAAInC,KAAK8B;;AAErB;;;MCleU4kB;IAYX9mB,YACoC+mB,GACAC,GACDlP,GACCgI,GACAmH;QAJA7mB,KAAS2mB,KAATA;QACA3mB,KAAW4mB,KAAXA;QACD5mB,KAAU0X,KAAVA;QACC1X,KAAI0f,KAAJA;QACA1f,KAAc6mB,KAAdA;QAElC7mB,KAAKmG,IAAUuZ,EAAKjT,UAAU+D,IAAIpK,GAASC,QAAQ,kBAAkBqZ,EAAKvL;QAI1E,MAAM2S,IAAiBF,EAAYE;QACnC9mB,KAAK+mB,MAAiBD,EAAeE,WAAW,IAAI5nB,KAAIuG,KAAKA,EAAEoG;QAC/D/L,KAAKinB,MAAcH,EAAeI,WAAW,IAAI9nB,KAAIuG,KAAKA,EAAEoG;QAC5D/L,KAAKmnB,MAAmBL,EAAeM,aAAa,IAAIhoB,KAAIuG,KAAKA,EAAEoG;QACnE/L,KAAKqnB,MAAgBP,EAAeQ,aAAa,IAAIloB,KAAIuG,KAAKA,EAAEoG;QAChE/L,KAAKunB,KAAc,aAAaZ;QAChC3mB,KAAKwnB,KAAW,aAAab;QAC7B3mB,KAAKynB,KAAgB,eAAed;QACpC3mB,KAAK0nB,KAAa,eAAef;AAClC;IAGM/R,GAAUH,GAAuCzI;QACtD,IAAIyI,MAAc,MAAM;YAEtB,OAAOzU,KAAK4mB,GAAYe,SAAS3nB,KAAK4mB,IAAa5a;AACpD;aAIIhM,KAAK4mB,GAAYe,SAASlT,GAAWzI;AAC3C;IAGMgJ,GAAYP,GAAuCzI;QACxD,IAAIyI,MAAc,MAAM;YAEtB,OAAOzU,KAAK4mB,GAAYgB,WAAW5nB,KAAK4mB,IAAa5a;AACtD;aAIIhM,KAAK4mB,GAAYgB,WAAWnT,GAAWzI;AAC7C;IAGMgL;QAGLhX,KAAK4mB,GAAYthB;AAClB;IAGMoQ,GAAWhB,GAAgB5T,GAAwB6D;QAExDA,EAAErE;QACF,IAAI8e,IAAyB5a,QAAQyB;QACrC,KAAK,MAAM4hB,KAAQ7nB,KAAKmnB,IAAiB;YACvCxiB,EAAErE;YACF8e,IAAUA,EAAQG,MAAK,MAAM,IAAI/a,SAASsjB;gBACxC,IAAIpT,EAAGiB,iBAAiB,MAAM;oBAC5BhR,EAAEnE;oBACFsnB;oBACA;AACD;gBACDpT,EAAGqC,IAAK,MACC8Q,EAAKT,UAAUpnB,KAAK2mB,IAAW7lB,GAAMd,KAAK0X,OAChD4H;oBACD,IAAI5K,EAAGiB,iBAAiB,QAAQ2J,MAAQ,MAAM;wBAC5C5K,EAAGiB,eAAe;AACnB;oBACDhR,EAAEnE;oBACFsnB;AAAK;AACL;AAEL;QACD,IAAI9nB,KAAKynB,IAAe;YACtB9iB,EAAErE;YAEF8e,IAAUA,EAAQG,MAAK;gBACrB,IAAI7K,EAAGiB,iBAAiB,MAAM;oBAC5BhR,EAAEnE;oBACF;AACD;gBACDkU,EAAGqC,IAAK,MACC/W,KAAK2mB,GAAUS,UAAWtmB,GAAMd,KAAK0X,OAC3C4H;oBACD,IAAI5K,EAAGiB,iBAAiB,QAAQ2J,MAAQ,MAAM;wBAC5C5K,EAAGiB,eAAe;AACnB;oBACDhR,EAAEnE;AAAM;AACR;AAEL;QACDmE,EAAEnE;AACH;IAGMuV,GAASrB,GAAgB5T,GAAiB6D;QAE/C,MAAM4e,IAAUvjB,KAAK0f,GAAK7X;QAC1BlD,EAAErE;QACF,IAAI8e,IAAyB5a,QAAQyB;QACrC,KAAK,MAAM4hB,KAAQ7nB,KAAK+mB,IAAe;YACrCpiB,EAAErE;YACF8e,IAAUA,EAAQG,MAAK,MAAM,IAAI/a,SAASsjB;gBACxC,IAAIpT,EAAGiB,iBAAiB,MAAM;oBAC5BhR,EAAEnE;oBACFsnB;oBACA;AACD;gBACDpT,EAAGqC,IAAK,MACC8Q,EAAKb,QAAQhnB,KAAK2mB,IAAW7lB,EAAK8K,QAAQ9K,GAAMd,KAAK0X,OAC3D4H;oBACD,IAAI5K,EAAGiB,iBAAiB,QAAQ2J,MAAQ,MAAM;wBAC5C5K,EAAGiB,eAAe2J,MAAQ,QAAQ,QAAQrO,wBAAwB7C,OAAOkR,GAAKtf,KAAK6mB,SAAqB,GAAGtD;AAC5G;oBACD5e,EAAEnE;oBACFsnB;AAAK;AACL;AAEL;QACD,IAAI9nB,KAAKunB,IAAa;YACpB5iB,EAAErE;YAEF8e,IAAUA,EAAQG,MAAK;gBACrB,IAAI7K,EAAGiB,iBAAiB,MAAM;oBAC5BhR,EAAEnE;oBACF;AACD;gBACDkU,EAAGqC,IAAK,MACC/W,KAAK2mB,GAAUK,QAASlmB,EAAK8K,QAAQ9K,GAAMd,KAAK0X,OACtD4H;oBACD,IAAI5K,EAAGiB,iBAAiB,QAAQ2J,MAAQ,MAAM;wBAC5C5K,EAAGiB,eAAe2J,MAAQ,QAAQ,QAAQrO,wBAAwB7C,OAAOkR,GAAKtf,KAAK6mB,SAAqB,GAAGtD;AAC5G;oBACD5e,EAAEnE;AAAM;AACR;AAEL;QACDmE,EAAEnE;AACH;IAGMmW,GAAWjC,GAAgB5T,GAAwB6D;QAExDA,EAAErE;QACF,KAAK,MAAMunB,KAAQ7nB,KAAKqnB,IAAc;YACpC3S,EAAGqC,IAAK;gBACNpS,EAAErE;gBACF,OAAOunB,EAAKP,UAAUtnB,KAAK2mB,IAAW7lB,GAAMd,KAAK0X;AAAW,iBAC3D;gBACD/S,EAAEnE;AAAM;AAEX;QACD,IAAIR,KAAK0nB,IAAY;YACnBhT,EAAGqC,IAAK;gBACNpS,EAAErE;gBACF,OAAON,KAAK2mB,GAAUW,UAAWxmB,GAAMd,KAAK0X;AAAW,iBACtD;gBACD/S,EAAEnE;AAAM;AAEX;QACDmE,EAAEnE;AACH;IAGMqW,GAASnC,GAAgB5T,GAAiB6D;QAE/CA,EAAErE;QACF,KAAK,MAAMunB,KAAQ7nB,KAAKinB,IAAY;YAClCvS,EAAGqC,IAAK;gBACNpS,EAAErE;gBACF,OAAOunB,EAAKX,QAAQlnB,KAAK2mB,IAAW7lB,EAAK8K,QAAQ9K,GAAMd,KAAK0X;AAAW,iBACtE;gBACD/S,EAAEnE;AAAM;AAEX;QACD,IAAIR,KAAKwnB,IAAU;YACjB9S,EAAGqC,IAAK;gBACNpS,EAAErE;gBACF,OAAON,KAAK2mB,GAAUO,QAASpmB,EAAK8K,QAAQ9K,GAAMd,KAAK0X;AAAW,iBACjE;gBACD/S,EAAEnE;AAAM;AAEX;QACDmE,EAAEnE;AACH;;;ACzKI,MAAMsf,mBAA6Bra,EAAGC,gBAA+B;;AAS5E,MAAMqiB,KAA6B9lB,OAAO8Q,OAAO,EAAC,UAAU,UAAU;;AACtE,SAASiV,mBAAmBC;IAE1B,IAAIA,KAAO,MAAM,OAAO;IACxB,MAAMrc,IAAUqc,EAAyBrc;IACzC,MAAMtH,IAAa2jB,EAAyB3jB;IAC5C,cAAcsH,MAAW,YACpBA,MAAW,QACXtH,KAAa,QACbyjB,GAA2BtS,gBAAgBnR,QACzCA,aAAqBE;AAE9B;;MAWa2c;IAGAzG;QACT,OAAO1a,KAAKgM,WAAW;AACxB;IAMUkc;QACT,OAAOloB,KAAK+D,KAAK9C,SAAS;AAC3B;IAiBUiV;QACT,OAAOlW,KAAKmoB;AACb;IAIUvS;QACT,MAAMA,IAAO5V,KAAKooB;QAClB,IAAIxS,MAAS,MAAM,MAAM,IAAIlS,MAAMnE,iBAA4BS;QAC/D,OAAO4V;AACR;IAEUA,SAAK9T;QACd,MAAMjB,IAAOb,KAAKqoB,KAAYroB,KAAKooB;QACnC,IAAIvnB,MAASiB,GAAO;YAClB9B,KAAKooB,KAAQtmB;AAEd;AACF;IAQUT;QACT,MAAMA,IAAMrB,KAAKsoB;QACjB,IAAIjnB,MAAQ,MAAM,MAAM,IAAIqC,MAAMnE,iBAA2BS;QAC7D,OAAOqB;AACR;IAUUknB;QACT,OAAOvoB,KAAKwoB;AACb;IAED5oB,YACEwU,GACgBpI,GACA1H,GACAV,GAChB6kB,GACiBC;QAJD1oB,KAAMgM,SAANA;QACAhM,KAASsE,YAATA;QACAtE,KAAM4D,SAANA;QAEC5D,KAAO0oB,KAAPA;QA/Ee1oB,KAAA2oB,KAAwC;QAyB1D3oB,KAAWoc,cAA2C;QAG9Dpc,KAAYmoB,KAAyB;QAKpBnoB,KAAAqoB,KAA8B;QAC9BroB,KAAAooB,KAA0B;QAgC1BpoB,KAAA4oB,KAAkC;QAezD5oB,KAAKsoB,KAAOlU;QACZ,IAAIpI,MAAW,MAAM;YACnBhM,KAAK6H,OAAO7H;YACZA,KAAK+D,OAAO,EAAC/D;YACbA,KAAKmU,KAAgB7P,EAAUiC;AAChC,eAAM;YACLvG,KAAK6H,OAAOmE,EAAOnE;YACnB7H,KAAK+D,OAAO,KAAIiI,EAAOjI,MAAM/D;YAC7BA,KAAKmU,KAAgB,GAAGnI,EAAOmI,MAAiB7P,EAAUiC;AAC3D;QACDvG,KAAKmG,IAAUsiB,EAAgBjY,IAAIpK,GAASC,QAAQ,gBAAgBrG,KAAKmU;QAGzEnU,KAAK6oB,KAAgBJ,EAAgBjY,IAAIsY;QAEzC,MAAMrc,IAAYzM,KAAKyM,YAAYgc,EAAgBM;QAEnDtc,EAAUuU,iBACRgI,GACAhpB,KAAKipB,KAA0B,IAAIC,GACnC;QAGF,MAAMC,IAAc,IAAID,EAAgC,iBAAiBlpB;QACzEyM,EAAUuU,iBAAiBlB,IAAeqJ;QAC1C1c,EAAUuU,iBAAiBG,cAAcgI;QAEzC1c,EAAUD,SAAS5I;QAEnB5D,KAAKopB,KAAc,IAAIC;QAEvB,IAAIX,EAAQ1X,QAAQ+T,oBAAoB;YACtC,MAAMuE,IAAWtpB,KAAKwoB,KAAmB,IAAIe,gBAAgB;YAI7D9c,EACG+D,IAAIhL,GACJgB,UAAU,6BAA4B,MAAM8iB,EAASE,GAAad,GAAS1oB;AAC/E,eAAM;YACLA,KAAKwoB,KAAmB;AACzB;QACDxoB,KAAKypB,GAAe7lB;AACrB;IAGO6lB,GAAe7lB;QACrB,MAAM8lB,IAA+B;QACrC,MAAMC,IAAiB/lB,EAAOkH,UAAUb;QACxC,MAAM8Q,IAAM4O,EAAe1oB;QAC3B,IAAI8Z,MAAQ,GAAG;YACb,MAAM7O,IAAmBtI,EAAOU,UAAwBpC,WAA+BgK;YACvFlM,KAAK4oB,KAAyB1c,KAAkB,OAAO,cAAcA,MAAmB;YACxF;AACD;QACD,MAAMod,IAAWtpB,KAAKwoB;QACtB,MAAMoB,IAAcN,MAAa;QACjC,IAAI9nB,IAAI;QACR,MAAOA,IAAIuZ,GAAKvZ,KAAK;YACnB,MAAMqoB,IAAaF,EAAenoB;YAClC,IAAIqoB,aAAsBrlB,SAAS;gBACjCklB,EAAY/nB,KAAK3B,KAAK8pB,GAAUD;gBAChC;AACD;YACD,MAAME,IAAexc,0BAA0Bsc,GAAY,MAAMjmB,GAAQ,MAAM5D;YAC/E,IAAI+pB,aAAwBvlB,SAAS;gBACnC,KAAKpB,0BAA0BymB,MAAeA,EAAW9lB,QAAQ,MAAM,MAAM,IAAIL,MAAMnE,WAAU;gBACjG,KAAK,MAAMwE,KAAQ1B,qBAAqBwnB,EAAW9lB,OAAO;oBACxD/D,KAAKgqB,GAAWjmB,GAAM8lB,EAAWnf,iBAAiB,OAAOqf;AAC1D;gBACD,MAAME,IAAMjqB,KAAKoc,YAAYnb;gBAC7B,MAAM5B,IAAI0qB,EAAaxK,MAAM+C,KACpBtiB,KAAKoc,YAAY6N,KAAO3H;gBAEjCtiB,KAAKoc,YAAYza,KAAKtC;gBACtB,IAAIuqB,GAAa;oBACfN,EAASQ,GAAUzqB;AACpB;gBACDqqB,EAAY/nB,KAAKtC,EAAEkgB,KAAK2K;gBACxB;AACD;YACD,KAAK,MAAMnmB,KAAQgmB,EAAahmB,QAAQmG,GAAY;gBAClDlK,KAAKgqB,GAAWjmB,GAAMgmB,EAAarf,eAAeqf;AACnD;YACD/pB,KAAKoc,YAAYza,KAAKooB;YACtB,IAAIH,GAAa;gBACfN,EAASQ,GAAUC;AACpB;AACF;QACD/pB,KAAK4oB,KAAyB;QAE9B,IAAIc,EAAYzoB,SAAS,GAAG;YAC1BjB,KAAKmoB,KAAe3jB,QAAQkf,IAAIgG,GAAanK,MAAK;gBAChDvf,KAAKmoB,KAAe;AAAI;AAE3B;AACF;IASM/nB,eAAeqM;QACpB,MAAMxN,IAASwN,EAAU+D,IAAIpK,GAASC,QAAQ;QAE9C,KAAKoG,EAAUoT,IAAIsK,GAAU,OAAO;YAClC1qB,YAAY,IAAIiE,MAAMnE,mBAAiCN;AACxD;QAED,IAAIwN,EAAUoT,IAAIC,IAAe,OAAO;YACtCrgB,YAAY,IAAIiE,MAAMnE,mBAAsCN;AAC7D;QAED,OAAMoV,YAAEA,KAAe5H,EAAU+D,IAAI2Z;QACrC,IAAI9V,WAAoB,GAAG;YACzB5U,YAAY,IAAIiE,MAAMnE,mBAAkCN;AACzD;QAED,MAAMge,IAASxQ,EAAU+D,IAAI0M;QAC7B,OAAO/Q,EACL8Q,EAAOE,gBACL,MACA9I,EAAWmS,YACXnS,EAAW+V,WACX/V,EAAW5H,WACX,MACA,MACA,QAEF+V;YACE/V,EAAUD,SAASyU,EAAalV,SAAS+T,IAAe0C;YACxDA,EAAa5M,OAAOqH,EAAOkC,UAAUtX;AAAI;AAG9C;IAEMzH,eAAeyH,GAAqBzG;QACzC,MAAMipB,IAAgBxiB,EAAK4E;QAC3B,MAAMxN,IAASorB,EAAc7Z,IAAIpK,GAASC,QAAQ;QAElD,IAAIjF,KAAW,MAAM;YAEnB,OAAOyG;AACR;QAED,IAAIzG,aAAmB+f,cAAc;YAEnC,OAAO/f;AACR;QAED,IAAIA,aAAmBipB,EAAc7Z,IAAIqQ,GAAWyJ,MAAM;YAExD;gBAME,MAAMjW,IAAa/J,EAAcigB,IAAInpB,GAAS;oBAAEopB,eAAe;;gBAC/D,OAAOnW,EAAW5H,UAAU+D,IAAIsP;AAIjC,cAHC,OAAOpgB;gBACPV,MAAMC,GAAoC,MAAAmC,EAAQqpB,UAAU/qB;gBAC5D,MAAMA;AACP;AACF;QAED,IAAIuD,EAAyB7B,IAAU;YACrC,MAAMiT,IAAajT,EAAQspB;YAE3B,OAAOrW,EAAW5H,UAAU+D,IAAIsP;AACjC;QAED,IAAI6K,EAA0BvpB,IAAU;YACtC,MAAMiT,IAAajT;YAEnB,OAAOiT,EAAW5H,UAAU+D,IAAIsP;AACjC;QAEDrgB,YAAY,IAAIiE,MAAMnE,WAA2C,MAAA0C,OAAOC,UAAUC,SAASC,KAAKhB,MAAYnC;AAC7G;IAEMqG;QACLtF,KAAKyM,UAAUnH;AAChB;IAGM0X,GAAsB9H;QAG3B,MAAM0V,IAAQ5qB,KAAK2oB,GAAqB1a,MAAKtI,KAAcA,EAAEsP,GAASC;QAEtE,IAAI0V,WAAe,GAAG,MAAM,IAAIlnB,MAAMnE,WAAoC,MAAA2V,GAAKlV,KAAK6qB;QAEpF,OAAOD;AACR;IAEMrU;QACL,OAAOvW,KAAK2oB,GAAqBpR,QAAO5R,KAAKA,EAAEwP;AAChD;IAEM8G,yBAAyB1V;QAC9B,OAAOvG,KAAK2oB,GAAqB1a,MAAKtI,KAAKA,EAAEwP,QAAkBxP,EAAEiF,SAASrE,SAASA,KAAQZ,EAAEiF,SAASG,aAAa,QAAO;AAC3H;IAUMiL,GAAsBvC,GAA0CxH;QAGrEjM,KAAKipB,GAAwB6B,QAAQrX;QACrC,MAAMhH,IAAYzM,KAAKyM;QACvB,MAAMyV,IAAoBzV,EAAU+D,IAAqBvE,EAAU3H,UAAUzB;QAE7E,MAAMkoB,IAA6B/qB,KAAK4oB,UAC/B,IACLzc,EACAoB,0BAA0B2U,GAAmB,OAAOliB,KAAK4D,QAAQqI,GAAW,QAC5ErI,KAAU5D,KAAKypB,GAAe7lB;QAElC,OAAOuI,EAAU4e,IAAM;YACrB,MAAM1W,IAAaC,EAAW0W,IAAIve,GAAWyV,GAAmBzO,EAAewX,MAAM;YACrF,MAAMC,IAAiB,IAAIxE,eAAexE,GAAmB7N,GAAYpI,GAAWjM,MAAMA,KAAK0oB,GAAQ1X;YAEvGhR,KAAKipB,GAAwB3jB;YAE7B,OAAO4lB;AAAc;AAExB;IAGMC,GAAkBvgB;QACvB,MAAMggB,IAAQvX,cAAckX,IAAI3f,GAAU5K;QAC1C,IAAIA,KAAK2oB,GAAqBlT,SAASmV,IAAQ;YAE7C,OAAOA;AACR;QAGD5qB,KAAK2oB,GAAqBhnB,KAAKipB;QAC/B,OAAOA;AACR;IAGMQ,GAAoBxgB;QACzB,MAAMggB,IAAQvX,cAAckX,IAAI3f,GAAU5K;QAC1C,KAAKA,KAAK2oB,GAAqBlT,SAASmV,IAAQ;YAE9C;AACD;QAED5qB,KAAK2oB,GAAqB/mB,OAAO5B,KAAK2oB,GAAqBvkB,QAAQwmB,IAAQ;AAC5E;IAEM9O,UAAU/X,GAAcsnB,IAA0B;QAGvD,IAAIC,IAA0BtrB;QAC9B,IAAIurB,IAAY;QAChB,IAAIhb,IAAqE;QACzE,OAAOgb,GAAW;YAChBhb,IAAS+a,EAASlC,GAAYtN,UAAU/X;YACxC,IAAIwM,MAAW,MAAM;gBACnB,KAAK8a,KAAkBC,EAAS5Q,QAAQ,OAAO;gBAC/C4Q,IAAWA,EAAStf;AACrB,mBAAM;gBACLuf,IAAY;AACb;AACF;QAED,OAAO,IAAIjN,iBACT/N,GACAib,QAAQ3L,IAAItP,EAAQ3E,QAAQmN,KACvBxI,EAAQ3E,OAAOmN,MAAY,OAC5B;AAEP;IAKO+Q,GAAUtc;QAEhB,OAAOrB,EACLoB,0BAA0BC,GAAW,MAAMxN,KAAK4D,QAAQ,MAAM5D,QAC9DsiB;YACE,KAAK,MAAMve,KAAQue,EAASve,QAAQmG,GAAY;gBAC9ClK,KAAKgqB,GAAWjmB,GAAMue,EAAS5X,eAAe4X;AAC/C;YACDtiB,KAAKwoB,IAAkBsB,GAAUxH;YACjCtiB,KAAKoc,YAAYza,KAAK2gB;AAAS;AAEpC;IAGO0H,GAAWjmB,GAAc2G,GAAwBkS;QACvD5c,KAAKopB,GAAYqC,IAAI;YACnB1nB;YACA2G;YACAkS;WACC;AACJ;IAGM1O,GAAakR;QAClB,OAAOpf,KAAK6oB,GAAcjH,KAAKxC,IAAS7d;YAEtC,MAAMmqB,IAAMnqB,EAAEmqB;YACd,WAAWA,MAAQ,YAAY;gBAC7B,MAAMC,IAAMhf,EAASC,SAASgf,OAAOF,GAAsBzd,KAAK4d;gBAChE,IAAIF,WAAa,GAAG,OAAOA;AAC5B;YAED,IAAIG,SAA0D;YAC9D,IAAIC,SAAkE;YACtE,KAAK,MAAMC,KAAQzqB,EAAE0qB,OAAO;gBAC1B,IAAID,EAAKE,iBAAiB;oBACxB,MAAMP,IAAMK,EAAKG,YAAYle,KAAK4d;oBAClC,IAAIF,WAAa,GAAG;wBAClB,IAAIK,EAAKnpB,QAAQ,WAAW;4BAC1BipB,IAAgBH;AACjB,+BAAM,IAAII,WAA+B,GAAG;4BAC3CA,IAAwBJ;AACzB;AACF;AACF;AACF;YAED,IAAIG,WAAuB,KAAKC,WAA+B,GAAG,MAAM,IAAIroB,MAAMnE,iBAAuC6f;YAEzH,OAAO2M,KAAyBD;AAAc;AAEjD;IAMMnQ,GAA6BjO;QAClC,KAAKsa,mBAAmBta,IAAc,OAAO;QAC7C,MAAMpJ,IAAYoJ,EAAYpJ;QAC9B,IAAI8nB;QACJ,IAAIC,IAAsB;QAC1B,IAAI/nB,aAAqB6F,aAAa;YACpCiiB,IAAQ9nB,EAAUP;YAClBsoB,IAAa;AACd,eAAM,WAAW/nB,MAAc,UAAU;YACxC,MAAM+d,IAAariB,KAAKoc,YAA8BnO,MAAKtI,KAAKA,EAAEkB,OAAOvC;YACzE,IAAI+d,WAAmB,GAAG,OAAO;YACjC+J,IAAQ/J,EAAUte;AACnB,eAAM,IAAKO,EAAiDwJ,SAAI,GAAuC;YACtG,MAAMuU,IAAariB,KAAKoc,YAA8BnO,MAAKtI,KAAKA,EAAEkB,OAAQvC,EAAiDxC;YAC3H,IAAIugB,WAAmB,GAAG,OAAO;YACjC+J,IAAQ/J,EAAUte;AACnB,eAAM;YAEL,MAAM0Y,IAAO7O,+BAA+BtJ,GAAWtE,MAA2E;YAClIosB,IAAQpsB,KAAKoc,YAAY5F,QAAO,CAACC,GAAK9Q;gBACpC,IAAKA,EAAkBrB,cAAcmY,EAAItR,MAAM;oBAC7CsL,EAAI9U,QAASgE,EAAkB5B;AAChC;gBACD,OAAO0S;AAAG,gBACT;YACH4V,IAAa;AACd;QACD,IAAID,WAAe,GAAG,OAAO;QAE7B,MAAMxgB,IAAS8B,EAAY9B;QAC3B,MAAM0gB,IAAatsB,KAAKopB;QACxB,MAAMmD,IAAWH,EAAMnrB;QACvB,MAAMurB,IAAmB;QACzB,IAAIjc,IAAkC;QACtC,IAAIgc,MAAa,GAAG;YAClB,MAAMhc,IAASkc,KAAKL,EAAM;YAC1B,IAAI7b,MAAW,MAAM;gBACnB,IAAI8b,GAAY,MAAM,IAAI3oB,MAAMnE,WAAU,MAAqCmO,GAAa8e;gBAE5F,OAAO;AACR;YACD,OAAO;gBACLnW,IAAIpE,oBAAoB7D,OAAO;oBAC7BwL,iBAAiB,IAAI0E,iBAAiB,IAAIC,EAAgBhO,EAAOsJ,UAAUtJ,EAAOmc,WAAW;oBAC7FpoB,WAAWiM,EAAOxM;oBAClBuH,UAAWoC,EAAqCpC;oBAChDV,UAAW8C,EAAqC9C;oBAChDyG,MAAO3D,EAA6C2D;oBACpDC,OAAQ5D,EAA6C4D;;gBAEvD3O,OAAO4N,EAAO5N;;AAEjB;QAED,IAAIgqB,IAAW;QACf,KAAK,IAAInrB,IAAI,GAAGA,IAAI+qB,GAAU/qB,KAAK;YACjC,MAAMsmB,IAAM2E,KAAKL,EAAM5qB;YACvB,IAAIsmB,MAAQ,MAAM;YAClB,IAAIvX,MAAW,MAAM;gBACnBA,IAASuX;gBACT6E,IAAW1qB,OAAO6B,KAAKgkB,EAAI4E,UAAUzrB;AACtC,mBAAM,IAAIgB,OAAO6B,KAAKgkB,EAAI4E,UAAUzrB,SAAS0rB,GAAU;gBACtDpc,IAASuX;AACV;AACF;QAED,IAAIvX,MAAW,MAAM;YACnB,IAAI8b,GAAY,MAAM,IAAI3oB,MAAMnE,WAAU,MAAqCmO,GAAa8e;YAE5F,OAAO;AACR;QACD,OAAO;YACLnW,IAAIpE,oBAAoB7D,OAAO;gBAC7BwL,iBAAiB,IAAI0E,iBAAiB,IAAIC,EAAgBhO,EAAOsJ,UAAUtJ,EAAOmc,WAAW;gBAC7FpoB,WAAWiM,EAAOxM;gBAClBuH,UAAWoC,EAAqCpC;gBAChDV,UAAW8C,EAAqC9C;gBAChDyG,MAAO3D,EAA6C2D;gBACpDC,OAAQ5D,EAA6C4D;;YAEvD3O,OAAO4N,EAAO5N;;QAUhB,SAAS8pB,KAAK1oB;YACZ,MAAM8V,IAAWyS,EAAWM,YAAY7oB;YACxC,IAAI8V,MAAa,MAAM;gBACrB2S,EAAO7qB,KAAK,oCAAoCoC;gBAChD,OAAO;AACR;YACD,MAAM2oB,IAAmBzqB,OAAOmM,OAAO;YACvC,KAAK,MAAMye,KAAShT,EAASjO,QAAQ;gBACnC,MAAM/I,IAAMgqB,EAAMtmB;gBAClB,IAAIzE,IAAQ8J,EAAO/I;gBACnB,IAAIf,KAAS,QAAQxC,OAAOwC,GAAOb,WAAW,GAAG;oBAC/C,KAAK4rB,EAAMC,YAAY;wBACrBN,EAAO7qB,KAAK,wCAAwCkB,iCAAmCkB;wBACvF,OAAO;AACR;oBACDjC,IAAQ;AACT,uBAAM;oBACL4qB,EAAS7pB,KAAOf;AACjB;gBAED,MAAMirB,IAAUF,EAAMta,SAClB,IAAI1P,MACJgqB,EAAMC,aACJ,IAAIjqB,OACJ,IAAIA;gBAEVkB,IAAOA,EAAKipB,QAAQD,GAAStI,mBAAmB3iB;AACjD;YACD,MAAMmrB,IAAehrB,OAAO6B,KAAK4oB;YACjC,MAAM/pB,IAAQV,OAAOirB,YAAYjrB,OAAOa,QAAQ8I,GAAQ2L,QAAO,EAAE1U,QAAUoqB,EAAaxX,SAAS5S;YACjG,OAAO;gBAAEkB,MAAMA,EAAKipB,QAAQ,SAAS;gBAAMnT;gBAAU6S;gBAAU/pB;;AAChE;AACF;IAGMR;QACL,MAAMgrB,IAAWntB,KAAK2oB;QACtB,MAAMyE,IAAYD,EAAS/tB,IAAIE,QAAQE,KAAK;QAC5C,OAAO,YAAYQ,KAAKmU,kBAA6BiZ;AACtD;IAGOvC;QACN,MAAMhQ,IAAiB;QACvB,KAAK,IAAIrZ,IAAI,GAAGA,IAAIxB,KAAK+D,KAAK9C,UAAUO,GAAG;YACzCqZ,EAAKlZ,KAAK,GAAG,IAAI4jB,OAAO/jB,KAAKxB,KAAK+D,KAAKvC;AACxC;QACD,OAAOqZ,EAAKrb,KAAK;AAClB;;;AAGH,SAASqsB,0BAA0B/pB;IACjC,OAAOwI,EAAciC,OAAOzK,EAAMqJ;AACpC;;MAEamT;IACX1e,YACkBsE,GACAkS;QADApW,KAAKkE,QAALA;QACAlE,KAAOoW,UAAPA;AACb;IAEEjU;QACQ,OAAO;AAIrB;;;AAcH,MAAMonB;IAEJ3pB,YACkBkL;QAAA9K,KAAM8K,SAANA;QAFV9K,KAAQqtB,UAA8B;AAGzC;IAEEpnB;QACL,OAAOkG,EAAUnM,KAAKqtB,IAAUnD;AACjC;IAGMV,GAAavM,GAAiB7b;aAC9B+K,EAAUnM,KAAKqtB,KAAU;YAC5B,KAAK,MAAMnpB,KAASlE,KAAK8K,QAAQ;gBAC/B5G,EAAMslB,GAAavM,GAAQ7b;AAC5B;AAAA;AAEJ;IAGM0oB,GAAU5lB;QACf,MAAM4G,IAAS9K,KAAK8K;QACpB,MAAM5G,aAAiBM,UAAU;YAC/B,KAAKN,EAAM8G,OAAO,UAAU9G,EAAMuG,eAAe,MAAM;gBACrDK,EAAOnJ,KAAK2rB,gBAAgBpgB,EAAQhJ;AACrC;YACD;AACD;QACD,MAAM8F,IAAQc,EAAO7J;QACrB6J,EAAOnJ,UAAW;QAClB,IAAIyd,SAAqC;QACzCA,IAAUpf,KAAKqtB,KAAWlhB,EAAUnM,KAAKqtB,KAAU,MACjDlhB,EAAUjI,IAAOoe;YACf,IAAIA,EAAStX,OAAOsX,EAAS7X,eAAe,MAAM;gBAChDK,EAAOd,KAASsjB,gBAAgBpgB,EAAQoV;AACzC,mBAAM;gBACLxX,EAAOlJ,OAAOoI,GAAO;AACtB;YACD,IAAIhK,KAAKqtB,OAAajO,GAAS;gBAC7Bpf,KAAKqtB,UAAgB;AACtB;AAAA;AAGN;;;AAWH,MAAMC;IAGJ1tB,YACkBiH,GACA9C,GACAgF,GACA8B;QAHA7K,KAAE6G,KAAFA;QACA7G,KAAI+D,OAAJA;QACA/D,KAAK+I,QAALA;QACA/I,KAAI6K,OAAJA;QALV7K,KAAMutB,KAAqC;AAM9C;IAGEntB,SAAekiB;QACpB,OAAO,IAAIgL,gBACThL,EAASzb,IACTxE,qBAAqBigB,EAASve,QAAQmG,IACtCoY,EAASvZ,OACTuZ,EAASzX;AAEZ;IAEUmX;QACT,OAAOhiB,KAAK2T;AACb;IAGM6V,GAAavM,GAAiB7b;QACnC,IAAIosB,IAAQxtB,KAAKutB;QACjB,IAAIC,MAAU,MAAM;YAClB,MAAM/L,IAAgBxE,EAAOjM;YAC7Bwc,IAAQxtB,KAAKutB,KAASvtB,KAAK+D,KAAK3E,KAAIC;gBAClC,MAAMouB,IAAKrsB,EAAQgoB,GAAYwD,YAAYvtB;gBAC3C,IAAIouB,MAAO,MAAM,MAAM,IAAI/pB,MAAMnE,iBAAgCF;gBACjE,OAAO,IAAI4R,wBACT+O,kBAAkB5R,OAAOqT,GAAe;oBAAErgB;oBAC1C,OACA,EACE6Q,oBAAoB7D,OAAO;oBACzBwL,iBAAiB,IAAI0E,iBAAiB,IAAIC,EAAgBkP,GAAItU,IAAc;oBAC5E7U,WAAWjF;sBAGf6Z,GACA;AACD;AAEJ;QACDlZ,KAAK2T,KAAY6Z,EAAMze,MAAKuU,KAAOrG,EAAOkC,UAAU/F,SAASkK,GAAK;AACnE;;;ACluBI,SAASoK,WAAWC,GAAYrgB,GAAQzK,GAAK+qB;IAChD,IAAIvT,IAAIwT,UAAU5sB,QAAQga,IAAIZ,IAAI,IAAI/M,IAASsgB,MAAS,OAAOA,IAAO3rB,OAAO6rB,yBAAyBxgB,GAAQzK,KAAO+qB,GAAMG;IAC3H,WAAWvC,YAAY,mBAAmBA,QAAQwC,aAAa,YAAY/S,IAAIuQ,QAAQwC,SAASL,GAAYrgB,GAAQzK,GAAK+qB,SACpH,KAAK,IAAIpsB,IAAImsB,EAAW1sB,SAAS,GAAGO,KAAK,GAAGA,KAAK,IAAIusB,IAAIJ,EAAWnsB,IAAIyZ,KAAKZ,IAAI,IAAI0T,EAAE9S,KAAKZ,IAAI,IAAI0T,EAAEzgB,GAAQzK,GAAKoY,KAAK8S,EAAEzgB,GAAQzK,OAASoY;IAChJ,OAAOZ,IAAI,KAAKY,KAAKhZ,OAAOgsB,eAAe3gB,GAAQzK,GAAKoY,IAAIA;AAChE;;AC/Ba,IAAAiT,KAAN,MAAMA;IAANtuB;QACYI,KAAIuG,OAAW8E;QACfrL,KAAMuV,SAAW;QACjBvV,KAAO0W,UAAW;QAClB1W,KAAQ+K,WAAiC;QAEjC/K,KAAMmuB,UAAwB;QAC9BnuB,KAAW4mB,UAAmC;QAGtD5mB,KAAA0f,KAAsBzZ,EAAQ6Z;QAE9B9f,KAAAmG,IAAkCF,EAAQG,GAASC,QAAQ,eAAerG,KAAK0f,GAAKvL;AA0DtG;IAvDQ9H,GAAaC,GAA2CL,GAAsB7K;QACnF,MAAM2J,IAAW/K,KAAK+K;QACtB,cAAcA,MAAa,eACrBT,EAAciC,OAAOxB,KACtBA,EAA8BuB,GAAqBL,GAAW7K,KAC/D2J;AACL;IAEMqjB,SAAS/Z;QAGdrU,KAAK4mB,KAAcvS;QACnBrU,KAAKmuB,KAASnuB,KAAK0f,GAAKyL,GAAkBnrB;AAC3C;IAEMquB,UAAU5Z,GAAgC6Z;QAG/C,OAAOtuB,KAAKmuB,GAAO3Z,GAAsBC,GAAWzU,KAAK4mB;AAC1D;IAEM2H,UAAU9Z,GAAgC6Z;QAG/C,OAAOtuB,KAAKmuB,GAAOpZ,GAAwBN,GAAWzU,KAAK4mB;AAC5D;IAEMthB;QAGLtF,KAAK0f,GAAK0L,GAAoBprB;QAC9BA,KAAKmuB,GAAOnX;QACZhX,KAAKmuB,UAAe;AACrB;IAGMhsB;QACL,MAAMqsB,IAAwB;QAC9B,KAAK,MAAM/qB,KAAQuX,IAAO;YACxB,MAAMlZ,IAAQ9B,KAAKyD;YAGnB,eAAe3B;cACb,KAAK;gBACH,IAAIA,MAAU,IAAI;oBAChB0sB,EAAY7sB,KAAK,GAAG8B,MAAS3B;AAC9B;gBACD;;cACF;gBAAS;oBACP0sB,EAAY7sB,KAAK,GAAG8B,KAAQnE,OAAOwC;AACpC;;AAEJ;QACD,OAAO,WAAW9B,KAAK0f,GAAKvL,OAAkBqa,EAAYhvB,KAAK;AAChE;;;AApEgBkuB,WAAA,EAAhBe,KAAmDP,GAAAhsB,WAAA,aAAA;;AACnCwrB,WAAA,EAAhBe,KAAoCP,GAAAhsB,WAAA,eAAA;;AACpBwrB,WAAA,EAAhBe,KAAqCP,GAAAhsB,WAAA,gBAAA;;AACrBwrB,WAAA,EAAhBe,KAA4DP,GAAAhsB,WAAA,iBAAA;;AAJlDgsB,KAAqBR,WAAA,EADjCgB,EAAc;IAAEnoB,MAAM;MACV2nB;;AAwEb,MAAMlT,KAAQ,EACZ,QACA,UACA,WACA;;ACvFW,IAAA2T,KAAN,MAAMA;IAgCX/uB;QA9BkCI,KAAG4uB,KAAuB3oB,EAA4B4oB;QACtD7uB,KAAO0oB,KAAYziB,EAAQiX;QAC3Bld,KAAI0f,KAAkBzZ,EAAQ6Z;QAC9B9f,KAAOkF,IAAkBe,EAAQT;QACjCxF,KAAY8gB,KAAqB7a,EAAQyB;QASpE1H,KAAS8uB,YAAW;QAGpB9uB,KAAM+uB,SAAY;QAQA/uB,KAAAgvB,KAAuB;QACvBhvB,KAAAmgB,KAAgD;QAChDngB,KAAAivB,KAA6C;QA8ErDjvB,KAAAkvB,UAAW5N;YAC1B,IAAIthB,KAAKmgB,OAAkB,MAAM;gBAC/B;AACD;YAGD,IAAImB,EAAE6N,UAAU7N,EAAE8N,WAAW9N,EAAE+N,YAAY/N,EAAEgO,WAAWhO,EAAEiO,WAAW,GAAG;gBACtE;AACD;YAEDjO,EAAEkO;iBAEGxvB,KAAK0oB,GAAQ9G,KAAK5hB,KAAKmgB,IAAe;gBAAE/e,SAASpB,KAAKoB;;AAAU;QArFrE,MAAMquB,IAAKzvB,KAAK4uB;QAEhB5uB,KAAK0vB,MAAcD,EAAGE,aAAa,gBAAgBF,EAAGE,aAAa;QACnE3vB,KAAK4vB,KAAe5vB,KAAK0oB,GAAQ1X,QAAQgU;AAC1C;IAEM6K;QACL,IAAI7vB,KAAK0vB,IAAY;YACnB1vB,KAAK4uB,GAAInmB,iBAAiB,SAASzI,KAAKkvB;AACzC;QACDlvB,KAAK8vB;QACL9vB,KAAKivB,KAAyBjvB,KAAKkF,EAAQsB,UAAU,6BAA4BupB;YAC/E,MAAMhB,IAAS/uB,KAAK+uB,SAAS/uB,KAAKmgB,OAAkB,QAAQngB,KAAK0oB,GAAQ1G,SAAShiB,KAAKmgB,IAAengB,KAAKoB;YAC3G,MAAM4jB,IAAchlB,KAAK4vB;YACzB,IAAI5K,MAAgB,MAAM;YAC1BhlB,KAAK4uB,GAAIoB,UAAUC,OAAOjL,GAAa+J;AAAO;AAEjD;IAEMV;QACL,MAAM3a,IAAM1T,KAAKoB;QACjB,MAAMge,IAAU1L,EAAKwC;QACrB,IAAIkJ,MAAY,MAAM;YACpB,OAAOA,EAAQG,MAAK;gBAClBvf,KAAK8vB;AAAc;AAEtB;AACF;IAEMI;QACL,IAAIlwB,KAAK0vB,IAAY;YACnB1vB,KAAK4uB,GAAIjmB,oBAAoB,SAAS3I,KAAKkvB;AAC5C;QACDlvB,KAAKivB,GAAwB3pB;AAC9B;IAEMwqB;QACL,MAAM7S,IAASjd,KAAK0oB;QACpB,MAAM1X,IAAUiM,EAAOjM;QACvB,MAAM1M,IAAYtE,KAAKkE;QAEvB,IAAIwP,IAAM1T,KAAKoB;QACf,IAAIsS,WAAa,GAAG;YAClBA,IAAM1T,KAAKoB,UAAUpB,KAAK0f;AAC3B,eAAM,IAAIhM,MAAQ,MAAM;YACvBA,IAAM1T,KAAKoB,UAAUpB,KAAK0f,GAAK7X;AAChC;QACD,IAAIvD,KAAa,QAAQoP,EAAIwC,gBAAgB,MAAM;YACjD,MAAMtK,IAAS5L,KAAK4L;YACpB,MAAM1E,IAAelH,KAAKmgB,KAAgBlD,EAAO8E,kCACxCnW,MAAW,YAAYA,MAAW,OACrC;gBAAEtH;gBAAWsH;gBACbtH,GACJ;gBAAElD,SAASsS;;YACb1T,KAAKgvB,KAAQ9nB,EAAa0c,MAAM,OAAO5S,EAAQ6S;AAChD,eAAM;YACL7jB,KAAKmgB,KAAgB;YACrBngB,KAAKgvB,KAAQ;AACd;QAED,MAAM3a,IAAa/J,EAAcigB,IAAIvqB,KAAK4uB,IAAK;YAAEuB,UAAU;;QAC3D,IAAI9b,MAAe,MAAM;YACtBA,EAAW+V,UAAyBpqB,KAAK8uB,aAAa9uB,KAAKmgB;AAC7D,eAAM;YACL,IAAIngB,KAAKgvB,OAAU,MAAM;gBACvBhvB,KAAK4uB,GAAIwB,gBAAgBpwB,KAAK8uB;AAC/B,mBAAM;gBACL,MAAMhtB,IAAQkP,EAAQzI,qBAAqBvI,KAAKgvB,KAAQhvB,KAAK8gB,GAAa9X,YAAYhJ,KAAKgvB;gBAC3FhvB,KAAK4uB,GAAIyB,aAAarwB,KAAK8uB,WAAWhtB;AACvC;AACF;AACF;;;AA/FM4rB,WAAA,EADNe,EAAS;IAAE6B,MAAI;IAAsBC,SAAS;IAAM9pB,UAAU;MACzCkoB,GAAAzsB,WAAA,cAAA;;AAGfwrB,WAAA,EADNe,EAAS;IAAE6B,MAAI;IAAsB7pB,UAAU;MACzBkoB,GAAAzsB,WAAA,eAAA;;AAGhBwrB,WAAA,EADNe,EAAS;IAAE6B,MAAI;MACkB3B,GAAAzsB,WAAA,kBAAA;;AAG3BwrB,WAAA,EADNe,EAAS;IAAE6B,MAAI;MACe3B,GAAAzsB,WAAA,eAAA;;AAMxBwrB,WAAA,EADNe,EAAS;IAAE6B,MAAI;IAAsB7pB,UAAU;MACjBkoB,GAAAzsB,WAAA,gBAAA;;AAxBpBysB,KAAmBjB,WAAA,EAD/B8C,EAAgB,WACJ7B;;ACaA,IAAA8B,KAAN,MAAMA;IAaCC;QACV,OAAO1wB,KAAK4uB,GAAIe,aAAa,eAAe3vB,KAAK4uB,GAAIe,aAAa;AACnE;IAID/vB;QAjBiCI,KAAG4uB,KAAuB3oB,EAA4B4oB;QACtD7uB,KAAO0oB,KAAYziB,EAAQiX;QAC3Bld,KAAI0f,KAAkBzZ,EAAQ6Z;QAKvC9f,KAAA2wB,KAA0B;QAWhD,IACE3wB,KAAK0oB,GAAQ1X,QAAQ8T,WAErB9kB,KAAK4uB,GAAInE,aAAa,KACtB;YACA,MAAMmG,IAAa3qB,EAAQkC,GAAS5B;YAEpC,QAAQvG,KAAK4uB,GAAIiC,aAAa;cAC5B,KAAK;cACL,KAAKD;cACL,KAAK;gBACH5wB,KAAK0vB,KAAa;gBAClB;;cACF;gBACE1vB,KAAK0vB,KAAa;gBAClB;;AAEL,eAAM;YACL1vB,KAAK0vB,KAAa;AACnB;AACF;IAEMG;QACL,KAAK7vB,KAAK2wB,IAAgB;YACxB3wB,KAAK2wB,KAAiB;YACtB3wB,KAAK0vB,KAAa1vB,KAAK0vB,MAAcoB,EAAO9wB,KAAK4uB,IAAKmC,EAAgBxmB,cAAcokB,IAAqB9rB,SAAS;AACnH;QACD7C,KAAK8vB,aAAa9vB,KAAK8B;QACvB9B,KAAK4uB,GAAInmB,iBAAiB,SAASzI;AAEpC;IACMkwB;QAELlwB,KAAK4uB,GAAIjmB,oBAAoB,SAAS3I;AACvC;IAEM8vB,aAAakB;QAClB,IAAIA,KAAY,MAAM;YACpBhxB,KAAK4uB,GAAIwB,gBAAgB;AAC1B,eAAM;YACL,IAAIpwB,KAAK0oB,GAAQ1X,QAAQzI,sBACpBvI,KAAK0f,GAAKhF,WACT,QAAQuW,KAAKD,IACjB;gBACAA,IAAW,IAAIA;AAChB;YACDhxB,KAAK4uB,GAAIyB,aAAa,QAAQW;AAC/B;AACF;IAEMpoB,YAAY0Y;QACjBthB,KAAKkxB,GAAS5P;AACf;IAGO4P,GAAS5P;QAEf,IAAIA,EAAE6N,UAAU7N,EAAE8N,WAAW9N,EAAE+N,YAAY/N,EAAEgO,WAAWhO,EAAEiO,WAAW,KAEhEvvB,KAAK0wB,OACJ1wB,KAAK0vB,IACT;YACA;AACD;QAGD,MAAMjmB,IAAOzJ,KAAK4uB,GAAIiC,aAAa;QACnC,IAAIpnB,MAAS,MAAM;YACjB6X,EAAEkO;iBAEGxvB,KAAK0oB,GAAQ9G,KAAKnY,GAAM;gBAAErI,SAASpB,KAAK0f;;AAC9C;AACF;;;AArFMgO,WAAA,EADNe,EAAS;IAAE6B,MAAI;MACMG,GAAAvuB,WAAA,cAAA;;AAPXuuB,KAAmB/C,WAAA,EAD/B8C,EAAgB;IAAEjqB,MAAM;IAAQ4qB,iBAAiB;MACrCV;;ACjBN,MAAMW,KAAqBlU;;AAMrB,MAAAmU,KAAoB,EAC/BD;;AASK,MAAME,KAAoCpD;;AAC1C,MAAMqD,KAAkC5C;;AACxC,MAAM6C,KAAkCf;;AAOlC,MAAAgB,KAAgC,EAC3CvD,IACAS,IACA8B;;AAWF,SAASxjB,UAAUR,GAAuBuE;IACxC,IAAIpH,IAA0B;IAC9B,IAAI+U,EAAS3N,IAAU;QACrBpH,IAAYoH,EAAwCpH,YAAY;AACjE,WAAM;QACLoH,IAAU,CAAA;AACX;IACD,MAAMyQ,IAAgBoD,cAAczW,OAAO4C;IAC3C,OAAOvE,EAAUD,SACfyU,EAAayQ,eAAejqB,IAAW,CAACmV,GAAS5D,GAAG2Y;QAClD,MAAMC,IAAShV,EAAQpM,IAAIrI;QAC3B,MAAMrB,IAAM,IAAI+qB,IAAID,EAAO1N,SAAS4N;QACpChrB,EAAIoC,WAAWW,cAAcD,KAAY9C,EAAIoC;QAC7C,OAAOpC;AAAG,SAEZma,EAAalV,SAASzD,IAAgBmZ,IACtCR,EAAalV,SAAS8Y,eAAepD,IACrCsQ,EAAQ3D,SAASzN,GAAYQ,aAAa6Q,UAC1CD,EAAQE,UAAU/U,IAASD,KAAUA,EAAOnT,MAAM,SAClDioB,EAAQG,YAAYhV,IAASD;QAC3BA,EAAO4E;AAAM,YAEZwP,OACAI;AAEP;;AAEa,MAAAU,KAAsB;IACjC3lB,SAASC;QACP,OAAOQ,UAAUR;AAClB;IAMD2lB,UAAUphB;QACR,OAAO;YACLxE,SAASC;gBACP,OAAOQ,UAAUR,GAAWuE;AAC7B;;AAEJ;;;AC3FH,MAAMqhB;IAIJzyB,YAA4CgvB;QAAA5uB,KAAG4uB,KAAHA;QAC1C5uB,KAAKsyB,KAAO1D,EAAI2D;QAChBvyB,KAAKwyB,KAAQ5D,EAAI6D;AAClB;IAGMryB,UAAYqvB;QACjB,OAAOA,EAAG8C,YAAY,KAAK9C,EAAGgD,aAAa;AAC5C;IAGMC;QACL1yB,KAAK4uB,GAAI+D,SAAS3yB,KAAKwyB,IAAOxyB,KAAKsyB;QACnCtyB,KAAK4uB,KAAM;AACZ;;;AAGH,SAASgE,aAAa5rB;IACpBA,EAAM0rB;AACR;;AAEA,MAAMG;IAGJjzB,YAAmBqrB;QAFMjrB,KAAA8yB,KAA+B;QAGtD9yB,KAAK+yB,GAAM9H,EAAK3f;AACjB;IAGOynB,GAAMC;QACZ,IAAIvD;QACJ,KAAK,IAAIjuB,IAAI,GAAGuD,IAAKiuB,EAAS/xB,QAAQO,IAAIuD,KAAMvD,GAAG;YACjDiuB,IAAKuD,EAASxxB;YACd,IAAI6wB,YAAYY,GAAKxD,IAAK;gBACxBzvB,KAAK8yB,GAAcnxB,KAAK,IAAI0wB,YAAY5C;AACzC;YAEDzvB,KAAK+yB,GAAMtD,EAAGnkB;AACf;AACF;IAGMonB;QACL1yB,KAAK8yB,GAAclb,QAAQgb;QAC3B5yB,KAAK8yB,KAAgB;AACtB;;;MAGUI,mBAA6BztB,EAAGC,gBAA+B,kBAAiBC,KAAKA,EAAEC,UAAUutB;;MAMjGA;IAAbvzB;QACmBI,KAAAozB,KAAiD,IAAIhgB;AAavE;IAXQigB,UAAUhf;QACfrU,KAAKozB,GAAO3iB,IAAI4D,EAAW4W,MAAM,IAAI4H,iBAAiBxe,EAAW4W;AAClE;IAEM2H,aAAave;QAClB,MAAMrN,IAAQhH,KAAKozB,GAAO5iB,IAAI6D,EAAW4W;QACzC,IAAIjkB,WAAe,GAAG;YACpBA,EAAM0rB;YACN1yB,KAAKozB,GAAOE,OAAOjf,EAAW4W;AAC/B;AACF;;;"}