{"version":3,"file":"index.cjs","sources":["../../src/rule-interfaces.ts","../../../../node_modules/tslib/tslib.es6.js","../../src/rules.ts","../../src/rule-provider.ts","../../src/ast-serialization.ts","../../src/serialization.ts","../../src/validator.ts","../../src/configuration.ts"],"sourcesContent":[null,"/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n",null,null,null,null,null,null],"names":["IValidationExpressionHydrator","DI","createInterface","__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","IValidationMessageProvider","ValidationRuleAliasMessage","freeze","aliasKey","Protocol","annotation","keyFor","define","definition","setDefaultMessage","rule","aliases","append","defaultMessages","Metadata","getOwn","this","prototype","allMessages","fromEntries","map","name","defaultMessage","toArray","entries","Function","getDefaultMessages","get","validationRule","BaseValidationRule","constructor","messageKey","tag","canExecute","_object","execute","_value","Error","accept","_visitor","$TYPE","RequiredRule","super","value","test","visitor","visitRequiredRule","RegexRule","pattern","undefined","visitRegexRule","LengthRule","isMax","visitLengthRule","SizeRule","count","visitSizeRule","RangeRule","isInclusive","min","max","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","visitRangeRule","EqualsRule","expectedValue","visitEqualsRule","ICustomMessages","RuleProperty","expression","displayName","visitRuleProperty","validationRulesRegistrar","defaultRuleSetName","set","rules","keys","push","unset","slice","startsWith","endsWith","delete","index","indexOf","splice","isValidationRulesSet","some","ValidationMessageEvaluationContext","messageProvider","$displayName","$propertyName","$value","$rule","$object","$getDisplayName","propertyName","getDisplayName","PropertyRule","locator","validationRules","property","$rules","l","visitPropertyRule","addRule","getLeafRules","latestRule","depth","async","object","scope","Scope","create","rootObjectSymbol","astEvaluate","isValid","validateRuleset","validateRule","isValidOrPromise","Promise","message","messageEvaluationScope","getMessage","ValidationResult","promises","all","accumulateResult","results","result","reduce","acc","ruleset","then","accValidateResult","resolve","withMessageKey","assertLatestRule","withMessage","setMessage","when","condition","satisfies","satisfiesRule","required","matches","regex","email","emailPattern","minLength","maxLength","minItems","maxItems","constraint","range","between","equals","ensure","ensureObject","on","mixinAstEvaluator","ModelBasedRule","IValidationRules","ValidationRules","parser","deserializer","targets","Set","parsePropertyName","find","is","add","off","$targets","Array","from","$target","applyModelBasedRules","tags","has","console","warn","hydrateRuleset","IServiceLocator","IExpressionParser","classicAccessorPattern","arrowAccessorPattern","fn","toString","match","exec","substring","parse","valid","propertyRule","isManual","id","nextId","contextualProperties","ValidationMessageProvider","logger","customMessages","registeredMessages","WeakMap","scopeTo","parsedMessage","validationMessages","messageCount","m","parseMessage","parsed","$kind","expr","expressions","ancestor","PrimitiveLiteralExpression","words","split","join","charAt","toUpperCase","ILogger","astVisit","AST","ASTExpressionTypes","Deserializer","static","serializedExpr","raw","JSON","hydrate","AccessMemberExpression","AccessKeyedExpression","AccessThisExpression","AccessScopeExpression","ArrayLiteralExpression","elements","ObjectLiteralExpression","values","CallFunctionExpression","func","args","CallMemberExpression","CallScopeExpression","TemplateExpression","cooked","TaggedTemplateExpression","UnaryExpression","operation","BinaryExpression","left","right","ConditionalExpression","yes","no","AssignExpression","ValueConverterExpression","BindingBehaviorExpression","ArrayBindingPattern","ObjectBindingPattern","BindingIdentifier","ForOfStatement","declaration","iterable","semiIdx","Interpolation","DestructuringAssignment","DestructuringAssignmentExpression","list","source","initializer","DestructuringSingleAssignment","DestructuringAssignmentSingleExpression","DestructuringRestAssignment","DestructuringAssignmentRestExpression","indexOrProperties","ArrowFunction","parameters","body","rest","isArray","deserializeExpressions","deserializePrimitive","exprs","Serializer","visitAccessMember","visitAccessKeyed","visitAccessThis","visitAccessScope","visitArrayLiteral","serializeExpressions","visitObjectLiteral","serializePrimitives","visitPrimitiveLiteral","serializePrimitive","visitCallFunction","visitCallMember","visitCallScope","visitTemplate","visitTaggedTemplate","visitUnary","visitBinary","visitConditional","visitAssign","visitValueConverter","visitBindingBehavior","visitArrayBindingPattern","visitObjectBindingPattern","visitBindingIdentifier","visitForOfStatement","visitInterpolation","parts","visitDestructuringAssignmentExpression","visitDestructuringAssignmentSingleExpression","visitDestructuringAssignmentRestExpression","visitArrowFunction","visitCustom","Custom","text","ii","escapeString","str","ret","escape","ch","ValidationSerializer","flags","serializeNumber","serializedExpectedValue","stringify","serialize","serializeRules","num","ValidationDeserializer","container","json","astDeserializer","$raw","RegExp","ModelValidationExpressionHydrator","_raw","_validationRules","accRules","iterate","propertyPath","isModelPropertyRule","ruleName","ruleConfig","hydrateRule","propertyPrefix","hydrateRuleProperty","hydrateRequiredRule","hydrateRegexRule","hydrateLengthRule","hydrateSizeRule","hydrateRangeRule","hydrateEqualsRule","setCommonRuleProperties","rawName","ValidateInstruction","objectTag","propertyTag","IValidator","StandardValidator","instruction","validate","flat","getDefaultValidationConfiguration","ValidatorType","MessageProviderType","CustomMessages","HydratorType","createConfiguration","optionsProvider","register","options","Registration","instance","singleton","transient","customize","cb","ValidationConfiguration","noop"],"mappings":"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"}