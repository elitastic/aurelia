{"version":3,"file":"index.mjs","sources":["../../src/rule-interfaces.ts","../../../../node_modules/tslib/tslib.es6.js","../../src/rules.ts","../../src/rule-provider.ts","../../src/ast-serialization.ts","../../src/serialization.ts","../../src/validator.ts","../../src/configuration.ts"],"sourcesContent":[null,"/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport default {\r\n    __extends,\r\n    __assign,\r\n    __rest,\r\n    __decorate,\r\n    __param,\r\n    __metadata,\r\n    __awaiter,\r\n    __generator,\r\n    __createBinding,\r\n    __exportStar,\r\n    __values,\r\n    __read,\r\n    __spread,\r\n    __spreadArrays,\r\n    __spreadArray,\r\n    __await,\r\n    __asyncGenerator,\r\n    __asyncDelegator,\r\n    __asyncValues,\r\n    __makeTemplateObject,\r\n    __importStar,\r\n    __importDefault,\r\n    __classPrivateFieldGet,\r\n    __classPrivateFieldSet,\r\n    __classPrivateFieldIn,\r\n};\r\n",null,null,null,null,null,null],"names":["IValidationExpressionHydrator","DI","createInterface","__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","IValidationMessageProvider","ValidationRuleAliasMessage","freeze","aliasKey","Protocol","annotation","keyFor","define","definition","setDefaultMessage","rule","aliases","append","defaultMessages","Metadata","getOwn","this","prototype","allMessages","fromEntries","map","name","defaultMessage","toArray","entries","Function","getDefaultMessages","get","validationRule","BaseValidationRule","constructor","messageKey","tag","canExecute","_object","execute","_value","Error","accept","_visitor","$TYPE","RequiredRule","super","value","test","visitor","visitRequiredRule","RegexRule","pattern","undefined","visitRegexRule","LengthRule","isMax","visitLengthRule","SizeRule","count","visitSizeRule","RangeRule","isInclusive","min","max","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","visitRangeRule","EqualsRule","expectedValue","visitEqualsRule","ICustomMessages","RuleProperty","expression","displayName","visitRuleProperty","validationRulesRegistrar","defaultRuleSetName","set","rules","keys","push","unset","Array","isArray","slice","startsWith","endsWith","delete","index","indexOf","splice","isValidationRulesSet","some","ValidationMessageEvaluationContext","messageProvider","$displayName","$propertyName","$value","$rule","$object","$getDisplayName","propertyName","getDisplayName","PropertyRule","locator","validationRules","property","$rules","l","visitPropertyRule","addRule","getLeafRules","latestRule","depth","validate","object","scope","Scope","create","rootObjectSymbol","astEvaluate","isValid","validateRuleset","async","validateRule","isValidOrPromise","Promise","message","messageEvaluationScope","getMessage","ValidationResult","promises","all","accumulateResult","results","result","reduce","acc","ruleset","then","accValidateResult","resolve","withMessageKey","assertLatestRule","withMessage","setMessage","when","condition","satisfies","satisfiesRule","required","matches","regex","email","emailPattern","minLength","maxLength","minItems","maxItems","constraint","range","between","equals","ensure","ensureObject","on","mixinAstEvaluator","ModelBasedRule","IValidationRules","ValidationRules","parser","deserializer","targets","Set","parsePropertyName","find","is","add","off","$targets","from","$target","applyModelBasedRules","tags","has","console","warn","hydrateRuleset","IServiceLocator","IExpressionParser","classicAccessorPattern","arrowAccessorPattern","fn","toString","match","exec","substring","parse","valid","propertyRule","isManual","id","nextId","contextualProperties","ValidationMessageProvider","ValidationMessageProvider_1","logger","customMessages","registeredMessages","WeakMap","scopeTo","parsedMessage","validationMessages","messageCount","m","parseMessage","parsed","$kind","expr","expressions","ancestor","PrimitiveLiteralExpression","words","split","join","charAt","toUpperCase","ILogger","astVisit","AST","ASTExpressionTypes","Deserializer","deserialize","serializedExpr","raw","JSON","hydrate","AccessMemberExpression","AccessKeyedExpression","AccessThisExpression","AccessBoundaryExpression","AccessScopeExpression","ArrayLiteralExpression","elements","ObjectLiteralExpression","values","CallFunctionExpression","func","args","CallMemberExpression","CallScopeExpression","TemplateExpression","cooked","TaggedTemplateExpression","UnaryExpression","operation","BinaryExpression","left","right","ConditionalExpression","yes","no","AssignExpression","ValueConverterExpression","BindingBehaviorExpression","ArrayBindingPattern","ObjectBindingPattern","BindingIdentifier","ForOfStatement","declaration","iterable","semiIdx","Interpolation","DestructuringAssignment","DestructuringAssignmentExpression","list","source","initializer","DestructuringSingleAssignment","DestructuringAssignmentSingleExpression","DestructuringRestAssignment","DestructuringAssignmentRestExpression","indexOrProperties","ArrowFunction","parameters","body","rest","deserializeExpressions","deserializePrimitive","exprs","Serializer","serialize","visitAccessMember","visitAccessKeyed","visitAccessThis","visitAccessBoundary","visitAccessScope","visitArrayLiteral","serializeExpressions","visitObjectLiteral","serializePrimitives","visitPrimitiveLiteral","serializePrimitive","visitCallFunction","visitCallMember","visitCallScope","visitTemplate","visitTaggedTemplate","visitUnary","visitBinary","visitConditional","visitAssign","visitValueConverter","visitBindingBehavior","visitArrayBindingPattern","visitObjectBindingPattern","visitBindingIdentifier","visitForOfStatement","visitInterpolation","parts","visitDestructuringAssignmentExpression","visitDestructuringAssignmentSingleExpression","visitDestructuringAssignmentRestExpression","visitArrowFunction","visitCustom","Custom","text","ii","escapeString","str","ret","escape","ch","ValidationSerializer","flags","serializeNumber","serializedExpectedValue","stringify","serializeRules","num","ValidationDeserializer","ValidationDeserializer_1","register","container","json","astDeserializer","$raw","RegExp","ModelValidationExpressionHydrator","_raw","_validationRules","accRules","iterate","propertyPath","isModelPropertyRule","ruleName","ruleConfig","hydrateRule","propertyPrefix","hydrateRuleProperty","hydrateRequiredRule","hydrateRegexRule","hydrateLengthRule","hydrateSizeRule","hydrateRangeRule","hydrateEqualsRule","setCommonRuleProperties","rawName","ValidateInstruction","objectTag","propertyTag","IValidator","StandardValidator","instruction","flat","getDefaultValidationConfiguration","ValidatorType","MessageProviderType","CustomMessages","HydratorType","createConfiguration","optionsProvider","options","Registration","instance","singleton","transient","customize","cb","ValidationConfiguration","noop"],"mappings":"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","x_google_ignoreList":[1]}