{"version":3,"file":"index.cjs","sources":["../../src/utilities-di.ts","../../src/plugins/dialog/dialog-interfaces.ts","../../src/utilities.ts","../../src/plugins/dialog/dialog-controller.ts","../../src/plugins/dialog/dialog-service.ts","../../src/plugins/dialog/dialog-default-impl.ts","../../src/plugins/dialog/dialog-configuration.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["createInterface","DI","singletonRegistration","Registration","singleton","instanceRegistration","instance","callback","IDialogService","IDialogController","IDialogDomRenderer","IDialogDom","IDialogGlobalSettings","DialogOpenResult","constructor","wasCancelled","dialog","this","create","DialogCloseResult","status","value","createError","message","Error","isPromise","v","Promise","isFunction","DialogController","inject","IPlatform","IContainer","p","container","ctn","closed","resolve","reject","_resolve","_reject","activate","settings","createChild","model","template","rejectOnCancel","hostRenderer","get","dialogTargetHost","host","document","body","dom","render","rootEventTarget","has","IEventTarget","contentHost","contains","register","INode","r","cmp","Object","assign","getOrCreateVm","$dialog","canActivate","then","dispose","createDialogCancelError","onResolve","ctrlr","controller","Controller","$el","CustomElementDefinition","getDefinition","name","CustomElement","generateName","overlay","addEventListener","mouseEvent","e","deactivate","_closingPromise","deactivating","dialogResult","promise","canDeactivate","removeEventListener","catch","reason","ok","cancel","error","closeError","createDialogCloseError","handleEvent","event","overlayDismiss","target","Component","component","EmptyComponent","registerResolver","HTMLElement","Element","InstanceProvider","invoke","Ctor","isType","output","msg","DialogService","dlgs","_ctn","_defaultSettings","aliasTo","AppTask","dialogService","closeAll","openDialogController","length","controllers","slice","top","open","asDialogOpenPromise","$settings","DialogSettings","from","load","loadedSettings","dialogController","openResult","push","window","$removeController","remove","all","Array","map","result","unclosedControllers","filter","unclosed","idx","indexOf","splice","keyEvent","key","getActionKey","keyboard","includes","srcs","_validate","_normalize","loaded","maybePromise","onResolveAll","loadedCmp","loadedTpl","lock","whenClosed","onfulfilled","onrejected","code","keyCode","undefined","DefaultDialogGlobalSettings","startingZIndex","baseWrapperCss","DefaultDialogDomRenderer","wrapperCss","overlayCss","hostCss","dialogHost","doc","h","css","el","createElement","style","cssText","wrapper","appendChild","DefaultDialogDom","createDialogConfiguration","settingsProvider","registrations","creating","customize","cb","regs","DialogConfiguration","NoopDialogGlobalSettings","DialogDefaultConfiguration","noop"],"mappings":"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"}