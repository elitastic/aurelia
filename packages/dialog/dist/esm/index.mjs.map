{"version":3,"file":"index.mjs","sources":["../../src/utilities-di.ts","../../src/plugins/dialog/dialog-interfaces.ts","../../src/utilities.ts","../../src/plugins/dialog/dialog-controller.ts","../../src/plugins/dialog/dialog-service.ts","../../src/plugins/dialog/dialog-default-impl.ts","../../src/plugins/dialog/dialog-configuration.ts"],"sourcesContent":[null,null,null,null,null,null,null],"names":["createInterface","DI","singletonRegistration","Registration","singleton","instanceRegistration","instance","callback","IDialogService","IDialogController","IDialogDomRenderer","IDialogDom","IDialogGlobalSettings","DialogOpenResult","constructor","wasCancelled","dialog","this","static","DialogCloseResult","status","value","createError","message","Error","isPromise","v","Promise","isFunction","DialogController","inject","IPlatform","IContainer","p","container","ctn","closed","resolve","reject","_resolve","_reject","activate","settings","createChild","model","template","rejectOnCancel","hostRenderer","get","dialogTargetHost","host","document","body","dom","render","rootEventTarget","has","IEventTarget","contentHost","contains","register","INode","r","cmp","Object","assign","getOrCreateVm","$dialog","canActivate","then","dispose","createDialogCancelError","create","onResolve","ctrlr","controller","Controller","$el","CustomElementDefinition","getDefinition","name","CustomElement","generateName","overlay","addEventListener","mouseEvent","e","deactivate","_closingPromise","deactivating","dialogResult","promise","canDeactivate","removeEventListener","catch","reason","ok","cancel","error","closeError","createDialogCloseError","handleEvent","event","overlayDismiss","target","Component","component","EmptyComponent","registerResolver","HTMLElement","Element","InstanceProvider","invoke","Ctor","isType","output","msg","DialogService","dlgs","_ctn","_defaultSettings","aliasTo","AppTask","dialogService","closeAll","openDialogController","length","controllers","slice","top","open","asDialogOpenPromise","$settings","DialogSettings","from","load","loadedSettings","dialogController","openResult","push","window","$removeController","remove","all","Array","map","result","unclosedControllers","filter","unclosed","idx","indexOf","splice","keyEvent","key","getActionKey","keyboard","includes","srcs","_validate","_normalize","loaded","maybePromise","onResolveAll","loadedCmp","loadedTpl","lock","whenClosed","onfulfilled","onrejected","code","keyCode","undefined","DefaultDialogGlobalSettings","startingZIndex","baseWrapperCss","DefaultDialogDomRenderer","wrapperCss","overlayCss","hostCss","dialogHost","doc","h","css","el","createElement","style","cssText","wrapper","appendChild","DefaultDialogDom","createDialogConfiguration","settingsProvider","registrations","creating","customize","cb","regs","DialogConfiguration","NoopDialogGlobalSettings","DialogDefaultConfiguration","noop"],"mappings":"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"}